"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwebcli_demo"] = self["webpackChunkwebcli_demo"] || []).push([["vendors-node_modules_mermaid_dist_chunks_mermaid_core_gitGraphDiagram-NRZ2UAAF_mjs"],{

/***/ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-KFBOBJHC.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/mermaid/dist/chunks/mermaid.core/chunk-KFBOBJHC.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImperativeState: () => (/* binding */ ImperativeState)\n/* harmony export */ });\n/* harmony import */ var _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-6DBFFHIP.mjs */ \"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-6DBFFHIP.mjs\");\n\n\n// src/utils/imperativeState.ts\nvar ImperativeState = class {\n  /**\n   * @param init - Function that creates the default state.\n   */\n  constructor(init) {\n    this.init = init;\n    this.records = this.init();\n  }\n  static {\n    (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(this, \"ImperativeState\");\n  }\n  reset() {\n    this.records = this.init();\n  }\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2NodW5rcy9tZXJtYWlkLmNvcmUvY2h1bmstS0ZCT0JKSEMubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRThCOztBQUU5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksMkRBQU07QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViY2xpLWRlbW8vLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2NodW5rcy9tZXJtYWlkLmNvcmUvY2h1bmstS0ZCT0JKSEMubWpzP2MxZDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgX19uYW1lXG59IGZyb20gXCIuL2NodW5rLTZEQkZGSElQLm1qc1wiO1xuXG4vLyBzcmMvdXRpbHMvaW1wZXJhdGl2ZVN0YXRlLnRzXG52YXIgSW1wZXJhdGl2ZVN0YXRlID0gY2xhc3Mge1xuICAvKipcbiAgICogQHBhcmFtIGluaXQgLSBGdW5jdGlvbiB0aGF0IGNyZWF0ZXMgdGhlIGRlZmF1bHQgc3RhdGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihpbml0KSB7XG4gICAgdGhpcy5pbml0ID0gaW5pdDtcbiAgICB0aGlzLnJlY29yZHMgPSB0aGlzLmluaXQoKTtcbiAgfVxuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIkltcGVyYXRpdmVTdGF0ZVwiKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnJlY29yZHMgPSB0aGlzLmluaXQoKTtcbiAgfVxufTtcblxuZXhwb3J0IHtcbiAgSW1wZXJhdGl2ZVN0YXRlXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mermaid/dist/chunks/mermaid.core/chunk-KFBOBJHC.mjs\n");

/***/ }),

/***/ "./node_modules/mermaid/dist/chunks/mermaid.core/chunk-TMUBEWPD.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/mermaid/dist/chunks/mermaid.core/chunk-TMUBEWPD.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   populateCommonDb: () => (/* binding */ populateCommonDb)\n/* harmony export */ });\n/* harmony import */ var _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-6DBFFHIP.mjs */ \"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-6DBFFHIP.mjs\");\n\n\n// src/diagrams/common/populateCommonDb.ts\nfunction populateCommonDb(ast, db) {\n  if (ast.accDescr) {\n    db.setAccDescription?.(ast.accDescr);\n  }\n  if (ast.accTitle) {\n    db.setAccTitle?.(ast.accTitle);\n  }\n  if (ast.title) {\n    db.setDiagramTitle?.(ast.title);\n  }\n}\n(0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)(populateCommonDb, \"populateCommonDb\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2NodW5rcy9tZXJtYWlkLmNvcmUvY2h1bmstVE1VQkVXUEQubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRThCOztBQUU5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBTTs7QUFJSiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYmNsaS1kZW1vLy4vbm9kZV9tb2R1bGVzL21lcm1haWQvZGlzdC9jaHVua3MvbWVybWFpZC5jb3JlL2NodW5rLVRNVUJFV1BELm1qcz8xYzQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIF9fbmFtZVxufSBmcm9tIFwiLi9jaHVuay02REJGRkhJUC5tanNcIjtcblxuLy8gc3JjL2RpYWdyYW1zL2NvbW1vbi9wb3B1bGF0ZUNvbW1vbkRiLnRzXG5mdW5jdGlvbiBwb3B1bGF0ZUNvbW1vbkRiKGFzdCwgZGIpIHtcbiAgaWYgKGFzdC5hY2NEZXNjcikge1xuICAgIGRiLnNldEFjY0Rlc2NyaXB0aW9uPy4oYXN0LmFjY0Rlc2NyKTtcbiAgfVxuICBpZiAoYXN0LmFjY1RpdGxlKSB7XG4gICAgZGIuc2V0QWNjVGl0bGU/Lihhc3QuYWNjVGl0bGUpO1xuICB9XG4gIGlmIChhc3QudGl0bGUpIHtcbiAgICBkYi5zZXREaWFncmFtVGl0bGU/Lihhc3QudGl0bGUpO1xuICB9XG59XG5fX25hbWUocG9wdWxhdGVDb21tb25EYiwgXCJwb3B1bGF0ZUNvbW1vbkRiXCIpO1xuXG5leHBvcnQge1xuICBwb3B1bGF0ZUNvbW1vbkRiXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mermaid/dist/chunks/mermaid.core/chunk-TMUBEWPD.mjs\n");

/***/ }),

/***/ "./node_modules/mermaid/dist/chunks/mermaid.core/gitGraphDiagram-NRZ2UAAF.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/mermaid/dist/chunks/mermaid.core/gitGraphDiagram-NRZ2UAAF.mjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: () => (/* binding */ diagram)\n/* harmony export */ });\n/* harmony import */ var _chunk_TMUBEWPD_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-TMUBEWPD.mjs */ \"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-TMUBEWPD.mjs\");\n/* harmony import */ var _chunk_KFBOBJHC_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-KFBOBJHC.mjs */ \"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-KFBOBJHC.mjs\");\n/* harmony import */ var _chunk_7DKRZKHE_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-7DKRZKHE.mjs */ \"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-7DKRZKHE.mjs\");\n/* harmony import */ var _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-6DBFFHIP.mjs */ \"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-6DBFFHIP.mjs\");\n/* harmony import */ var _mermaid_js_parser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mermaid-js/parser */ \"./node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs\");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! d3 */ \"./node_modules/d3/src/index.js\");\n\n\n\n\n\n// src/diagrams/git/gitGraphParser.ts\n\n\n// src/diagrams/git/gitGraphTypes.ts\nvar commitType = {\n  NORMAL: 0,\n  REVERSE: 1,\n  HIGHLIGHT: 2,\n  MERGE: 3,\n  CHERRY_PICK: 4\n};\n\n// src/diagrams/git/gitGraphAst.ts\nvar DEFAULT_GITGRAPH_CONFIG = _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.defaultConfig_default.gitGraph;\nvar getConfig3 = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => {\n  const config = (0,_chunk_7DKRZKHE_mjs__WEBPACK_IMPORTED_MODULE_2__.cleanAndMerge)({\n    ...DEFAULT_GITGRAPH_CONFIG,\n    ...(0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig)().gitGraph\n  });\n  return config;\n}, \"getConfig\");\nvar state = new _chunk_KFBOBJHC_mjs__WEBPACK_IMPORTED_MODULE_1__.ImperativeState(() => {\n  const config = getConfig3();\n  const mainBranchName = config.mainBranchName;\n  const mainBranchOrder = config.mainBranchOrder;\n  return {\n    mainBranchName,\n    commits: /* @__PURE__ */ new Map(),\n    head: null,\n    branchConfig: /* @__PURE__ */ new Map([[mainBranchName, { name: mainBranchName, order: mainBranchOrder }]]),\n    branches: /* @__PURE__ */ new Map([[mainBranchName, null]]),\n    currBranch: mainBranchName,\n    direction: \"LR\",\n    seq: 0,\n    options: {}\n  };\n});\nfunction getID() {\n  return (0,_chunk_7DKRZKHE_mjs__WEBPACK_IMPORTED_MODULE_2__.random)({ length: 7 });\n}\n(0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(getID, \"getID\");\nfunction uniqBy(list, fn) {\n  const recordMap = /* @__PURE__ */ Object.create(null);\n  return list.reduce((out, item) => {\n    const key = fn(item);\n    if (!recordMap[key]) {\n      recordMap[key] = true;\n      out.push(item);\n    }\n    return out;\n  }, []);\n}\n(0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(uniqBy, \"uniqBy\");\nvar setDirection = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(dir2) {\n  state.records.direction = dir2;\n}, \"setDirection\");\nvar setOptions = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(rawOptString) {\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(\"options str\", rawOptString);\n  rawOptString = rawOptString?.trim();\n  rawOptString = rawOptString || \"{}\";\n  try {\n    state.records.options = JSON.parse(rawOptString);\n  } catch (e) {\n    _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.error(\"error while parsing gitGraph options\", e.message);\n  }\n}, \"setOptions\");\nvar getOptions = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return state.records.options;\n}, \"getOptions\");\nvar commit = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(commitDB) {\n  let msg = commitDB.msg;\n  let id = commitDB.id;\n  const type = commitDB.type;\n  let tags = commitDB.tags;\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"commit\", msg, id, type, tags);\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(\"Entering commit:\", msg, id, type, tags);\n  const config = getConfig3();\n  id = _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(id, config);\n  msg = _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(msg, config);\n  tags = tags?.map((tag) => _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(tag, config));\n  const newCommit = {\n    id: id ? id : state.records.seq + \"-\" + getID(),\n    message: msg,\n    seq: state.records.seq++,\n    type: type ?? commitType.NORMAL,\n    tags: tags ?? [],\n    parents: state.records.head == null ? [] : [state.records.head.id],\n    branch: state.records.currBranch\n  };\n  state.records.head = newCommit;\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"main branch\", config.mainBranchName);\n  state.records.commits.set(newCommit.id, newCommit);\n  state.records.branches.set(state.records.currBranch, newCommit.id);\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(\"in pushCommit \" + newCommit.id);\n}, \"commit\");\nvar branch = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(branchDB) {\n  let name = branchDB.name;\n  const order = branchDB.order;\n  name = _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(name, getConfig3());\n  if (state.records.branches.has(name)) {\n    throw new Error(\n      `Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using \"checkout ${name}\")`\n    );\n  }\n  state.records.branches.set(name, state.records.head != null ? state.records.head.id : null);\n  state.records.branchConfig.set(name, { name, order });\n  checkout(name);\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(\"in createBranch\");\n}, \"branch\");\nvar merge = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((mergeDB) => {\n  let otherBranch = mergeDB.branch;\n  let customId = mergeDB.id;\n  const overrideType = mergeDB.type;\n  const customTags = mergeDB.tags;\n  const config = getConfig3();\n  otherBranch = _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(otherBranch, config);\n  if (customId) {\n    customId = _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(customId, config);\n  }\n  const currentBranchCheck = state.records.branches.get(state.records.currBranch);\n  const otherBranchCheck = state.records.branches.get(otherBranch);\n  const currentCommit = currentBranchCheck ? state.records.commits.get(currentBranchCheck) : void 0;\n  const otherCommit = otherBranchCheck ? state.records.commits.get(otherBranchCheck) : void 0;\n  if (currentCommit && otherCommit && currentCommit.branch === otherBranch) {\n    throw new Error(`Cannot merge branch '${otherBranch}' into itself.`);\n  }\n  if (state.records.currBranch === otherBranch) {\n    const error = new Error('Incorrect usage of \"merge\". Cannot merge a branch to itself');\n    error.hash = {\n      text: `merge ${otherBranch}`,\n      token: `merge ${otherBranch}`,\n      expected: [\"branch abc\"]\n    };\n    throw error;\n  }\n  if (currentCommit === void 0 || !currentCommit) {\n    const error = new Error(\n      `Incorrect usage of \"merge\". Current branch (${state.records.currBranch})has no commits`\n    );\n    error.hash = {\n      text: `merge ${otherBranch}`,\n      token: `merge ${otherBranch}`,\n      expected: [\"commit\"]\n    };\n    throw error;\n  }\n  if (!state.records.branches.has(otherBranch)) {\n    const error = new Error(\n      'Incorrect usage of \"merge\". Branch to be merged (' + otherBranch + \") does not exist\"\n    );\n    error.hash = {\n      text: `merge ${otherBranch}`,\n      token: `merge ${otherBranch}`,\n      expected: [`branch ${otherBranch}`]\n    };\n    throw error;\n  }\n  if (otherCommit === void 0 || !otherCommit) {\n    const error = new Error(\n      'Incorrect usage of \"merge\". Branch to be merged (' + otherBranch + \") has no commits\"\n    );\n    error.hash = {\n      text: `merge ${otherBranch}`,\n      token: `merge ${otherBranch}`,\n      expected: ['\"commit\"']\n    };\n    throw error;\n  }\n  if (currentCommit === otherCommit) {\n    const error = new Error('Incorrect usage of \"merge\". Both branches have same head');\n    error.hash = {\n      text: `merge ${otherBranch}`,\n      token: `merge ${otherBranch}`,\n      expected: [\"branch abc\"]\n    };\n    throw error;\n  }\n  if (customId && state.records.commits.has(customId)) {\n    const error = new Error(\n      'Incorrect usage of \"merge\". Commit with id:' + customId + \" already exists, use different custom Id\"\n    );\n    error.hash = {\n      text: `merge ${otherBranch} ${customId} ${overrideType} ${customTags?.join(\" \")}`,\n      token: `merge ${otherBranch} ${customId} ${overrideType} ${customTags?.join(\" \")}`,\n      expected: [\n        `merge ${otherBranch} ${customId}_UNIQUE ${overrideType} ${customTags?.join(\" \")}`\n      ]\n    };\n    throw error;\n  }\n  const verifiedBranch = otherBranchCheck ? otherBranchCheck : \"\";\n  const commit2 = {\n    id: customId || `${state.records.seq}-${getID()}`,\n    message: `merged branch ${otherBranch} into ${state.records.currBranch}`,\n    seq: state.records.seq++,\n    parents: state.records.head == null ? [] : [state.records.head.id, verifiedBranch],\n    branch: state.records.currBranch,\n    type: commitType.MERGE,\n    customType: overrideType,\n    customId: customId ? true : false,\n    tags: customTags ?? []\n  };\n  state.records.head = commit2;\n  state.records.commits.set(commit2.id, commit2);\n  state.records.branches.set(state.records.currBranch, commit2.id);\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(state.records.branches);\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(\"in mergeBranch\");\n}, \"merge\");\nvar cherryPick = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(cherryPickDB) {\n  let sourceId = cherryPickDB.id;\n  let targetId = cherryPickDB.targetId;\n  let tags = cherryPickDB.tags;\n  let parentCommitId = cherryPickDB.parent;\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(\"Entering cherryPick:\", sourceId, targetId, tags);\n  const config = getConfig3();\n  sourceId = _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(sourceId, config);\n  targetId = _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(targetId, config);\n  tags = tags?.map((tag) => _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(tag, config));\n  parentCommitId = _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(parentCommitId, config);\n  if (!sourceId || !state.records.commits.has(sourceId)) {\n    const error = new Error(\n      'Incorrect usage of \"cherryPick\". Source commit id should exist and provided'\n    );\n    error.hash = {\n      text: `cherryPick ${sourceId} ${targetId}`,\n      token: `cherryPick ${sourceId} ${targetId}`,\n      expected: [\"cherry-pick abc\"]\n    };\n    throw error;\n  }\n  const sourceCommit = state.records.commits.get(sourceId);\n  if (sourceCommit === void 0 || !sourceCommit) {\n    throw new Error('Incorrect usage of \"cherryPick\". Source commit id should exist and provided');\n  }\n  if (parentCommitId && !(Array.isArray(sourceCommit.parents) && sourceCommit.parents.includes(parentCommitId))) {\n    const error = new Error(\n      \"Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.\"\n    );\n    throw error;\n  }\n  const sourceCommitBranch = sourceCommit.branch;\n  if (sourceCommit.type === commitType.MERGE && !parentCommitId) {\n    const error = new Error(\n      \"Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.\"\n    );\n    throw error;\n  }\n  if (!targetId || !state.records.commits.has(targetId)) {\n    if (sourceCommitBranch === state.records.currBranch) {\n      const error = new Error(\n        'Incorrect usage of \"cherryPick\". Source commit is already on current branch'\n      );\n      error.hash = {\n        text: `cherryPick ${sourceId} ${targetId}`,\n        token: `cherryPick ${sourceId} ${targetId}`,\n        expected: [\"cherry-pick abc\"]\n      };\n      throw error;\n    }\n    const currentCommitId = state.records.branches.get(state.records.currBranch);\n    if (currentCommitId === void 0 || !currentCommitId) {\n      const error = new Error(\n        `Incorrect usage of \"cherry-pick\". Current branch (${state.records.currBranch})has no commits`\n      );\n      error.hash = {\n        text: `cherryPick ${sourceId} ${targetId}`,\n        token: `cherryPick ${sourceId} ${targetId}`,\n        expected: [\"cherry-pick abc\"]\n      };\n      throw error;\n    }\n    const currentCommit = state.records.commits.get(currentCommitId);\n    if (currentCommit === void 0 || !currentCommit) {\n      const error = new Error(\n        `Incorrect usage of \"cherry-pick\". Current branch (${state.records.currBranch})has no commits`\n      );\n      error.hash = {\n        text: `cherryPick ${sourceId} ${targetId}`,\n        token: `cherryPick ${sourceId} ${targetId}`,\n        expected: [\"cherry-pick abc\"]\n      };\n      throw error;\n    }\n    const commit2 = {\n      id: state.records.seq + \"-\" + getID(),\n      message: `cherry-picked ${sourceCommit?.message} into ${state.records.currBranch}`,\n      seq: state.records.seq++,\n      parents: state.records.head == null ? [] : [state.records.head.id, sourceCommit.id],\n      branch: state.records.currBranch,\n      type: commitType.CHERRY_PICK,\n      tags: tags ? tags.filter(Boolean) : [\n        `cherry-pick:${sourceCommit.id}${sourceCommit.type === commitType.MERGE ? `|parent:${parentCommitId}` : \"\"}`\n      ]\n    };\n    state.records.head = commit2;\n    state.records.commits.set(commit2.id, commit2);\n    state.records.branches.set(state.records.currBranch, commit2.id);\n    _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(state.records.branches);\n    _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(\"in cherryPick\");\n  }\n}, \"cherryPick\");\nvar checkout = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(branch2) {\n  branch2 = _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(branch2, getConfig3());\n  if (!state.records.branches.has(branch2)) {\n    const error = new Error(\n      `Trying to checkout branch which is not yet created. (Help try using \"branch ${branch2}\")`\n    );\n    error.hash = {\n      text: `checkout ${branch2}`,\n      token: `checkout ${branch2}`,\n      expected: [`branch ${branch2}`]\n    };\n    throw error;\n  } else {\n    state.records.currBranch = branch2;\n    const id = state.records.branches.get(state.records.currBranch);\n    if (id === void 0 || !id) {\n      state.records.head = null;\n    } else {\n      state.records.head = state.records.commits.get(id) ?? null;\n    }\n  }\n}, \"checkout\");\nfunction upsert(arr, key, newVal) {\n  const index = arr.indexOf(key);\n  if (index === -1) {\n    arr.push(newVal);\n  } else {\n    arr.splice(index, 1, newVal);\n  }\n}\n(0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(upsert, \"upsert\");\nfunction prettyPrintCommitHistory(commitArr) {\n  const commit2 = commitArr.reduce((out, commit3) => {\n    if (out.seq > commit3.seq) {\n      return out;\n    }\n    return commit3;\n  }, commitArr[0]);\n  let line = \"\";\n  commitArr.forEach(function(c) {\n    if (c === commit2) {\n      line += \"\t*\";\n    } else {\n      line += \"\t|\";\n    }\n  });\n  const label = [line, commit2.id, commit2.seq];\n  for (const branch2 in state.records.branches) {\n    if (state.records.branches.get(branch2) === commit2.id) {\n      label.push(branch2);\n    }\n  }\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(label.join(\" \"));\n  if (commit2.parents && commit2.parents.length == 2 && commit2.parents[0] && commit2.parents[1]) {\n    const newCommit = state.records.commits.get(commit2.parents[0]);\n    upsert(commitArr, commit2, newCommit);\n    if (commit2.parents[1]) {\n      commitArr.push(state.records.commits.get(commit2.parents[1]));\n    }\n  } else if (commit2.parents.length == 0) {\n    return;\n  } else {\n    if (commit2.parents[0]) {\n      const newCommit = state.records.commits.get(commit2.parents[0]);\n      upsert(commitArr, commit2, newCommit);\n    }\n  }\n  commitArr = uniqBy(commitArr, (c) => c.id);\n  prettyPrintCommitHistory(commitArr);\n}\n(0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(prettyPrintCommitHistory, \"prettyPrintCommitHistory\");\nvar prettyPrint = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(state.records.commits);\n  const node = getCommitsArray()[0];\n  prettyPrintCommitHistory([node]);\n}, \"prettyPrint\");\nvar clear2 = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  state.reset();\n  (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.clear)();\n}, \"clear\");\nvar getBranchesAsObjArray = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  const branchesArray = [...state.records.branchConfig.values()].map((branchConfig, i) => {\n    if (branchConfig.order !== null && branchConfig.order !== void 0) {\n      return branchConfig;\n    }\n    return {\n      ...branchConfig,\n      order: parseFloat(`0.${i}`)\n    };\n  }).sort((a, b) => (a.order ?? 0) - (b.order ?? 0)).map(({ name }) => ({ name }));\n  return branchesArray;\n}, \"getBranchesAsObjArray\");\nvar getBranches = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return state.records.branches;\n}, \"getBranches\");\nvar getCommits = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return state.records.commits;\n}, \"getCommits\");\nvar getCommitsArray = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  const commitArr = [...state.records.commits.values()];\n  commitArr.forEach(function(o) {\n    _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(o.id);\n  });\n  commitArr.sort((a, b) => a.seq - b.seq);\n  return commitArr;\n}, \"getCommitsArray\");\nvar getCurrentBranch = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return state.records.currBranch;\n}, \"getCurrentBranch\");\nvar getDirection = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return state.records.direction;\n}, \"getDirection\");\nvar getHead = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return state.records.head;\n}, \"getHead\");\nvar db = {\n  commitType,\n  getConfig: getConfig3,\n  setDirection,\n  setOptions,\n  getOptions,\n  commit,\n  branch,\n  merge,\n  cherryPick,\n  checkout,\n  //reset,\n  prettyPrint,\n  clear: clear2,\n  getBranchesAsObjArray,\n  getBranches,\n  getCommits,\n  getCommitsArray,\n  getCurrentBranch,\n  getDirection,\n  getHead,\n  setAccTitle: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccTitle,\n  getAccTitle: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccTitle,\n  getAccDescription: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccDescription,\n  setAccDescription: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccDescription,\n  setDiagramTitle: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.setDiagramTitle,\n  getDiagramTitle: _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.getDiagramTitle\n};\n\n// src/diagrams/git/gitGraphParser.ts\nvar populate = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((ast, db2) => {\n  (0,_chunk_TMUBEWPD_mjs__WEBPACK_IMPORTED_MODULE_0__.populateCommonDb)(ast, db2);\n  if (ast.dir) {\n    db2.setDirection(ast.dir);\n  }\n  for (const statement of ast.statements) {\n    parseStatement(statement, db2);\n  }\n}, \"populate\");\nvar parseStatement = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((statement, db2) => {\n  const parsers = {\n    Commit: /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((stmt) => db2.commit(parseCommit(stmt)), \"Commit\"),\n    Branch: /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((stmt) => db2.branch(parseBranch(stmt)), \"Branch\"),\n    Merge: /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((stmt) => db2.merge(parseMerge(stmt)), \"Merge\"),\n    Checkout: /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((stmt) => db2.checkout(parseCheckout(stmt)), \"Checkout\"),\n    CherryPicking: /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((stmt) => db2.cherryPick(parseCherryPicking(stmt)), \"CherryPicking\")\n  };\n  const parser2 = parsers[statement.$type];\n  if (parser2) {\n    parser2(statement);\n  } else {\n    _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.error(`Unknown statement type: ${statement.$type}`);\n  }\n}, \"parseStatement\");\nvar parseCommit = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((commit2) => {\n  const commitDB = {\n    id: commit2.id,\n    msg: commit2.message ?? \"\",\n    type: commit2.type !== void 0 ? commitType[commit2.type] : commitType.NORMAL,\n    tags: commit2.tags ?? void 0\n  };\n  return commitDB;\n}, \"parseCommit\");\nvar parseBranch = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((branch2) => {\n  const branchDB = {\n    name: branch2.name,\n    order: branch2.order ?? 0\n  };\n  return branchDB;\n}, \"parseBranch\");\nvar parseMerge = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((merge2) => {\n  const mergeDB = {\n    branch: merge2.branch,\n    id: merge2.id ?? \"\",\n    type: merge2.type !== void 0 ? commitType[merge2.type] : void 0,\n    tags: merge2.tags ?? void 0\n  };\n  return mergeDB;\n}, \"parseMerge\");\nvar parseCheckout = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((checkout2) => {\n  const branch2 = checkout2.branch;\n  return branch2;\n}, \"parseCheckout\");\nvar parseCherryPicking = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((cherryPicking) => {\n  const cherryPickDB = {\n    id: cherryPicking.id,\n    targetId: \"\",\n    tags: cherryPicking.tags?.length === 0 ? void 0 : cherryPicking.tags,\n    parent: cherryPicking.parent\n  };\n  return cherryPickDB;\n}, \"parseCherryPicking\");\nvar parser = {\n  parse: /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(async (input) => {\n    const ast = await (0,_mermaid_js_parser__WEBPACK_IMPORTED_MODULE_4__.parse)(\"gitGraph\", input);\n    _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(ast);\n    populate(ast, db);\n  }, \"parse\")\n};\nif (void 0) {\n  const { it, expect, describe } = void 0;\n  const mockDB = {\n    commitType,\n    setDirection: vi.fn(),\n    commit: vi.fn(),\n    branch: vi.fn(),\n    merge: vi.fn(),\n    cherryPick: vi.fn(),\n    checkout: vi.fn()\n  };\n  describe(\"GitGraph Parser\", () => {\n    it(\"should parse a commit statement\", () => {\n      const commit2 = {\n        $type: \"Commit\",\n        id: \"1\",\n        message: \"test\",\n        tags: [\"tag1\", \"tag2\"],\n        type: \"NORMAL\"\n      };\n      parseStatement(commit2, mockDB);\n      expect(mockDB.commit).toHaveBeenCalledWith({\n        id: \"1\",\n        msg: \"test\",\n        tags: [\"tag1\", \"tag2\"],\n        type: 0\n      });\n    });\n    it(\"should parse a branch statement\", () => {\n      const branch2 = {\n        $type: \"Branch\",\n        name: \"newBranch\",\n        order: 1\n      };\n      parseStatement(branch2, mockDB);\n      expect(mockDB.branch).toHaveBeenCalledWith({ name: \"newBranch\", order: 1 });\n    });\n    it(\"should parse a checkout statement\", () => {\n      const checkout2 = {\n        $type: \"Checkout\",\n        branch: \"newBranch\"\n      };\n      parseStatement(checkout2, mockDB);\n      expect(mockDB.checkout).toHaveBeenCalledWith(\"newBranch\");\n    });\n    it(\"should parse a merge statement\", () => {\n      const merge2 = {\n        $type: \"Merge\",\n        branch: \"newBranch\",\n        id: \"1\",\n        tags: [\"tag1\", \"tag2\"],\n        type: \"NORMAL\"\n      };\n      parseStatement(merge2, mockDB);\n      expect(mockDB.merge).toHaveBeenCalledWith({\n        branch: \"newBranch\",\n        id: \"1\",\n        tags: [\"tag1\", \"tag2\"],\n        type: 0\n      });\n    });\n    it(\"should parse a cherry picking statement\", () => {\n      const cherryPick2 = {\n        $type: \"CherryPicking\",\n        id: \"1\",\n        tags: [\"tag1\", \"tag2\"],\n        parent: \"2\"\n      };\n      parseStatement(cherryPick2, mockDB);\n      expect(mockDB.cherryPick).toHaveBeenCalledWith({\n        id: \"1\",\n        targetId: \"\",\n        parent: \"2\",\n        tags: [\"tag1\", \"tag2\"]\n      });\n    });\n    it(\"should parse a langium generated gitGraph ast\", () => {\n      const dummy = {\n        $type: \"GitGraph\",\n        statements: []\n      };\n      const gitGraphAst = {\n        $type: \"GitGraph\",\n        statements: [\n          {\n            $container: dummy,\n            $type: \"Commit\",\n            id: \"1\",\n            message: \"test\",\n            tags: [\"tag1\", \"tag2\"],\n            type: \"NORMAL\"\n          },\n          {\n            $container: dummy,\n            $type: \"Branch\",\n            name: \"newBranch\",\n            order: 1\n          },\n          {\n            $container: dummy,\n            $type: \"Merge\",\n            branch: \"newBranch\",\n            id: \"1\",\n            tags: [\"tag1\", \"tag2\"],\n            type: \"NORMAL\"\n          },\n          {\n            $container: dummy,\n            $type: \"Checkout\",\n            branch: \"newBranch\"\n          },\n          {\n            $container: dummy,\n            $type: \"CherryPicking\",\n            id: \"1\",\n            tags: [\"tag1\", \"tag2\"],\n            parent: \"2\"\n          }\n        ]\n      };\n      populate(gitGraphAst, mockDB);\n      expect(mockDB.commit).toHaveBeenCalledWith({\n        id: \"1\",\n        msg: \"test\",\n        tags: [\"tag1\", \"tag2\"],\n        type: 0\n      });\n      expect(mockDB.branch).toHaveBeenCalledWith({ name: \"newBranch\", order: 1 });\n      expect(mockDB.merge).toHaveBeenCalledWith({\n        branch: \"newBranch\",\n        id: \"1\",\n        tags: [\"tag1\", \"tag2\"],\n        type: 0\n      });\n      expect(mockDB.checkout).toHaveBeenCalledWith(\"newBranch\");\n    });\n  });\n}\n\n// src/diagrams/git/gitGraphRenderer.ts\n\nvar DEFAULT_CONFIG = (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)();\nvar DEFAULT_GITGRAPH_CONFIG2 = DEFAULT_CONFIG?.gitGraph;\nvar LAYOUT_OFFSET = 10;\nvar COMMIT_STEP = 40;\nvar PX = 4;\nvar PY = 2;\nvar THEME_COLOR_LIMIT = 8;\nvar branchPos = /* @__PURE__ */ new Map();\nvar commitPos = /* @__PURE__ */ new Map();\nvar defaultPos = 30;\nvar allCommitsDict = /* @__PURE__ */ new Map();\nvar lanes = [];\nvar maxPos = 0;\nvar dir = \"LR\";\nvar clear3 = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => {\n  branchPos.clear();\n  commitPos.clear();\n  allCommitsDict.clear();\n  maxPos = 0;\n  lanes = [];\n  dir = \"LR\";\n}, \"clear\");\nvar drawText = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((txt) => {\n  const svgLabel = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n  const rows = typeof txt === \"string\" ? txt.split(/\\\\n|\\n|<br\\s*\\/?>/gi) : txt;\n  rows.forEach((row) => {\n    const tspan = document.createElementNS(\"http://www.w3.org/2000/svg\", \"tspan\");\n    tspan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\", \"preserve\");\n    tspan.setAttribute(\"dy\", \"1em\");\n    tspan.setAttribute(\"x\", \"0\");\n    tspan.setAttribute(\"class\", \"row\");\n    tspan.textContent = row.trim();\n    svgLabel.appendChild(tspan);\n  });\n  return svgLabel;\n}, \"drawText\");\nvar findClosestParent = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((parents) => {\n  let closestParent;\n  let comparisonFunc;\n  let targetPosition;\n  if (dir === \"BT\") {\n    comparisonFunc = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((a, b) => a <= b, \"comparisonFunc\");\n    targetPosition = Infinity;\n  } else {\n    comparisonFunc = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((a, b) => a >= b, \"comparisonFunc\");\n    targetPosition = 0;\n  }\n  parents.forEach((parent) => {\n    const parentPosition = dir === \"TB\" || dir == \"BT\" ? commitPos.get(parent)?.y : commitPos.get(parent)?.x;\n    if (parentPosition !== void 0 && comparisonFunc(parentPosition, targetPosition)) {\n      closestParent = parent;\n      targetPosition = parentPosition;\n    }\n  });\n  return closestParent;\n}, \"findClosestParent\");\nvar findClosestParentBT = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((parents) => {\n  let closestParent = \"\";\n  let maxPosition = Infinity;\n  parents.forEach((parent) => {\n    const parentPosition = commitPos.get(parent).y;\n    if (parentPosition <= maxPosition) {\n      closestParent = parent;\n      maxPosition = parentPosition;\n    }\n  });\n  return closestParent || void 0;\n}, \"findClosestParentBT\");\nvar setParallelBTPos = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((sortedKeys, commits, defaultPos2) => {\n  let curPos = defaultPos2;\n  let maxPosition = defaultPos2;\n  const roots = [];\n  sortedKeys.forEach((key) => {\n    const commit2 = commits.get(key);\n    if (!commit2) {\n      throw new Error(`Commit not found for key ${key}`);\n    }\n    if (commit2.parents.length) {\n      curPos = calculateCommitPosition(commit2);\n      maxPosition = Math.max(curPos, maxPosition);\n    } else {\n      roots.push(commit2);\n    }\n    setCommitPosition(commit2, curPos);\n  });\n  curPos = maxPosition;\n  roots.forEach((commit2) => {\n    setRootPosition(commit2, curPos, defaultPos2);\n  });\n  sortedKeys.forEach((key) => {\n    const commit2 = commits.get(key);\n    if (commit2?.parents.length) {\n      const closestParent = findClosestParentBT(commit2.parents);\n      curPos = commitPos.get(closestParent).y - COMMIT_STEP;\n      if (curPos <= maxPosition) {\n        maxPosition = curPos;\n      }\n      const x = branchPos.get(commit2.branch).pos;\n      const y = curPos - LAYOUT_OFFSET;\n      commitPos.set(commit2.id, { x, y });\n    }\n  });\n}, \"setParallelBTPos\");\nvar findClosestParentPos = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((commit2) => {\n  const closestParent = findClosestParent(commit2.parents.filter((p) => p !== null));\n  if (!closestParent) {\n    throw new Error(`Closest parent not found for commit ${commit2.id}`);\n  }\n  const closestParentPos = commitPos.get(closestParent)?.y;\n  if (closestParentPos === void 0) {\n    throw new Error(`Closest parent position not found for commit ${commit2.id}`);\n  }\n  return closestParentPos;\n}, \"findClosestParentPos\");\nvar calculateCommitPosition = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((commit2) => {\n  const closestParentPos = findClosestParentPos(commit2);\n  return closestParentPos + COMMIT_STEP;\n}, \"calculateCommitPosition\");\nvar setCommitPosition = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((commit2, curPos) => {\n  const branch2 = branchPos.get(commit2.branch);\n  if (!branch2) {\n    throw new Error(`Branch not found for commit ${commit2.id}`);\n  }\n  const x = branch2.pos;\n  const y = curPos + LAYOUT_OFFSET;\n  commitPos.set(commit2.id, { x, y });\n  return { x, y };\n}, \"setCommitPosition\");\nvar setRootPosition = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((commit2, curPos, defaultPos2) => {\n  const branch2 = branchPos.get(commit2.branch);\n  if (!branch2) {\n    throw new Error(`Branch not found for commit ${commit2.id}`);\n  }\n  const y = curPos + defaultPos2;\n  const x = branch2.pos;\n  commitPos.set(commit2.id, { x, y });\n}, \"setRootPosition\");\nvar drawCommitBullet = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((gBullets, commit2, commitPosition, typeClass, branchIndex, commitSymbolType) => {\n  if (commitSymbolType === commitType.HIGHLIGHT) {\n    gBullets.append(\"rect\").attr(\"x\", commitPosition.x - 10).attr(\"y\", commitPosition.y - 10).attr(\"width\", 20).attr(\"height\", 20).attr(\n      \"class\",\n      `commit ${commit2.id} commit-highlight${branchIndex % THEME_COLOR_LIMIT} ${typeClass}-outer`\n    );\n    gBullets.append(\"rect\").attr(\"x\", commitPosition.x - 6).attr(\"y\", commitPosition.y - 6).attr(\"width\", 12).attr(\"height\", 12).attr(\n      \"class\",\n      `commit ${commit2.id} commit${branchIndex % THEME_COLOR_LIMIT} ${typeClass}-inner`\n    );\n  } else if (commitSymbolType === commitType.CHERRY_PICK) {\n    gBullets.append(\"circle\").attr(\"cx\", commitPosition.x).attr(\"cy\", commitPosition.y).attr(\"r\", 10).attr(\"class\", `commit ${commit2.id} ${typeClass}`);\n    gBullets.append(\"circle\").attr(\"cx\", commitPosition.x - 3).attr(\"cy\", commitPosition.y + 2).attr(\"r\", 2.75).attr(\"fill\", \"#fff\").attr(\"class\", `commit ${commit2.id} ${typeClass}`);\n    gBullets.append(\"circle\").attr(\"cx\", commitPosition.x + 3).attr(\"cy\", commitPosition.y + 2).attr(\"r\", 2.75).attr(\"fill\", \"#fff\").attr(\"class\", `commit ${commit2.id} ${typeClass}`);\n    gBullets.append(\"line\").attr(\"x1\", commitPosition.x + 3).attr(\"y1\", commitPosition.y + 1).attr(\"x2\", commitPosition.x).attr(\"y2\", commitPosition.y - 5).attr(\"stroke\", \"#fff\").attr(\"class\", `commit ${commit2.id} ${typeClass}`);\n    gBullets.append(\"line\").attr(\"x1\", commitPosition.x - 3).attr(\"y1\", commitPosition.y + 1).attr(\"x2\", commitPosition.x).attr(\"y2\", commitPosition.y - 5).attr(\"stroke\", \"#fff\").attr(\"class\", `commit ${commit2.id} ${typeClass}`);\n  } else {\n    const circle = gBullets.append(\"circle\");\n    circle.attr(\"cx\", commitPosition.x);\n    circle.attr(\"cy\", commitPosition.y);\n    circle.attr(\"r\", commit2.type === commitType.MERGE ? 9 : 10);\n    circle.attr(\"class\", `commit ${commit2.id} commit${branchIndex % THEME_COLOR_LIMIT}`);\n    if (commitSymbolType === commitType.MERGE) {\n      const circle2 = gBullets.append(\"circle\");\n      circle2.attr(\"cx\", commitPosition.x);\n      circle2.attr(\"cy\", commitPosition.y);\n      circle2.attr(\"r\", 6);\n      circle2.attr(\n        \"class\",\n        `commit ${typeClass} ${commit2.id} commit${branchIndex % THEME_COLOR_LIMIT}`\n      );\n    }\n    if (commitSymbolType === commitType.REVERSE) {\n      const cross = gBullets.append(\"path\");\n      cross.attr(\n        \"d\",\n        `M ${commitPosition.x - 5},${commitPosition.y - 5}L${commitPosition.x + 5},${commitPosition.y + 5}M${commitPosition.x - 5},${commitPosition.y + 5}L${commitPosition.x + 5},${commitPosition.y - 5}`\n      ).attr(\"class\", `commit ${typeClass} ${commit2.id} commit${branchIndex % THEME_COLOR_LIMIT}`);\n    }\n  }\n}, \"drawCommitBullet\");\nvar drawCommitLabel = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((gLabels, commit2, commitPosition, pos) => {\n  if (commit2.type !== commitType.CHERRY_PICK && (commit2.customId && commit2.type === commitType.MERGE || commit2.type !== commitType.MERGE) && DEFAULT_GITGRAPH_CONFIG2?.showCommitLabel) {\n    const wrapper = gLabels.append(\"g\");\n    const labelBkg = wrapper.insert(\"rect\").attr(\"class\", \"commit-label-bkg\");\n    const text = wrapper.append(\"text\").attr(\"x\", pos).attr(\"y\", commitPosition.y + 25).attr(\"class\", \"commit-label\").text(commit2.id);\n    const bbox = text.node()?.getBBox();\n    if (bbox) {\n      labelBkg.attr(\"x\", commitPosition.posWithOffset - bbox.width / 2 - PY).attr(\"y\", commitPosition.y + 13.5).attr(\"width\", bbox.width + 2 * PY).attr(\"height\", bbox.height + 2 * PY);\n      if (dir === \"TB\" || dir === \"BT\") {\n        labelBkg.attr(\"x\", commitPosition.x - (bbox.width + 4 * PX + 5)).attr(\"y\", commitPosition.y - 12);\n        text.attr(\"x\", commitPosition.x - (bbox.width + 4 * PX)).attr(\"y\", commitPosition.y + bbox.height - 12);\n      } else {\n        text.attr(\"x\", commitPosition.posWithOffset - bbox.width / 2);\n      }\n      if (DEFAULT_GITGRAPH_CONFIG2.rotateCommitLabel) {\n        if (dir === \"TB\" || dir === \"BT\") {\n          text.attr(\n            \"transform\",\n            \"rotate(-45, \" + commitPosition.x + \", \" + commitPosition.y + \")\"\n          );\n          labelBkg.attr(\n            \"transform\",\n            \"rotate(-45, \" + commitPosition.x + \", \" + commitPosition.y + \")\"\n          );\n        } else {\n          const r_x = -7.5 - (bbox.width + 10) / 25 * 9.5;\n          const r_y = 10 + bbox.width / 25 * 8.5;\n          wrapper.attr(\n            \"transform\",\n            \"translate(\" + r_x + \", \" + r_y + \") rotate(-45, \" + pos + \", \" + commitPosition.y + \")\"\n          );\n        }\n      }\n    }\n  }\n}, \"drawCommitLabel\");\nvar drawCommitTags = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((gLabels, commit2, commitPosition, pos) => {\n  if (commit2.tags.length > 0) {\n    let yOffset = 0;\n    let maxTagBboxWidth = 0;\n    let maxTagBboxHeight = 0;\n    const tagElements = [];\n    for (const tagValue of commit2.tags.reverse()) {\n      const rect = gLabels.insert(\"polygon\");\n      const hole = gLabels.append(\"circle\");\n      const tag = gLabels.append(\"text\").attr(\"y\", commitPosition.y - 16 - yOffset).attr(\"class\", \"tag-label\").text(tagValue);\n      const tagBbox = tag.node()?.getBBox();\n      if (!tagBbox) {\n        throw new Error(\"Tag bbox not found\");\n      }\n      maxTagBboxWidth = Math.max(maxTagBboxWidth, tagBbox.width);\n      maxTagBboxHeight = Math.max(maxTagBboxHeight, tagBbox.height);\n      tag.attr(\"x\", commitPosition.posWithOffset - tagBbox.width / 2);\n      tagElements.push({\n        tag,\n        hole,\n        rect,\n        yOffset\n      });\n      yOffset += 20;\n    }\n    for (const { tag, hole, rect, yOffset: yOffset2 } of tagElements) {\n      const h2 = maxTagBboxHeight / 2;\n      const ly = commitPosition.y - 19.2 - yOffset2;\n      rect.attr(\"class\", \"tag-label-bkg\").attr(\n        \"points\",\n        `\n      ${pos - maxTagBboxWidth / 2 - PX / 2},${ly + PY}  \n      ${pos - maxTagBboxWidth / 2 - PX / 2},${ly - PY}\n      ${commitPosition.posWithOffset - maxTagBboxWidth / 2 - PX},${ly - h2 - PY}\n      ${commitPosition.posWithOffset + maxTagBboxWidth / 2 + PX},${ly - h2 - PY}\n      ${commitPosition.posWithOffset + maxTagBboxWidth / 2 + PX},${ly + h2 + PY}\n      ${commitPosition.posWithOffset - maxTagBboxWidth / 2 - PX},${ly + h2 + PY}`\n      );\n      hole.attr(\"cy\", ly).attr(\"cx\", pos - maxTagBboxWidth / 2 + PX / 2).attr(\"r\", 1.5).attr(\"class\", \"tag-hole\");\n      if (dir === \"TB\" || dir === \"BT\") {\n        const yOrigin = pos + yOffset2;\n        rect.attr(\"class\", \"tag-label-bkg\").attr(\n          \"points\",\n          `\n        ${commitPosition.x},${yOrigin + 2}\n        ${commitPosition.x},${yOrigin - 2}\n        ${commitPosition.x + LAYOUT_OFFSET},${yOrigin - h2 - 2}\n        ${commitPosition.x + LAYOUT_OFFSET + maxTagBboxWidth + 4},${yOrigin - h2 - 2}\n        ${commitPosition.x + LAYOUT_OFFSET + maxTagBboxWidth + 4},${yOrigin + h2 + 2}\n        ${commitPosition.x + LAYOUT_OFFSET},${yOrigin + h2 + 2}`\n        ).attr(\"transform\", \"translate(12,12) rotate(45, \" + commitPosition.x + \",\" + pos + \")\");\n        hole.attr(\"cx\", commitPosition.x + PX / 2).attr(\"cy\", yOrigin).attr(\"transform\", \"translate(12,12) rotate(45, \" + commitPosition.x + \",\" + pos + \")\");\n        tag.attr(\"x\", commitPosition.x + 5).attr(\"y\", yOrigin + 3).attr(\"transform\", \"translate(14,14) rotate(45, \" + commitPosition.x + \",\" + pos + \")\");\n      }\n    }\n  }\n}, \"drawCommitTags\");\nvar getCommitClassType = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((commit2) => {\n  const commitSymbolType = commit2.customType ?? commit2.type;\n  switch (commitSymbolType) {\n    case commitType.NORMAL:\n      return \"commit-normal\";\n    case commitType.REVERSE:\n      return \"commit-reverse\";\n    case commitType.HIGHLIGHT:\n      return \"commit-highlight\";\n    case commitType.MERGE:\n      return \"commit-merge\";\n    case commitType.CHERRY_PICK:\n      return \"commit-cherry-pick\";\n    default:\n      return \"commit-normal\";\n  }\n}, \"getCommitClassType\");\nvar calculatePosition = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((commit2, dir2, pos, commitPos2) => {\n  const defaultCommitPosition = { x: 0, y: 0 };\n  if (commit2.parents.length > 0) {\n    const closestParent = findClosestParent(commit2.parents);\n    if (closestParent) {\n      const parentPosition = commitPos2.get(closestParent) ?? defaultCommitPosition;\n      if (dir2 === \"TB\") {\n        return parentPosition.y + COMMIT_STEP;\n      } else if (dir2 === \"BT\") {\n        const currentPosition = commitPos2.get(commit2.id) ?? defaultCommitPosition;\n        return currentPosition.y - COMMIT_STEP;\n      } else {\n        return parentPosition.x + COMMIT_STEP;\n      }\n    }\n  } else {\n    if (dir2 === \"TB\") {\n      return defaultPos;\n    } else if (dir2 === \"BT\") {\n      const currentPosition = commitPos2.get(commit2.id) ?? defaultCommitPosition;\n      return currentPosition.y - COMMIT_STEP;\n    } else {\n      return 0;\n    }\n  }\n  return 0;\n}, \"calculatePosition\");\nvar getCommitPosition = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((commit2, pos, isParallelCommits) => {\n  const posWithOffset = dir === \"BT\" && isParallelCommits ? pos : pos + LAYOUT_OFFSET;\n  const y = dir === \"TB\" || dir === \"BT\" ? posWithOffset : branchPos.get(commit2.branch)?.pos;\n  const x = dir === \"TB\" || dir === \"BT\" ? branchPos.get(commit2.branch)?.pos : posWithOffset;\n  if (x === void 0 || y === void 0) {\n    throw new Error(`Position were undefined for commit ${commit2.id}`);\n  }\n  return { x, y, posWithOffset };\n}, \"getCommitPosition\");\nvar drawCommits = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((svg, commits, modifyGraph) => {\n  if (!DEFAULT_GITGRAPH_CONFIG2) {\n    throw new Error(\"GitGraph config not found\");\n  }\n  const gBullets = svg.append(\"g\").attr(\"class\", \"commit-bullets\");\n  const gLabels = svg.append(\"g\").attr(\"class\", \"commit-labels\");\n  let pos = dir === \"TB\" || dir === \"BT\" ? defaultPos : 0;\n  const keys = [...commits.keys()];\n  const isParallelCommits = DEFAULT_GITGRAPH_CONFIG2?.parallelCommits ?? false;\n  const sortKeys = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((a, b) => {\n    const seqA = commits.get(a)?.seq;\n    const seqB = commits.get(b)?.seq;\n    return seqA !== void 0 && seqB !== void 0 ? seqA - seqB : 0;\n  }, \"sortKeys\");\n  let sortedKeys = keys.sort(sortKeys);\n  if (dir === \"BT\") {\n    if (isParallelCommits) {\n      setParallelBTPos(sortedKeys, commits, pos);\n    }\n    sortedKeys = sortedKeys.reverse();\n  }\n  sortedKeys.forEach((key) => {\n    const commit2 = commits.get(key);\n    if (!commit2) {\n      throw new Error(`Commit not found for key ${key}`);\n    }\n    if (isParallelCommits) {\n      pos = calculatePosition(commit2, dir, pos, commitPos);\n    }\n    const commitPosition = getCommitPosition(commit2, pos, isParallelCommits);\n    if (modifyGraph) {\n      const typeClass = getCommitClassType(commit2);\n      const commitSymbolType = commit2.customType ?? commit2.type;\n      const branchIndex = branchPos.get(commit2.branch)?.index ?? 0;\n      drawCommitBullet(gBullets, commit2, commitPosition, typeClass, branchIndex, commitSymbolType);\n      drawCommitLabel(gLabels, commit2, commitPosition, pos);\n      drawCommitTags(gLabels, commit2, commitPosition, pos);\n    }\n    if (dir === \"TB\" || dir === \"BT\") {\n      commitPos.set(commit2.id, { x: commitPosition.x, y: commitPosition.posWithOffset });\n    } else {\n      commitPos.set(commit2.id, { x: commitPosition.posWithOffset, y: commitPosition.y });\n    }\n    pos = dir === \"BT\" && isParallelCommits ? pos + COMMIT_STEP : pos + COMMIT_STEP + LAYOUT_OFFSET;\n    if (pos > maxPos) {\n      maxPos = pos;\n    }\n  });\n}, \"drawCommits\");\nvar shouldRerouteArrow = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((commitA, commitB, p1, p2, allCommits) => {\n  const commitBIsFurthest = dir === \"TB\" || dir === \"BT\" ? p1.x < p2.x : p1.y < p2.y;\n  const branchToGetCurve = commitBIsFurthest ? commitB.branch : commitA.branch;\n  const isOnBranchToGetCurve = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((x) => x.branch === branchToGetCurve, \"isOnBranchToGetCurve\");\n  const isBetweenCommits = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((x) => x.seq > commitA.seq && x.seq < commitB.seq, \"isBetweenCommits\");\n  return [...allCommits.values()].some((commitX) => {\n    return isBetweenCommits(commitX) && isOnBranchToGetCurve(commitX);\n  });\n}, \"shouldRerouteArrow\");\nvar findLane = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((y1, y2, depth = 0) => {\n  const candidate = y1 + Math.abs(y1 - y2) / 2;\n  if (depth > 5) {\n    return candidate;\n  }\n  const ok = lanes.every((lane) => Math.abs(lane - candidate) >= 10);\n  if (ok) {\n    lanes.push(candidate);\n    return candidate;\n  }\n  const diff = Math.abs(y1 - y2);\n  return findLane(y1, y2 - diff / 5, depth + 1);\n}, \"findLane\");\nvar drawArrow = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((svg, commitA, commitB, allCommits) => {\n  const p1 = commitPos.get(commitA.id);\n  const p2 = commitPos.get(commitB.id);\n  if (p1 === void 0 || p2 === void 0) {\n    throw new Error(`Commit positions not found for commits ${commitA.id} and ${commitB.id}`);\n  }\n  const arrowNeedsRerouting = shouldRerouteArrow(commitA, commitB, p1, p2, allCommits);\n  let arc = \"\";\n  let arc2 = \"\";\n  let radius = 0;\n  let offset = 0;\n  let colorClassNum = branchPos.get(commitB.branch)?.index;\n  if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n    colorClassNum = branchPos.get(commitA.branch)?.index;\n  }\n  let lineDef;\n  if (arrowNeedsRerouting) {\n    arc = \"A 10 10, 0, 0, 0,\";\n    arc2 = \"A 10 10, 0, 0, 1,\";\n    radius = 10;\n    offset = 10;\n    const lineY = p1.y < p2.y ? findLane(p1.y, p2.y) : findLane(p2.y, p1.y);\n    const lineX = p1.x < p2.x ? findLane(p1.x, p2.x) : findLane(p2.x, p1.x);\n    if (dir === \"TB\") {\n      if (p1.x < p2.x) {\n        lineDef = `M ${p1.x} ${p1.y} L ${lineX - radius} ${p1.y} ${arc2} ${lineX} ${p1.y + offset} L ${lineX} ${p2.y - radius} ${arc} ${lineX + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n      } else {\n        colorClassNum = branchPos.get(commitA.branch)?.index;\n        lineDef = `M ${p1.x} ${p1.y} L ${lineX + radius} ${p1.y} ${arc} ${lineX} ${p1.y + offset} L ${lineX} ${p2.y - radius} ${arc2} ${lineX - offset} ${p2.y} L ${p2.x} ${p2.y}`;\n      }\n    } else if (dir === \"BT\") {\n      if (p1.x < p2.x) {\n        lineDef = `M ${p1.x} ${p1.y} L ${lineX - radius} ${p1.y} ${arc} ${lineX} ${p1.y - offset} L ${lineX} ${p2.y + radius} ${arc2} ${lineX + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n      } else {\n        colorClassNum = branchPos.get(commitA.branch)?.index;\n        lineDef = `M ${p1.x} ${p1.y} L ${lineX + radius} ${p1.y} ${arc2} ${lineX} ${p1.y - offset} L ${lineX} ${p2.y + radius} ${arc} ${lineX - offset} ${p2.y} L ${p2.x} ${p2.y}`;\n      }\n    } else {\n      if (p1.y < p2.y) {\n        lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${lineY - radius} ${arc} ${p1.x + offset} ${lineY} L ${p2.x - radius} ${lineY} ${arc2} ${p2.x} ${lineY + offset} L ${p2.x} ${p2.y}`;\n      } else {\n        colorClassNum = branchPos.get(commitA.branch)?.index;\n        lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${lineY + radius} ${arc2} ${p1.x + offset} ${lineY} L ${p2.x - radius} ${lineY} ${arc} ${p2.x} ${lineY - offset} L ${p2.x} ${p2.y}`;\n      }\n    }\n  } else {\n    arc = \"A 20 20, 0, 0, 0,\";\n    arc2 = \"A 20 20, 0, 0, 1,\";\n    radius = 20;\n    offset = 20;\n    if (dir === \"TB\") {\n      if (p1.x < p2.x) {\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y - radius} ${arc} ${p1.x + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x - radius} ${p1.y} ${arc2} ${p2.x} ${p1.y + offset} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.x > p2.x) {\n        arc = \"A 20 20, 0, 0, 0,\";\n        arc2 = \"A 20 20, 0, 0, 1,\";\n        radius = 20;\n        offset = 20;\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y - radius} ${arc2} ${p1.x - offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x + radius} ${p1.y} ${arc} ${p2.x} ${p1.y + offset} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.x === p2.x) {\n        lineDef = `M ${p1.x} ${p1.y} L ${p2.x} ${p2.y}`;\n      }\n    } else if (dir === \"BT\") {\n      if (p1.x < p2.x) {\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y + radius} ${arc2} ${p1.x + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x - radius} ${p1.y} ${arc} ${p2.x} ${p1.y - offset} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.x > p2.x) {\n        arc = \"A 20 20, 0, 0, 0,\";\n        arc2 = \"A 20 20, 0, 0, 1,\";\n        radius = 20;\n        offset = 20;\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y + radius} ${arc} ${p1.x - offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x - radius} ${p1.y} ${arc} ${p2.x} ${p1.y - offset} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.x === p2.x) {\n        lineDef = `M ${p1.x} ${p1.y} L ${p2.x} ${p2.y}`;\n      }\n    } else {\n      if (p1.y < p2.y) {\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x - radius} ${p1.y} ${arc2} ${p2.x} ${p1.y + offset} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y - radius} ${arc} ${p1.x + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.y > p2.y) {\n        if (commitB.type === commitType.MERGE && commitA.id !== commitB.parents[0]) {\n          lineDef = `M ${p1.x} ${p1.y} L ${p2.x - radius} ${p1.y} ${arc} ${p2.x} ${p1.y - offset} L ${p2.x} ${p2.y}`;\n        } else {\n          lineDef = `M ${p1.x} ${p1.y} L ${p1.x} ${p2.y + radius} ${arc2} ${p1.x + offset} ${p2.y} L ${p2.x} ${p2.y}`;\n        }\n      }\n      if (p1.y === p2.y) {\n        lineDef = `M ${p1.x} ${p1.y} L ${p2.x} ${p2.y}`;\n      }\n    }\n  }\n  if (lineDef === void 0) {\n    throw new Error(\"Line definition not found\");\n  }\n  svg.append(\"path\").attr(\"d\", lineDef).attr(\"class\", \"arrow arrow\" + colorClassNum % THEME_COLOR_LIMIT);\n}, \"drawArrow\");\nvar drawArrows = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((svg, commits) => {\n  const gArrows = svg.append(\"g\").attr(\"class\", \"commit-arrows\");\n  [...commits.keys()].forEach((key) => {\n    const commit2 = commits.get(key);\n    if (commit2.parents && commit2.parents.length > 0) {\n      commit2.parents.forEach((parent) => {\n        drawArrow(gArrows, commits.get(parent), commit2, commits);\n      });\n    }\n  });\n}, \"drawArrows\");\nvar drawBranches = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((svg, branches) => {\n  const g = svg.append(\"g\");\n  branches.forEach((branch2, index) => {\n    const adjustIndexForTheme = index % THEME_COLOR_LIMIT;\n    const pos = branchPos.get(branch2.name)?.pos;\n    if (pos === void 0) {\n      throw new Error(`Position not found for branch ${branch2.name}`);\n    }\n    const line = g.append(\"line\");\n    line.attr(\"x1\", 0);\n    line.attr(\"y1\", pos);\n    line.attr(\"x2\", maxPos);\n    line.attr(\"y2\", pos);\n    line.attr(\"class\", \"branch branch\" + adjustIndexForTheme);\n    if (dir === \"TB\") {\n      line.attr(\"y1\", defaultPos);\n      line.attr(\"x1\", pos);\n      line.attr(\"y2\", maxPos);\n      line.attr(\"x2\", pos);\n    } else if (dir === \"BT\") {\n      line.attr(\"y1\", maxPos);\n      line.attr(\"x1\", pos);\n      line.attr(\"y2\", defaultPos);\n      line.attr(\"x2\", pos);\n    }\n    lanes.push(pos);\n    const name = branch2.name;\n    const labelElement = drawText(name);\n    const bkg = g.insert(\"rect\");\n    const branchLabel = g.insert(\"g\").attr(\"class\", \"branchLabel\");\n    const label = branchLabel.insert(\"g\").attr(\"class\", \"label branch-label\" + adjustIndexForTheme);\n    label.node().appendChild(labelElement);\n    const bbox = labelElement.getBBox();\n    bkg.attr(\"class\", \"branchLabelBkg label\" + adjustIndexForTheme).attr(\"rx\", 4).attr(\"ry\", 4).attr(\"x\", -bbox.width - 4 - (DEFAULT_GITGRAPH_CONFIG2?.rotateCommitLabel === true ? 30 : 0)).attr(\"y\", -bbox.height / 2 + 8).attr(\"width\", bbox.width + 18).attr(\"height\", bbox.height + 4);\n    label.attr(\n      \"transform\",\n      \"translate(\" + (-bbox.width - 14 - (DEFAULT_GITGRAPH_CONFIG2?.rotateCommitLabel === true ? 30 : 0)) + \", \" + (pos - bbox.height / 2 - 1) + \")\"\n    );\n    if (dir === \"TB\") {\n      bkg.attr(\"x\", pos - bbox.width / 2 - 10).attr(\"y\", 0);\n      label.attr(\"transform\", \"translate(\" + (pos - bbox.width / 2 - 5) + \", 0)\");\n    } else if (dir === \"BT\") {\n      bkg.attr(\"x\", pos - bbox.width / 2 - 10).attr(\"y\", maxPos);\n      label.attr(\"transform\", \"translate(\" + (pos - bbox.width / 2 - 5) + \", \" + maxPos + \")\");\n    } else {\n      bkg.attr(\"transform\", \"translate(-19, \" + (pos - bbox.height / 2) + \")\");\n    }\n  });\n}, \"drawBranches\");\nvar setBranchPosition = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(name, pos, index, bbox, rotateCommitLabel) {\n  branchPos.set(name, { pos, index });\n  pos += 50 + (rotateCommitLabel ? 40 : 0) + (dir === \"TB\" || dir === \"BT\" ? bbox.width / 2 : 0);\n  return pos;\n}, \"setBranchPosition\");\nvar draw = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(txt, id, ver, diagObj) {\n  clear3();\n  _chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.log.debug(\"in gitgraph renderer\", txt + \"\\n\", \"id:\", id, ver);\n  if (!DEFAULT_GITGRAPH_CONFIG2) {\n    throw new Error(\"GitGraph config not found\");\n  }\n  const rotateCommitLabel = DEFAULT_GITGRAPH_CONFIG2.rotateCommitLabel ?? false;\n  const db2 = diagObj.db;\n  allCommitsDict = db2.getCommits();\n  const branches = db2.getBranchesAsObjArray();\n  dir = db2.getDirection();\n  const diagram2 = (0,d3__WEBPACK_IMPORTED_MODULE_5__.select)(`[id=\"${id}\"]`);\n  let pos = 0;\n  branches.forEach((branch2, index) => {\n    const labelElement = drawText(branch2.name);\n    const g = diagram2.append(\"g\");\n    const branchLabel = g.insert(\"g\").attr(\"class\", \"branchLabel\");\n    const label = branchLabel.insert(\"g\").attr(\"class\", \"label branch-label\");\n    label.node()?.appendChild(labelElement);\n    const bbox = labelElement.getBBox();\n    pos = setBranchPosition(branch2.name, pos, index, bbox, rotateCommitLabel);\n    label.remove();\n    branchLabel.remove();\n    g.remove();\n  });\n  drawCommits(diagram2, allCommitsDict, false);\n  if (DEFAULT_GITGRAPH_CONFIG2.showBranches) {\n    drawBranches(diagram2, branches);\n  }\n  drawArrows(diagram2, allCommitsDict);\n  drawCommits(diagram2, allCommitsDict, true);\n  _chunk_7DKRZKHE_mjs__WEBPACK_IMPORTED_MODULE_2__.utils_default.insertTitle(\n    diagram2,\n    \"gitTitleText\",\n    DEFAULT_GITGRAPH_CONFIG2.titleTopMargin ?? 0,\n    db2.getDiagramTitle()\n  );\n  (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.setupGraphViewbox2)(\n    void 0,\n    diagram2,\n    DEFAULT_GITGRAPH_CONFIG2.diagramPadding,\n    DEFAULT_GITGRAPH_CONFIG2.useMaxWidth\n  );\n}, \"draw\");\nvar gitGraphRenderer_default = {\n  draw\n};\nif (void 0) {\n  const { it, expect, describe } = void 0;\n  describe(\"drawText\", () => {\n    it(\"should drawText\", () => {\n      const svgLabel = drawText(\"main\");\n      expect(svgLabel).toBeDefined();\n      expect(svgLabel.children[0].innerHTML).toBe(\"main\");\n    });\n  });\n  describe(\"branchPosition\", () => {\n    const bbox = {\n      x: 0,\n      y: 0,\n      width: 10,\n      height: 10,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      toJSON: /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => \"\", \"toJSON\")\n    };\n    it(\"should setBranchPositions LR with two branches\", () => {\n      dir = \"LR\";\n      const pos = setBranchPosition(\"main\", 0, 0, bbox, true);\n      expect(pos).toBe(90);\n      expect(branchPos.get(\"main\")).toEqual({ pos: 0, index: 0 });\n      const posNext = setBranchPosition(\"develop\", pos, 1, bbox, true);\n      expect(posNext).toBe(180);\n      expect(branchPos.get(\"develop\")).toEqual({ pos, index: 1 });\n    });\n    it(\"should setBranchPositions TB with two branches\", () => {\n      dir = \"TB\";\n      bbox.width = 34.9921875;\n      const pos = setBranchPosition(\"main\", 0, 0, bbox, true);\n      expect(pos).toBe(107.49609375);\n      expect(branchPos.get(\"main\")).toEqual({ pos: 0, index: 0 });\n      bbox.width = 56.421875;\n      const posNext = setBranchPosition(\"develop\", pos, 1, bbox, true);\n      expect(posNext).toBe(225.70703125);\n      expect(branchPos.get(\"develop\")).toEqual({ pos, index: 1 });\n    });\n  });\n  describe(\"commitPosition\", () => {\n    const commits = /* @__PURE__ */ new Map([\n      [\n        \"commitZero\",\n        {\n          id: \"ZERO\",\n          message: \"\",\n          seq: 0,\n          type: commitType.NORMAL,\n          tags: [],\n          parents: [],\n          branch: \"main\"\n        }\n      ],\n      [\n        \"commitA\",\n        {\n          id: \"A\",\n          message: \"\",\n          seq: 1,\n          type: commitType.NORMAL,\n          tags: [],\n          parents: [\"ZERO\"],\n          branch: \"feature\"\n        }\n      ],\n      [\n        \"commitB\",\n        {\n          id: \"B\",\n          message: \"\",\n          seq: 2,\n          type: commitType.NORMAL,\n          tags: [],\n          parents: [\"A\"],\n          branch: \"feature\"\n        }\n      ],\n      [\n        \"commitM\",\n        {\n          id: \"M\",\n          message: \"merged branch feature into main\",\n          seq: 3,\n          type: commitType.MERGE,\n          tags: [],\n          parents: [\"ZERO\", \"B\"],\n          branch: \"main\",\n          customId: true\n        }\n      ],\n      [\n        \"commitC\",\n        {\n          id: \"C\",\n          message: \"\",\n          seq: 4,\n          type: commitType.NORMAL,\n          tags: [],\n          parents: [\"ZERO\"],\n          branch: \"release\"\n        }\n      ],\n      [\n        \"commit5_8928ea0\",\n        {\n          id: \"5-8928ea0\",\n          message: \"cherry-picked [object Object] into release\",\n          seq: 5,\n          type: commitType.CHERRY_PICK,\n          tags: [],\n          parents: [\"C\", \"M\"],\n          branch: \"release\"\n        }\n      ],\n      [\n        \"commitD\",\n        {\n          id: \"D\",\n          message: \"\",\n          seq: 6,\n          type: commitType.NORMAL,\n          tags: [],\n          parents: [\"5-8928ea0\"],\n          branch: \"release\"\n        }\n      ],\n      [\n        \"commit7_ed848ba\",\n        {\n          id: \"7-ed848ba\",\n          message: \"cherry-picked [object Object] into release\",\n          seq: 7,\n          type: commitType.CHERRY_PICK,\n          tags: [],\n          parents: [\"D\", \"M\"],\n          branch: \"release\"\n        }\n      ]\n    ]);\n    let pos = 0;\n    branchPos.set(\"main\", { pos: 0, index: 0 });\n    branchPos.set(\"feature\", { pos: 107.49609375, index: 1 });\n    branchPos.set(\"release\", { pos: 224.03515625, index: 2 });\n    describe(\"TB\", () => {\n      pos = 30;\n      dir = \"TB\";\n      const expectedCommitPositionTB = /* @__PURE__ */ new Map([\n        [\"commitZero\", { x: 0, y: 40, posWithOffset: 40 }],\n        [\"commitA\", { x: 107.49609375, y: 90, posWithOffset: 90 }],\n        [\"commitB\", { x: 107.49609375, y: 140, posWithOffset: 140 }],\n        [\"commitM\", { x: 0, y: 190, posWithOffset: 190 }],\n        [\"commitC\", { x: 224.03515625, y: 240, posWithOffset: 240 }],\n        [\"commit5_8928ea0\", { x: 224.03515625, y: 290, posWithOffset: 290 }],\n        [\"commitD\", { x: 224.03515625, y: 340, posWithOffset: 340 }],\n        [\"commit7_ed848ba\", { x: 224.03515625, y: 390, posWithOffset: 390 }]\n      ]);\n      commits.forEach((commit2, key) => {\n        it(`should give the correct position for commit ${key}`, () => {\n          const position = getCommitPosition(commit2, pos, false);\n          expect(position).toEqual(expectedCommitPositionTB.get(key));\n          pos += 50;\n        });\n      });\n    });\n    describe(\"LR\", () => {\n      let pos2 = 30;\n      dir = \"LR\";\n      const expectedCommitPositionLR = /* @__PURE__ */ new Map([\n        [\"commitZero\", { x: 0, y: 40, posWithOffset: 40 }],\n        [\"commitA\", { x: 107.49609375, y: 90, posWithOffset: 90 }],\n        [\"commitB\", { x: 107.49609375, y: 140, posWithOffset: 140 }],\n        [\"commitM\", { x: 0, y: 190, posWithOffset: 190 }],\n        [\"commitC\", { x: 224.03515625, y: 240, posWithOffset: 240 }],\n        [\"commit5_8928ea0\", { x: 224.03515625, y: 290, posWithOffset: 290 }],\n        [\"commitD\", { x: 224.03515625, y: 340, posWithOffset: 340 }],\n        [\"commit7_ed848ba\", { x: 224.03515625, y: 390, posWithOffset: 390 }]\n      ]);\n      commits.forEach((commit2, key) => {\n        it(`should give the correct position for commit ${key}`, () => {\n          const position = getCommitPosition(commit2, pos2, false);\n          expect(position).toEqual(expectedCommitPositionLR.get(key));\n          pos2 += 50;\n        });\n      });\n    });\n    describe(\"getCommitClassType\", () => {\n      const expectedCommitClassType = /* @__PURE__ */ new Map([\n        [\"commitZero\", \"commit-normal\"],\n        [\"commitA\", \"commit-normal\"],\n        [\"commitB\", \"commit-normal\"],\n        [\"commitM\", \"commit-merge\"],\n        [\"commitC\", \"commit-normal\"],\n        [\"commit5_8928ea0\", \"commit-cherry-pick\"],\n        [\"commitD\", \"commit-normal\"],\n        [\"commit7_ed848ba\", \"commit-cherry-pick\"]\n      ]);\n      commits.forEach((commit2, key) => {\n        it(`should give the correct class type for commit ${key}`, () => {\n          const classType = getCommitClassType(commit2);\n          expect(classType).toBe(expectedCommitClassType.get(key));\n        });\n      });\n    });\n  });\n  describe(\"building BT parallel commit diagram\", () => {\n    const commits = /* @__PURE__ */ new Map([\n      [\n        \"1-abcdefg\",\n        {\n          id: \"1-abcdefg\",\n          message: \"\",\n          seq: 0,\n          type: 0,\n          tags: [],\n          parents: [],\n          branch: \"main\"\n        }\n      ],\n      [\n        \"2-abcdefg\",\n        {\n          id: \"2-abcdefg\",\n          message: \"\",\n          seq: 1,\n          type: 0,\n          tags: [],\n          parents: [\"1-abcdefg\"],\n          branch: \"main\"\n        }\n      ],\n      [\n        \"3-abcdefg\",\n        {\n          id: \"3-abcdefg\",\n          message: \"\",\n          seq: 2,\n          type: 0,\n          tags: [],\n          parents: [\"2-abcdefg\"],\n          branch: \"develop\"\n        }\n      ],\n      [\n        \"4-abcdefg\",\n        {\n          id: \"4-abcdefg\",\n          message: \"\",\n          seq: 3,\n          type: 0,\n          tags: [],\n          parents: [\"3-abcdefg\"],\n          branch: \"develop\"\n        }\n      ],\n      [\n        \"5-abcdefg\",\n        {\n          id: \"5-abcdefg\",\n          message: \"\",\n          seq: 4,\n          type: 0,\n          tags: [],\n          parents: [\"2-abcdefg\"],\n          branch: \"feature\"\n        }\n      ],\n      [\n        \"6-abcdefg\",\n        {\n          id: \"6-abcdefg\",\n          message: \"\",\n          seq: 5,\n          type: 0,\n          tags: [],\n          parents: [\"5-abcdefg\"],\n          branch: \"feature\"\n        }\n      ],\n      [\n        \"7-abcdefg\",\n        {\n          id: \"7-abcdefg\",\n          message: \"\",\n          seq: 6,\n          type: 0,\n          tags: [],\n          parents: [\"2-abcdefg\"],\n          branch: \"main\"\n        }\n      ],\n      [\n        \"8-abcdefg\",\n        {\n          id: \"8-abcdefg\",\n          message: \"\",\n          seq: 7,\n          type: 0,\n          tags: [],\n          parents: [\"7-abcdefg\"],\n          branch: \"main\"\n        }\n      ]\n    ]);\n    const expectedCommitPosition = /* @__PURE__ */ new Map([\n      [\"1-abcdefg\", { x: 0, y: 40 }],\n      [\"2-abcdefg\", { x: 0, y: 90 }],\n      [\"3-abcdefg\", { x: 107.49609375, y: 140 }],\n      [\"4-abcdefg\", { x: 107.49609375, y: 190 }],\n      [\"5-abcdefg\", { x: 225.70703125, y: 140 }],\n      [\"6-abcdefg\", { x: 225.70703125, y: 190 }],\n      [\"7-abcdefg\", { x: 0, y: 140 }],\n      [\"8-abcdefg\", { x: 0, y: 190 }]\n    ]);\n    const expectedCommitPositionAfterParallel = /* @__PURE__ */ new Map([\n      [\"1-abcdefg\", { x: 0, y: 210 }],\n      [\"2-abcdefg\", { x: 0, y: 160 }],\n      [\"3-abcdefg\", { x: 107.49609375, y: 110 }],\n      [\"4-abcdefg\", { x: 107.49609375, y: 60 }],\n      [\"5-abcdefg\", { x: 225.70703125, y: 110 }],\n      [\"6-abcdefg\", { x: 225.70703125, y: 60 }],\n      [\"7-abcdefg\", { x: 0, y: 110 }],\n      [\"8-abcdefg\", { x: 0, y: 60 }]\n    ]);\n    const expectedCommitCurrentPosition = /* @__PURE__ */ new Map([\n      [\"1-abcdefg\", 30],\n      [\"2-abcdefg\", 80],\n      [\"3-abcdefg\", 130],\n      [\"4-abcdefg\", 180],\n      [\"5-abcdefg\", 130],\n      [\"6-abcdefg\", 180],\n      [\"7-abcdefg\", 130],\n      [\"8-abcdefg\", 180]\n    ]);\n    const sortedKeys = [...expectedCommitPosition.keys()];\n    it(\"should get the correct commit position and current position\", () => {\n      dir = \"BT\";\n      let curPos = 30;\n      commitPos.clear();\n      branchPos.clear();\n      branchPos.set(\"main\", { pos: 0, index: 0 });\n      branchPos.set(\"develop\", { pos: 107.49609375, index: 1 });\n      branchPos.set(\"feature\", { pos: 225.70703125, index: 2 });\n      DEFAULT_GITGRAPH_CONFIG2.parallelCommits = true;\n      commits.forEach((commit2, key) => {\n        if (commit2.parents.length > 0) {\n          curPos = calculateCommitPosition(commit2);\n        }\n        const position = setCommitPosition(commit2, curPos);\n        expect(position).toEqual(expectedCommitPosition.get(key));\n        expect(curPos).toEqual(expectedCommitCurrentPosition.get(key));\n      });\n    });\n    it(\"should get the correct commit position after parallel commits\", () => {\n      commitPos.clear();\n      branchPos.clear();\n      dir = \"BT\";\n      const curPos = 30;\n      commitPos.clear();\n      branchPos.clear();\n      branchPos.set(\"main\", { pos: 0, index: 0 });\n      branchPos.set(\"develop\", { pos: 107.49609375, index: 1 });\n      branchPos.set(\"feature\", { pos: 225.70703125, index: 2 });\n      setParallelBTPos(sortedKeys, commits, curPos);\n      sortedKeys.forEach((commit2) => {\n        const position = commitPos.get(commit2);\n        expect(position).toEqual(expectedCommitPositionAfterParallel.get(commit2));\n      });\n    });\n  });\n  DEFAULT_GITGRAPH_CONFIG2.parallelCommits = false;\n  it(\"add\", () => {\n    commitPos.set(\"parent1\", { x: 1, y: 1 });\n    commitPos.set(\"parent2\", { x: 2, y: 2 });\n    commitPos.set(\"parent3\", { x: 3, y: 3 });\n    dir = \"LR\";\n    const parents = [\"parent1\", \"parent2\", \"parent3\"];\n    const closestParent = findClosestParent(parents);\n    expect(closestParent).toBe(\"parent3\");\n    commitPos.clear();\n  });\n}\n\n// src/diagrams/git/styles.js\nvar getStyles = /* @__PURE__ */ (0,_chunk_6DBFFHIP_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((options) => `\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ${[0, 1, 2, 3, 4, 5, 6, 7].map(\n  (i) => `\n        .branch-label${i} { fill: ${options[\"gitBranchLabel\" + i]}; }\n        .commit${i} { stroke: ${options[\"git\" + i]}; fill: ${options[\"git\" + i]}; }\n        .commit-highlight${i} { stroke: ${options[\"gitInv\" + i]}; fill: ${options[\"gitInv\" + i]}; }\n        .label${i}  { fill: ${options[\"git\" + i]}; }\n        .arrow${i} { stroke: ${options[\"git\" + i]}; }\n        `\n).join(\"\\n\")}\n\n  .branch {\n    stroke-width: 1;\n    stroke: ${options.lineColor};\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ${options.commitLabelFontSize}; fill: ${options.commitLabelColor};}\n  .commit-label-bkg { font-size: ${options.commitLabelFontSize}; fill: ${options.commitLabelBackground}; opacity: 0.5; }\n  .tag-label { font-size: ${options.tagLabelFontSize}; fill: ${options.tagLabelColor};}\n  .tag-label-bkg { fill: ${options.tagLabelBackground}; stroke: ${options.tagLabelBorder}; }\n  .tag-hole { fill: ${options.textColor}; }\n\n  .commit-merge {\n    stroke: ${options.primaryColor};\n    fill: ${options.primaryColor};\n  }\n  .commit-reverse {\n    stroke: ${options.primaryColor};\n    fill: ${options.primaryColor};\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ${options.primaryColor};\n    fill: ${options.primaryColor};\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  .gitTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${options.textColor};\n  }\n`, \"getStyles\");\nvar styles_default = getStyles;\n\n// src/diagrams/git/gitGraphDiagram.ts\nvar diagram = {\n  parser,\n  db,\n  renderer: gitGraphRenderer_default,\n  styles: styles_default\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2NodW5rcy9tZXJtYWlkLmNvcmUvZ2l0R3JhcGhEaWFncmFtLU5SWjJVQUFGLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFLQTtBQWdCQTs7QUFFOUI7QUFDMkM7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIsc0VBQXFCO0FBQ25ELGlDQUFpQywyREFBTTtBQUN2QyxpQkFBaUIsa0VBQWE7QUFDOUI7QUFDQSxPQUFPLDhEQUFTO0FBQ2hCLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRCxnQkFBZ0IsZ0VBQWU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsOENBQThDO0FBQzVHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLFNBQVMsMkRBQU0sR0FBRyxXQUFXO0FBQzdCO0FBQ0EsMkRBQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSwyREFBTTtBQUNOLG1DQUFtQywyREFBTTtBQUN6QztBQUNBLENBQUM7QUFDRCxpQ0FBaUMsMkRBQU07QUFDdkMsRUFBRSxvREFBRztBQUNMO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQSxJQUFJO0FBQ0osSUFBSSxvREFBRztBQUNQO0FBQ0EsQ0FBQztBQUNELGlDQUFpQywyREFBTTtBQUN2QztBQUNBLENBQUM7QUFDRCw2QkFBNkIsMkRBQU07QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLG9EQUFHO0FBQ0wsRUFBRSxvREFBRztBQUNMO0FBQ0EsT0FBTywrREFBYztBQUNyQixRQUFRLCtEQUFjO0FBQ3RCLDRCQUE0QiwrREFBYztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVB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LE1BQU0sRUFBRSxnQkFBZ0IsSUFBSSxNQUFNLEVBQUUsS0FBSztBQUNqTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLE1BQU0sRUFBRSxNQUFNLElBQUksTUFBTSxFQUFFLGVBQWUsRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLE1BQU0sSUFBSSxNQUFNLEVBQUUsS0FBSztBQUNuSCxVQUFVO0FBQ1YseUJBQXlCLE1BQU0sRUFBRSxNQUFNLElBQUksZUFBZSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLGVBQWUsSUFBSSxNQUFNLEVBQUUsS0FBSztBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLE1BQU0sRUFBRSxNQUFNLElBQUksTUFBTSxFQUFFLGVBQWUsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLE1BQU0sSUFBSSxNQUFNLEVBQUUsS0FBSztBQUNwSCxVQUFVO0FBQ1YseUJBQXlCLE1BQU0sRUFBRSxNQUFNLElBQUksZUFBZSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLGVBQWUsSUFBSSxNQUFNLEVBQUUsS0FBSztBQUNuSDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsTUFBTSxFQUFFLE1BQU0sSUFBSSxNQUFNLEVBQUUsS0FBSztBQUN0RDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EseUJBQXlCLE1BQU0sRUFBRSxNQUFNLElBQUksTUFBTSxFQUFFLGVBQWUsRUFBRSxNQUFNLEVBQUUsZUFBZSxFQUFFLE1BQU0sSUFBSSxNQUFNLEVBQUUsS0FBSztBQUNwSCxVQUFVO0FBQ1YseUJBQXlCLE1BQU0sRUFBRSxNQUFNLElBQUksZUFBZSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLGVBQWUsSUFBSSxNQUFNLEVBQUUsS0FBSztBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLE1BQU0sRUFB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QUEyQixLQUFLLFVBQVUsd0JBQXdCLFFBQVE7QUFDMUUsZ0JBQWdCLE1BQU0sUUFBUTtBQUM5QixnQkFBZ0IsS0FBSyxVQUFVO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0Esa0JBQWtCLGFBQWEsOEJBQThCLFFBQVE7QUFDckUsc0JBQXNCLGFBQWEsOEJBQThCLFFBQVEsZ0NBQWdDO0FBQ3pHLGVBQWUsYUFBYSwyQkFBMkIsUUFBUTtBQUMvRCxtQkFBbUIsUUFBUSw2QkFBNkIsVUFBVTtBQUNsRSxjQUFjLFFBQVE7O0FBRXRCO0FBQ0EsY0FBYztBQUNkLFlBQVk7QUFDWjtBQUNBO0FBQ0EsY0FBYztBQUNkLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLFlBQVk7QUFDWjs7QUFFQSxXQUFXLGlCQUFpQix1QkFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViY2xpLWRlbW8vLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2NodW5rcy9tZXJtYWlkLmNvcmUvZ2l0R3JhcGhEaWFncmFtLU5SWjJVQUFGLm1qcz85ZmViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHBvcHVsYXRlQ29tbW9uRGJcbn0gZnJvbSBcIi4vY2h1bmstVE1VQkVXUEQubWpzXCI7XG5pbXBvcnQge1xuICBJbXBlcmF0aXZlU3RhdGVcbn0gZnJvbSBcIi4vY2h1bmstS0ZCT0JKSEMubWpzXCI7XG5pbXBvcnQge1xuICBjbGVhbkFuZE1lcmdlLFxuICByYW5kb20sXG4gIHV0aWxzX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmstN0RLUlpLSEUubWpzXCI7XG5pbXBvcnQge1xuICBfX25hbWUsXG4gIGNsZWFyLFxuICBjb21tb25fZGVmYXVsdCxcbiAgZGVmYXVsdENvbmZpZ19kZWZhdWx0LFxuICBnZXRBY2NEZXNjcmlwdGlvbixcbiAgZ2V0QWNjVGl0bGUsXG4gIGdldENvbmZpZyxcbiAgZ2V0Q29uZmlnMixcbiAgZ2V0RGlhZ3JhbVRpdGxlLFxuICBsb2csXG4gIHNldEFjY0Rlc2NyaXB0aW9uLFxuICBzZXRBY2NUaXRsZSxcbiAgc2V0RGlhZ3JhbVRpdGxlLFxuICBzZXR1cEdyYXBoVmlld2JveDIgYXMgc2V0dXBHcmFwaFZpZXdib3hcbn0gZnJvbSBcIi4vY2h1bmstNkRCRkZISVAubWpzXCI7XG5cbi8vIHNyYy9kaWFncmFtcy9naXQvZ2l0R3JhcGhQYXJzZXIudHNcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSBcIkBtZXJtYWlkLWpzL3BhcnNlclwiO1xuXG4vLyBzcmMvZGlhZ3JhbXMvZ2l0L2dpdEdyYXBoVHlwZXMudHNcbnZhciBjb21taXRUeXBlID0ge1xuICBOT1JNQUw6IDAsXG4gIFJFVkVSU0U6IDEsXG4gIEhJR0hMSUdIVDogMixcbiAgTUVSR0U6IDMsXG4gIENIRVJSWV9QSUNLOiA0XG59O1xuXG4vLyBzcmMvZGlhZ3JhbXMvZ2l0L2dpdEdyYXBoQXN0LnRzXG52YXIgREVGQVVMVF9HSVRHUkFQSF9DT05GSUcgPSBkZWZhdWx0Q29uZmlnX2RlZmF1bHQuZ2l0R3JhcGg7XG52YXIgZ2V0Q29uZmlnMyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4ge1xuICBjb25zdCBjb25maWcgPSBjbGVhbkFuZE1lcmdlKHtcbiAgICAuLi5ERUZBVUxUX0dJVEdSQVBIX0NPTkZJRyxcbiAgICAuLi5nZXRDb25maWcoKS5naXRHcmFwaFxuICB9KTtcbiAgcmV0dXJuIGNvbmZpZztcbn0sIFwiZ2V0Q29uZmlnXCIpO1xudmFyIHN0YXRlID0gbmV3IEltcGVyYXRpdmVTdGF0ZSgoKSA9PiB7XG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZzMoKTtcbiAgY29uc3QgbWFpbkJyYW5jaE5hbWUgPSBjb25maWcubWFpbkJyYW5jaE5hbWU7XG4gIGNvbnN0IG1haW5CcmFuY2hPcmRlciA9IGNvbmZpZy5tYWluQnJhbmNoT3JkZXI7XG4gIHJldHVybiB7XG4gICAgbWFpbkJyYW5jaE5hbWUsXG4gICAgY29tbWl0czogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICBoZWFkOiBudWxsLFxuICAgIGJyYW5jaENvbmZpZzogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoW1ttYWluQnJhbmNoTmFtZSwgeyBuYW1lOiBtYWluQnJhbmNoTmFtZSwgb3JkZXI6IG1haW5CcmFuY2hPcmRlciB9XV0pLFxuICAgIGJyYW5jaGVzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcChbW21haW5CcmFuY2hOYW1lLCBudWxsXV0pLFxuICAgIGN1cnJCcmFuY2g6IG1haW5CcmFuY2hOYW1lLFxuICAgIGRpcmVjdGlvbjogXCJMUlwiLFxuICAgIHNlcTogMCxcbiAgICBvcHRpb25zOiB7fVxuICB9O1xufSk7XG5mdW5jdGlvbiBnZXRJRCgpIHtcbiAgcmV0dXJuIHJhbmRvbSh7IGxlbmd0aDogNyB9KTtcbn1cbl9fbmFtZShnZXRJRCwgXCJnZXRJRFwiKTtcbmZ1bmN0aW9uIHVuaXFCeShsaXN0LCBmbikge1xuICBjb25zdCByZWNvcmRNYXAgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuIGxpc3QucmVkdWNlKChvdXQsIGl0ZW0pID0+IHtcbiAgICBjb25zdCBrZXkgPSBmbihpdGVtKTtcbiAgICBpZiAoIXJlY29yZE1hcFtrZXldKSB7XG4gICAgICByZWNvcmRNYXBba2V5XSA9IHRydWU7XG4gICAgICBvdXQucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfSwgW10pO1xufVxuX19uYW1lKHVuaXFCeSwgXCJ1bmlxQnlcIik7XG52YXIgc2V0RGlyZWN0aW9uID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbihkaXIyKSB7XG4gIHN0YXRlLnJlY29yZHMuZGlyZWN0aW9uID0gZGlyMjtcbn0sIFwic2V0RGlyZWN0aW9uXCIpO1xudmFyIHNldE9wdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKHJhd09wdFN0cmluZykge1xuICBsb2cuZGVidWcoXCJvcHRpb25zIHN0clwiLCByYXdPcHRTdHJpbmcpO1xuICByYXdPcHRTdHJpbmcgPSByYXdPcHRTdHJpbmc/LnRyaW0oKTtcbiAgcmF3T3B0U3RyaW5nID0gcmF3T3B0U3RyaW5nIHx8IFwie31cIjtcbiAgdHJ5IHtcbiAgICBzdGF0ZS5yZWNvcmRzLm9wdGlvbnMgPSBKU09OLnBhcnNlKHJhd09wdFN0cmluZyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2cuZXJyb3IoXCJlcnJvciB3aGlsZSBwYXJzaW5nIGdpdEdyYXBoIG9wdGlvbnNcIiwgZS5tZXNzYWdlKTtcbiAgfVxufSwgXCJzZXRPcHRpb25zXCIpO1xudmFyIGdldE9wdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gc3RhdGUucmVjb3Jkcy5vcHRpb25zO1xufSwgXCJnZXRPcHRpb25zXCIpO1xudmFyIGNvbW1pdCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24oY29tbWl0REIpIHtcbiAgbGV0IG1zZyA9IGNvbW1pdERCLm1zZztcbiAgbGV0IGlkID0gY29tbWl0REIuaWQ7XG4gIGNvbnN0IHR5cGUgPSBjb21taXREQi50eXBlO1xuICBsZXQgdGFncyA9IGNvbW1pdERCLnRhZ3M7XG4gIGxvZy5pbmZvKFwiY29tbWl0XCIsIG1zZywgaWQsIHR5cGUsIHRhZ3MpO1xuICBsb2cuZGVidWcoXCJFbnRlcmluZyBjb21taXQ6XCIsIG1zZywgaWQsIHR5cGUsIHRhZ3MpO1xuICBjb25zdCBjb25maWcgPSBnZXRDb25maWczKCk7XG4gIGlkID0gY29tbW9uX2RlZmF1bHQuc2FuaXRpemVUZXh0KGlkLCBjb25maWcpO1xuICBtc2cgPSBjb21tb25fZGVmYXVsdC5zYW5pdGl6ZVRleHQobXNnLCBjb25maWcpO1xuICB0YWdzID0gdGFncz8ubWFwKCh0YWcpID0+IGNvbW1vbl9kZWZhdWx0LnNhbml0aXplVGV4dCh0YWcsIGNvbmZpZykpO1xuICBjb25zdCBuZXdDb21taXQgPSB7XG4gICAgaWQ6IGlkID8gaWQgOiBzdGF0ZS5yZWNvcmRzLnNlcSArIFwiLVwiICsgZ2V0SUQoKSxcbiAgICBtZXNzYWdlOiBtc2csXG4gICAgc2VxOiBzdGF0ZS5yZWNvcmRzLnNlcSsrLFxuICAgIHR5cGU6IHR5cGUgPz8gY29tbWl0VHlwZS5OT1JNQUwsXG4gICAgdGFnczogdGFncyA/PyBbXSxcbiAgICBwYXJlbnRzOiBzdGF0ZS5yZWNvcmRzLmhlYWQgPT0gbnVsbCA/IFtdIDogW3N0YXRlLnJlY29yZHMuaGVhZC5pZF0sXG4gICAgYnJhbmNoOiBzdGF0ZS5yZWNvcmRzLmN1cnJCcmFuY2hcbiAgfTtcbiAgc3RhdGUucmVjb3Jkcy5oZWFkID0gbmV3Q29tbWl0O1xuICBsb2cuaW5mbyhcIm1haW4gYnJhbmNoXCIsIGNvbmZpZy5tYWluQnJhbmNoTmFtZSk7XG4gIHN0YXRlLnJlY29yZHMuY29tbWl0cy5zZXQobmV3Q29tbWl0LmlkLCBuZXdDb21taXQpO1xuICBzdGF0ZS5yZWNvcmRzLmJyYW5jaGVzLnNldChzdGF0ZS5yZWNvcmRzLmN1cnJCcmFuY2gsIG5ld0NvbW1pdC5pZCk7XG4gIGxvZy5kZWJ1ZyhcImluIHB1c2hDb21taXQgXCIgKyBuZXdDb21taXQuaWQpO1xufSwgXCJjb21taXRcIik7XG52YXIgYnJhbmNoID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbihicmFuY2hEQikge1xuICBsZXQgbmFtZSA9IGJyYW5jaERCLm5hbWU7XG4gIGNvbnN0IG9yZGVyID0gYnJhbmNoREIub3JkZXI7XG4gIG5hbWUgPSBjb21tb25fZGVmYXVsdC5zYW5pdGl6ZVRleHQobmFtZSwgZ2V0Q29uZmlnMygpKTtcbiAgaWYgKHN0YXRlLnJlY29yZHMuYnJhbmNoZXMuaGFzKG5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFRyeWluZyB0byBjcmVhdGUgYW4gZXhpc3RpbmcgYnJhbmNoLiAoSGVscDogRWl0aGVyIHVzZSBhIG5ldyBuYW1lIGlmIHlvdSB3YW50IGNyZWF0ZSBhIG5ldyBicmFuY2ggb3IgdHJ5IHVzaW5nIFwiY2hlY2tvdXQgJHtuYW1lfVwiKWBcbiAgICApO1xuICB9XG4gIHN0YXRlLnJlY29yZHMuYnJhbmNoZXMuc2V0KG5hbWUsIHN0YXRlLnJlY29yZHMuaGVhZCAhPSBudWxsID8gc3RhdGUucmVjb3Jkcy5oZWFkLmlkIDogbnVsbCk7XG4gIHN0YXRlLnJlY29yZHMuYnJhbmNoQ29uZmlnLnNldChuYW1lLCB7IG5hbWUsIG9yZGVyIH0pO1xuICBjaGVja291dChuYW1lKTtcbiAgbG9nLmRlYnVnKFwiaW4gY3JlYXRlQnJhbmNoXCIpO1xufSwgXCJicmFuY2hcIik7XG52YXIgbWVyZ2UgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChtZXJnZURCKSA9PiB7XG4gIGxldCBvdGhlckJyYW5jaCA9IG1lcmdlREIuYnJhbmNoO1xuICBsZXQgY3VzdG9tSWQgPSBtZXJnZURCLmlkO1xuICBjb25zdCBvdmVycmlkZVR5cGUgPSBtZXJnZURCLnR5cGU7XG4gIGNvbnN0IGN1c3RvbVRhZ3MgPSBtZXJnZURCLnRhZ3M7XG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZzMoKTtcbiAgb3RoZXJCcmFuY2ggPSBjb21tb25fZGVmYXVsdC5zYW5pdGl6ZVRleHQob3RoZXJCcmFuY2gsIGNvbmZpZyk7XG4gIGlmIChjdXN0b21JZCkge1xuICAgIGN1c3RvbUlkID0gY29tbW9uX2RlZmF1bHQuc2FuaXRpemVUZXh0KGN1c3RvbUlkLCBjb25maWcpO1xuICB9XG4gIGNvbnN0IGN1cnJlbnRCcmFuY2hDaGVjayA9IHN0YXRlLnJlY29yZHMuYnJhbmNoZXMuZ2V0KHN0YXRlLnJlY29yZHMuY3VyckJyYW5jaCk7XG4gIGNvbnN0IG90aGVyQnJhbmNoQ2hlY2sgPSBzdGF0ZS5yZWNvcmRzLmJyYW5jaGVzLmdldChvdGhlckJyYW5jaCk7XG4gIGNvbnN0IGN1cnJlbnRDb21taXQgPSBjdXJyZW50QnJhbmNoQ2hlY2sgPyBzdGF0ZS5yZWNvcmRzLmNvbW1pdHMuZ2V0KGN1cnJlbnRCcmFuY2hDaGVjaykgOiB2b2lkIDA7XG4gIGNvbnN0IG90aGVyQ29tbWl0ID0gb3RoZXJCcmFuY2hDaGVjayA/IHN0YXRlLnJlY29yZHMuY29tbWl0cy5nZXQob3RoZXJCcmFuY2hDaGVjaykgOiB2b2lkIDA7XG4gIGlmIChjdXJyZW50Q29tbWl0ICYmIG90aGVyQ29tbWl0ICYmIGN1cnJlbnRDb21taXQuYnJhbmNoID09PSBvdGhlckJyYW5jaCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IG1lcmdlIGJyYW5jaCAnJHtvdGhlckJyYW5jaH0nIGludG8gaXRzZWxmLmApO1xuICB9XG4gIGlmIChzdGF0ZS5yZWNvcmRzLmN1cnJCcmFuY2ggPT09IG90aGVyQnJhbmNoKSB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ0luY29ycmVjdCB1c2FnZSBvZiBcIm1lcmdlXCIuIENhbm5vdCBtZXJnZSBhIGJyYW5jaCB0byBpdHNlbGYnKTtcbiAgICBlcnJvci5oYXNoID0ge1xuICAgICAgdGV4dDogYG1lcmdlICR7b3RoZXJCcmFuY2h9YCxcbiAgICAgIHRva2VuOiBgbWVyZ2UgJHtvdGhlckJyYW5jaH1gLFxuICAgICAgZXhwZWN0ZWQ6IFtcImJyYW5jaCBhYmNcIl1cbiAgICB9O1xuICAgIHRocm93IGVycm9yO1xuICB9XG4gIGlmIChjdXJyZW50Q29tbWl0ID09PSB2b2lkIDAgfHwgIWN1cnJlbnRDb21taXQpIHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgIGBJbmNvcnJlY3QgdXNhZ2Ugb2YgXCJtZXJnZVwiLiBDdXJyZW50IGJyYW5jaCAoJHtzdGF0ZS5yZWNvcmRzLmN1cnJCcmFuY2h9KWhhcyBubyBjb21taXRzYFxuICAgICk7XG4gICAgZXJyb3IuaGFzaCA9IHtcbiAgICAgIHRleHQ6IGBtZXJnZSAke290aGVyQnJhbmNofWAsXG4gICAgICB0b2tlbjogYG1lcmdlICR7b3RoZXJCcmFuY2h9YCxcbiAgICAgIGV4cGVjdGVkOiBbXCJjb21taXRcIl1cbiAgICB9O1xuICAgIHRocm93IGVycm9yO1xuICB9XG4gIGlmICghc3RhdGUucmVjb3Jkcy5icmFuY2hlcy5oYXMob3RoZXJCcmFuY2gpKSB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAnSW5jb3JyZWN0IHVzYWdlIG9mIFwibWVyZ2VcIi4gQnJhbmNoIHRvIGJlIG1lcmdlZCAoJyArIG90aGVyQnJhbmNoICsgXCIpIGRvZXMgbm90IGV4aXN0XCJcbiAgICApO1xuICAgIGVycm9yLmhhc2ggPSB7XG4gICAgICB0ZXh0OiBgbWVyZ2UgJHtvdGhlckJyYW5jaH1gLFxuICAgICAgdG9rZW46IGBtZXJnZSAke290aGVyQnJhbmNofWAsXG4gICAgICBleHBlY3RlZDogW2BicmFuY2ggJHtvdGhlckJyYW5jaH1gXVxuICAgIH07XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbiAgaWYgKG90aGVyQ29tbWl0ID09PSB2b2lkIDAgfHwgIW90aGVyQ29tbWl0KSB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAnSW5jb3JyZWN0IHVzYWdlIG9mIFwibWVyZ2VcIi4gQnJhbmNoIHRvIGJlIG1lcmdlZCAoJyArIG90aGVyQnJhbmNoICsgXCIpIGhhcyBubyBjb21taXRzXCJcbiAgICApO1xuICAgIGVycm9yLmhhc2ggPSB7XG4gICAgICB0ZXh0OiBgbWVyZ2UgJHtvdGhlckJyYW5jaH1gLFxuICAgICAgdG9rZW46IGBtZXJnZSAke290aGVyQnJhbmNofWAsXG4gICAgICBleHBlY3RlZDogWydcImNvbW1pdFwiJ11cbiAgICB9O1xuICAgIHRocm93IGVycm9yO1xuICB9XG4gIGlmIChjdXJyZW50Q29tbWl0ID09PSBvdGhlckNvbW1pdCkge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdJbmNvcnJlY3QgdXNhZ2Ugb2YgXCJtZXJnZVwiLiBCb3RoIGJyYW5jaGVzIGhhdmUgc2FtZSBoZWFkJyk7XG4gICAgZXJyb3IuaGFzaCA9IHtcbiAgICAgIHRleHQ6IGBtZXJnZSAke290aGVyQnJhbmNofWAsXG4gICAgICB0b2tlbjogYG1lcmdlICR7b3RoZXJCcmFuY2h9YCxcbiAgICAgIGV4cGVjdGVkOiBbXCJicmFuY2ggYWJjXCJdXG4gICAgfTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuICBpZiAoY3VzdG9tSWQgJiYgc3RhdGUucmVjb3Jkcy5jb21taXRzLmhhcyhjdXN0b21JZCkpIHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICdJbmNvcnJlY3QgdXNhZ2Ugb2YgXCJtZXJnZVwiLiBDb21taXQgd2l0aCBpZDonICsgY3VzdG9tSWQgKyBcIiBhbHJlYWR5IGV4aXN0cywgdXNlIGRpZmZlcmVudCBjdXN0b20gSWRcIlxuICAgICk7XG4gICAgZXJyb3IuaGFzaCA9IHtcbiAgICAgIHRleHQ6IGBtZXJnZSAke290aGVyQnJhbmNofSAke2N1c3RvbUlkfSAke292ZXJyaWRlVHlwZX0gJHtjdXN0b21UYWdzPy5qb2luKFwiIFwiKX1gLFxuICAgICAgdG9rZW46IGBtZXJnZSAke290aGVyQnJhbmNofSAke2N1c3RvbUlkfSAke292ZXJyaWRlVHlwZX0gJHtjdXN0b21UYWdzPy5qb2luKFwiIFwiKX1gLFxuICAgICAgZXhwZWN0ZWQ6IFtcbiAgICAgICAgYG1lcmdlICR7b3RoZXJCcmFuY2h9ICR7Y3VzdG9tSWR9X1VOSVFVRSAke292ZXJyaWRlVHlwZX0gJHtjdXN0b21UYWdzPy5qb2luKFwiIFwiKX1gXG4gICAgICBdXG4gICAgfTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxuICBjb25zdCB2ZXJpZmllZEJyYW5jaCA9IG90aGVyQnJhbmNoQ2hlY2sgPyBvdGhlckJyYW5jaENoZWNrIDogXCJcIjtcbiAgY29uc3QgY29tbWl0MiA9IHtcbiAgICBpZDogY3VzdG9tSWQgfHwgYCR7c3RhdGUucmVjb3Jkcy5zZXF9LSR7Z2V0SUQoKX1gLFxuICAgIG1lc3NhZ2U6IGBtZXJnZWQgYnJhbmNoICR7b3RoZXJCcmFuY2h9IGludG8gJHtzdGF0ZS5yZWNvcmRzLmN1cnJCcmFuY2h9YCxcbiAgICBzZXE6IHN0YXRlLnJlY29yZHMuc2VxKyssXG4gICAgcGFyZW50czogc3RhdGUucmVjb3Jkcy5oZWFkID09IG51bGwgPyBbXSA6IFtzdGF0ZS5yZWNvcmRzLmhlYWQuaWQsIHZlcmlmaWVkQnJhbmNoXSxcbiAgICBicmFuY2g6IHN0YXRlLnJlY29yZHMuY3VyckJyYW5jaCxcbiAgICB0eXBlOiBjb21taXRUeXBlLk1FUkdFLFxuICAgIGN1c3RvbVR5cGU6IG92ZXJyaWRlVHlwZSxcbiAgICBjdXN0b21JZDogY3VzdG9tSWQgPyB0cnVlIDogZmFsc2UsXG4gICAgdGFnczogY3VzdG9tVGFncyA/PyBbXVxuICB9O1xuICBzdGF0ZS5yZWNvcmRzLmhlYWQgPSBjb21taXQyO1xuICBzdGF0ZS5yZWNvcmRzLmNvbW1pdHMuc2V0KGNvbW1pdDIuaWQsIGNvbW1pdDIpO1xuICBzdGF0ZS5yZWNvcmRzLmJyYW5jaGVzLnNldChzdGF0ZS5yZWNvcmRzLmN1cnJCcmFuY2gsIGNvbW1pdDIuaWQpO1xuICBsb2cuZGVidWcoc3RhdGUucmVjb3Jkcy5icmFuY2hlcyk7XG4gIGxvZy5kZWJ1ZyhcImluIG1lcmdlQnJhbmNoXCIpO1xufSwgXCJtZXJnZVwiKTtcbnZhciBjaGVycnlQaWNrID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbihjaGVycnlQaWNrREIpIHtcbiAgbGV0IHNvdXJjZUlkID0gY2hlcnJ5UGlja0RCLmlkO1xuICBsZXQgdGFyZ2V0SWQgPSBjaGVycnlQaWNrREIudGFyZ2V0SWQ7XG4gIGxldCB0YWdzID0gY2hlcnJ5UGlja0RCLnRhZ3M7XG4gIGxldCBwYXJlbnRDb21taXRJZCA9IGNoZXJyeVBpY2tEQi5wYXJlbnQ7XG4gIGxvZy5kZWJ1ZyhcIkVudGVyaW5nIGNoZXJyeVBpY2s6XCIsIHNvdXJjZUlkLCB0YXJnZXRJZCwgdGFncyk7XG4gIGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZzMoKTtcbiAgc291cmNlSWQgPSBjb21tb25fZGVmYXVsdC5zYW5pdGl6ZVRleHQoc291cmNlSWQsIGNvbmZpZyk7XG4gIHRhcmdldElkID0gY29tbW9uX2RlZmF1bHQuc2FuaXRpemVUZXh0KHRhcmdldElkLCBjb25maWcpO1xuICB0YWdzID0gdGFncz8ubWFwKCh0YWcpID0+IGNvbW1vbl9kZWZhdWx0LnNhbml0aXplVGV4dCh0YWcsIGNvbmZpZykpO1xuICBwYXJlbnRDb21taXRJZCA9IGNvbW1vbl9kZWZhdWx0LnNhbml0aXplVGV4dChwYXJlbnRDb21taXRJZCwgY29uZmlnKTtcbiAgaWYgKCFzb3VyY2VJZCB8fCAhc3RhdGUucmVjb3Jkcy5jb21taXRzLmhhcyhzb3VyY2VJZCkpIHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICdJbmNvcnJlY3QgdXNhZ2Ugb2YgXCJjaGVycnlQaWNrXCIuIFNvdXJjZSBjb21taXQgaWQgc2hvdWxkIGV4aXN0IGFuZCBwcm92aWRlZCdcbiAgICApO1xuICAgIGVycm9yLmhhc2ggPSB7XG4gICAgICB0ZXh0OiBgY2hlcnJ5UGljayAke3NvdXJjZUlkfSAke3RhcmdldElkfWAsXG4gICAgICB0b2tlbjogYGNoZXJyeVBpY2sgJHtzb3VyY2VJZH0gJHt0YXJnZXRJZH1gLFxuICAgICAgZXhwZWN0ZWQ6IFtcImNoZXJyeS1waWNrIGFiY1wiXVxuICAgIH07XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbiAgY29uc3Qgc291cmNlQ29tbWl0ID0gc3RhdGUucmVjb3Jkcy5jb21taXRzLmdldChzb3VyY2VJZCk7XG4gIGlmIChzb3VyY2VDb21taXQgPT09IHZvaWQgMCB8fCAhc291cmNlQ29tbWl0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3QgdXNhZ2Ugb2YgXCJjaGVycnlQaWNrXCIuIFNvdXJjZSBjb21taXQgaWQgc2hvdWxkIGV4aXN0IGFuZCBwcm92aWRlZCcpO1xuICB9XG4gIGlmIChwYXJlbnRDb21taXRJZCAmJiAhKEFycmF5LmlzQXJyYXkoc291cmNlQ29tbWl0LnBhcmVudHMpICYmIHNvdXJjZUNvbW1pdC5wYXJlbnRzLmluY2x1ZGVzKHBhcmVudENvbW1pdElkKSkpIHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgIFwiSW52YWxpZCBvcGVyYXRpb246IFRoZSBzcGVjaWZpZWQgcGFyZW50IGNvbW1pdCBpcyBub3QgYW4gaW1tZWRpYXRlIHBhcmVudCBvZiB0aGUgY2hlcnJ5LXBpY2tlZCBjb21taXQuXCJcbiAgICApO1xuICAgIHRocm93IGVycm9yO1xuICB9XG4gIGNvbnN0IHNvdXJjZUNvbW1pdEJyYW5jaCA9IHNvdXJjZUNvbW1pdC5icmFuY2g7XG4gIGlmIChzb3VyY2VDb21taXQudHlwZSA9PT0gY29tbWl0VHlwZS5NRVJHRSAmJiAhcGFyZW50Q29tbWl0SWQpIHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgIFwiSW5jb3JyZWN0IHVzYWdlIG9mIGNoZXJyeS1waWNrOiBJZiB0aGUgc291cmNlIGNvbW1pdCBpcyBhIG1lcmdlIGNvbW1pdCwgYW4gaW1tZWRpYXRlIHBhcmVudCBjb21taXQgbXVzdCBiZSBzcGVjaWZpZWQuXCJcbiAgICApO1xuICAgIHRocm93IGVycm9yO1xuICB9XG4gIGlmICghdGFyZ2V0SWQgfHwgIXN0YXRlLnJlY29yZHMuY29tbWl0cy5oYXModGFyZ2V0SWQpKSB7XG4gICAgaWYgKHNvdXJjZUNvbW1pdEJyYW5jaCA9PT0gc3RhdGUucmVjb3Jkcy5jdXJyQnJhbmNoKSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ0luY29ycmVjdCB1c2FnZSBvZiBcImNoZXJyeVBpY2tcIi4gU291cmNlIGNvbW1pdCBpcyBhbHJlYWR5IG9uIGN1cnJlbnQgYnJhbmNoJ1xuICAgICAgKTtcbiAgICAgIGVycm9yLmhhc2ggPSB7XG4gICAgICAgIHRleHQ6IGBjaGVycnlQaWNrICR7c291cmNlSWR9ICR7dGFyZ2V0SWR9YCxcbiAgICAgICAgdG9rZW46IGBjaGVycnlQaWNrICR7c291cmNlSWR9ICR7dGFyZ2V0SWR9YCxcbiAgICAgICAgZXhwZWN0ZWQ6IFtcImNoZXJyeS1waWNrIGFiY1wiXVxuICAgICAgfTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50Q29tbWl0SWQgPSBzdGF0ZS5yZWNvcmRzLmJyYW5jaGVzLmdldChzdGF0ZS5yZWNvcmRzLmN1cnJCcmFuY2gpO1xuICAgIGlmIChjdXJyZW50Q29tbWl0SWQgPT09IHZvaWQgMCB8fCAhY3VycmVudENvbW1pdElkKSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgYEluY29ycmVjdCB1c2FnZSBvZiBcImNoZXJyeS1waWNrXCIuIEN1cnJlbnQgYnJhbmNoICgke3N0YXRlLnJlY29yZHMuY3VyckJyYW5jaH0paGFzIG5vIGNvbW1pdHNgXG4gICAgICApO1xuICAgICAgZXJyb3IuaGFzaCA9IHtcbiAgICAgICAgdGV4dDogYGNoZXJyeVBpY2sgJHtzb3VyY2VJZH0gJHt0YXJnZXRJZH1gLFxuICAgICAgICB0b2tlbjogYGNoZXJyeVBpY2sgJHtzb3VyY2VJZH0gJHt0YXJnZXRJZH1gLFxuICAgICAgICBleHBlY3RlZDogW1wiY2hlcnJ5LXBpY2sgYWJjXCJdXG4gICAgICB9O1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRDb21taXQgPSBzdGF0ZS5yZWNvcmRzLmNvbW1pdHMuZ2V0KGN1cnJlbnRDb21taXRJZCk7XG4gICAgaWYgKGN1cnJlbnRDb21taXQgPT09IHZvaWQgMCB8fCAhY3VycmVudENvbW1pdCkge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGBJbmNvcnJlY3QgdXNhZ2Ugb2YgXCJjaGVycnktcGlja1wiLiBDdXJyZW50IGJyYW5jaCAoJHtzdGF0ZS5yZWNvcmRzLmN1cnJCcmFuY2h9KWhhcyBubyBjb21taXRzYFxuICAgICAgKTtcbiAgICAgIGVycm9yLmhhc2ggPSB7XG4gICAgICAgIHRleHQ6IGBjaGVycnlQaWNrICR7c291cmNlSWR9ICR7dGFyZ2V0SWR9YCxcbiAgICAgICAgdG9rZW46IGBjaGVycnlQaWNrICR7c291cmNlSWR9ICR7dGFyZ2V0SWR9YCxcbiAgICAgICAgZXhwZWN0ZWQ6IFtcImNoZXJyeS1waWNrIGFiY1wiXVxuICAgICAgfTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBjb25zdCBjb21taXQyID0ge1xuICAgICAgaWQ6IHN0YXRlLnJlY29yZHMuc2VxICsgXCItXCIgKyBnZXRJRCgpLFxuICAgICAgbWVzc2FnZTogYGNoZXJyeS1waWNrZWQgJHtzb3VyY2VDb21taXQ/Lm1lc3NhZ2V9IGludG8gJHtzdGF0ZS5yZWNvcmRzLmN1cnJCcmFuY2h9YCxcbiAgICAgIHNlcTogc3RhdGUucmVjb3Jkcy5zZXErKyxcbiAgICAgIHBhcmVudHM6IHN0YXRlLnJlY29yZHMuaGVhZCA9PSBudWxsID8gW10gOiBbc3RhdGUucmVjb3Jkcy5oZWFkLmlkLCBzb3VyY2VDb21taXQuaWRdLFxuICAgICAgYnJhbmNoOiBzdGF0ZS5yZWNvcmRzLmN1cnJCcmFuY2gsXG4gICAgICB0eXBlOiBjb21taXRUeXBlLkNIRVJSWV9QSUNLLFxuICAgICAgdGFnczogdGFncyA/IHRhZ3MuZmlsdGVyKEJvb2xlYW4pIDogW1xuICAgICAgICBgY2hlcnJ5LXBpY2s6JHtzb3VyY2VDb21taXQuaWR9JHtzb3VyY2VDb21taXQudHlwZSA9PT0gY29tbWl0VHlwZS5NRVJHRSA/IGB8cGFyZW50OiR7cGFyZW50Q29tbWl0SWR9YCA6IFwiXCJ9YFxuICAgICAgXVxuICAgIH07XG4gICAgc3RhdGUucmVjb3Jkcy5oZWFkID0gY29tbWl0MjtcbiAgICBzdGF0ZS5yZWNvcmRzLmNvbW1pdHMuc2V0KGNvbW1pdDIuaWQsIGNvbW1pdDIpO1xuICAgIHN0YXRlLnJlY29yZHMuYnJhbmNoZXMuc2V0KHN0YXRlLnJlY29yZHMuY3VyckJyYW5jaCwgY29tbWl0Mi5pZCk7XG4gICAgbG9nLmRlYnVnKHN0YXRlLnJlY29yZHMuYnJhbmNoZXMpO1xuICAgIGxvZy5kZWJ1ZyhcImluIGNoZXJyeVBpY2tcIik7XG4gIH1cbn0sIFwiY2hlcnJ5UGlja1wiKTtcbnZhciBjaGVja291dCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24oYnJhbmNoMikge1xuICBicmFuY2gyID0gY29tbW9uX2RlZmF1bHQuc2FuaXRpemVUZXh0KGJyYW5jaDIsIGdldENvbmZpZzMoKSk7XG4gIGlmICghc3RhdGUucmVjb3Jkcy5icmFuY2hlcy5oYXMoYnJhbmNoMikpIHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgIGBUcnlpbmcgdG8gY2hlY2tvdXQgYnJhbmNoIHdoaWNoIGlzIG5vdCB5ZXQgY3JlYXRlZC4gKEhlbHAgdHJ5IHVzaW5nIFwiYnJhbmNoICR7YnJhbmNoMn1cIilgXG4gICAgKTtcbiAgICBlcnJvci5oYXNoID0ge1xuICAgICAgdGV4dDogYGNoZWNrb3V0ICR7YnJhbmNoMn1gLFxuICAgICAgdG9rZW46IGBjaGVja291dCAke2JyYW5jaDJ9YCxcbiAgICAgIGV4cGVjdGVkOiBbYGJyYW5jaCAke2JyYW5jaDJ9YF1cbiAgICB9O1xuICAgIHRocm93IGVycm9yO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlLnJlY29yZHMuY3VyckJyYW5jaCA9IGJyYW5jaDI7XG4gICAgY29uc3QgaWQgPSBzdGF0ZS5yZWNvcmRzLmJyYW5jaGVzLmdldChzdGF0ZS5yZWNvcmRzLmN1cnJCcmFuY2gpO1xuICAgIGlmIChpZCA9PT0gdm9pZCAwIHx8ICFpZCkge1xuICAgICAgc3RhdGUucmVjb3Jkcy5oZWFkID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUucmVjb3Jkcy5oZWFkID0gc3RhdGUucmVjb3Jkcy5jb21taXRzLmdldChpZCkgPz8gbnVsbDtcbiAgICB9XG4gIH1cbn0sIFwiY2hlY2tvdXRcIik7XG5mdW5jdGlvbiB1cHNlcnQoYXJyLCBrZXksIG5ld1ZhbCkge1xuICBjb25zdCBpbmRleCA9IGFyci5pbmRleE9mKGtleSk7XG4gIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICBhcnIucHVzaChuZXdWYWwpO1xuICB9IGVsc2Uge1xuICAgIGFyci5zcGxpY2UoaW5kZXgsIDEsIG5ld1ZhbCk7XG4gIH1cbn1cbl9fbmFtZSh1cHNlcnQsIFwidXBzZXJ0XCIpO1xuZnVuY3Rpb24gcHJldHR5UHJpbnRDb21taXRIaXN0b3J5KGNvbW1pdEFycikge1xuICBjb25zdCBjb21taXQyID0gY29tbWl0QXJyLnJlZHVjZSgob3V0LCBjb21taXQzKSA9PiB7XG4gICAgaWYgKG91dC5zZXEgPiBjb21taXQzLnNlcSkge1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbW1pdDM7XG4gIH0sIGNvbW1pdEFyclswXSk7XG4gIGxldCBsaW5lID0gXCJcIjtcbiAgY29tbWl0QXJyLmZvckVhY2goZnVuY3Rpb24oYykge1xuICAgIGlmIChjID09PSBjb21taXQyKSB7XG4gICAgICBsaW5lICs9IFwiXHQqXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbmUgKz0gXCJcdHxcIjtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBsYWJlbCA9IFtsaW5lLCBjb21taXQyLmlkLCBjb21taXQyLnNlcV07XG4gIGZvciAoY29uc3QgYnJhbmNoMiBpbiBzdGF0ZS5yZWNvcmRzLmJyYW5jaGVzKSB7XG4gICAgaWYgKHN0YXRlLnJlY29yZHMuYnJhbmNoZXMuZ2V0KGJyYW5jaDIpID09PSBjb21taXQyLmlkKSB7XG4gICAgICBsYWJlbC5wdXNoKGJyYW5jaDIpO1xuICAgIH1cbiAgfVxuICBsb2cuZGVidWcobGFiZWwuam9pbihcIiBcIikpO1xuICBpZiAoY29tbWl0Mi5wYXJlbnRzICYmIGNvbW1pdDIucGFyZW50cy5sZW5ndGggPT0gMiAmJiBjb21taXQyLnBhcmVudHNbMF0gJiYgY29tbWl0Mi5wYXJlbnRzWzFdKSB7XG4gICAgY29uc3QgbmV3Q29tbWl0ID0gc3RhdGUucmVjb3Jkcy5jb21taXRzLmdldChjb21taXQyLnBhcmVudHNbMF0pO1xuICAgIHVwc2VydChjb21taXRBcnIsIGNvbW1pdDIsIG5ld0NvbW1pdCk7XG4gICAgaWYgKGNvbW1pdDIucGFyZW50c1sxXSkge1xuICAgICAgY29tbWl0QXJyLnB1c2goc3RhdGUucmVjb3Jkcy5jb21taXRzLmdldChjb21taXQyLnBhcmVudHNbMV0pKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY29tbWl0Mi5wYXJlbnRzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIGlmIChjb21taXQyLnBhcmVudHNbMF0pIHtcbiAgICAgIGNvbnN0IG5ld0NvbW1pdCA9IHN0YXRlLnJlY29yZHMuY29tbWl0cy5nZXQoY29tbWl0Mi5wYXJlbnRzWzBdKTtcbiAgICAgIHVwc2VydChjb21taXRBcnIsIGNvbW1pdDIsIG5ld0NvbW1pdCk7XG4gICAgfVxuICB9XG4gIGNvbW1pdEFyciA9IHVuaXFCeShjb21taXRBcnIsIChjKSA9PiBjLmlkKTtcbiAgcHJldHR5UHJpbnRDb21taXRIaXN0b3J5KGNvbW1pdEFycik7XG59XG5fX25hbWUocHJldHR5UHJpbnRDb21taXRIaXN0b3J5LCBcInByZXR0eVByaW50Q29tbWl0SGlzdG9yeVwiKTtcbnZhciBwcmV0dHlQcmludCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24oKSB7XG4gIGxvZy5kZWJ1ZyhzdGF0ZS5yZWNvcmRzLmNvbW1pdHMpO1xuICBjb25zdCBub2RlID0gZ2V0Q29tbWl0c0FycmF5KClbMF07XG4gIHByZXR0eVByaW50Q29tbWl0SGlzdG9yeShbbm9kZV0pO1xufSwgXCJwcmV0dHlQcmludFwiKTtcbnZhciBjbGVhcjIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKCkge1xuICBzdGF0ZS5yZXNldCgpO1xuICBjbGVhcigpO1xufSwgXCJjbGVhclwiKTtcbnZhciBnZXRCcmFuY2hlc0FzT2JqQXJyYXkgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKCkge1xuICBjb25zdCBicmFuY2hlc0FycmF5ID0gWy4uLnN0YXRlLnJlY29yZHMuYnJhbmNoQ29uZmlnLnZhbHVlcygpXS5tYXAoKGJyYW5jaENvbmZpZywgaSkgPT4ge1xuICAgIGlmIChicmFuY2hDb25maWcub3JkZXIgIT09IG51bGwgJiYgYnJhbmNoQ29uZmlnLm9yZGVyICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBicmFuY2hDb25maWc7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5icmFuY2hDb25maWcsXG4gICAgICBvcmRlcjogcGFyc2VGbG9hdChgMC4ke2l9YClcbiAgICB9O1xuICB9KS5zb3J0KChhLCBiKSA9PiAoYS5vcmRlciA/PyAwKSAtIChiLm9yZGVyID8/IDApKS5tYXAoKHsgbmFtZSB9KSA9PiAoeyBuYW1lIH0pKTtcbiAgcmV0dXJuIGJyYW5jaGVzQXJyYXk7XG59LCBcImdldEJyYW5jaGVzQXNPYmpBcnJheVwiKTtcbnZhciBnZXRCcmFuY2hlcyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBzdGF0ZS5yZWNvcmRzLmJyYW5jaGVzO1xufSwgXCJnZXRCcmFuY2hlc1wiKTtcbnZhciBnZXRDb21taXRzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHN0YXRlLnJlY29yZHMuY29tbWl0cztcbn0sIFwiZ2V0Q29tbWl0c1wiKTtcbnZhciBnZXRDb21taXRzQXJyYXkgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKCkge1xuICBjb25zdCBjb21taXRBcnIgPSBbLi4uc3RhdGUucmVjb3Jkcy5jb21taXRzLnZhbHVlcygpXTtcbiAgY29tbWl0QXJyLmZvckVhY2goZnVuY3Rpb24obykge1xuICAgIGxvZy5kZWJ1ZyhvLmlkKTtcbiAgfSk7XG4gIGNvbW1pdEFyci5zb3J0KChhLCBiKSA9PiBhLnNlcSAtIGIuc2VxKTtcbiAgcmV0dXJuIGNvbW1pdEFycjtcbn0sIFwiZ2V0Q29tbWl0c0FycmF5XCIpO1xudmFyIGdldEN1cnJlbnRCcmFuY2ggPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gc3RhdGUucmVjb3Jkcy5jdXJyQnJhbmNoO1xufSwgXCJnZXRDdXJyZW50QnJhbmNoXCIpO1xudmFyIGdldERpcmVjdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBzdGF0ZS5yZWNvcmRzLmRpcmVjdGlvbjtcbn0sIFwiZ2V0RGlyZWN0aW9uXCIpO1xudmFyIGdldEhlYWQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gc3RhdGUucmVjb3Jkcy5oZWFkO1xufSwgXCJnZXRIZWFkXCIpO1xudmFyIGRiID0ge1xuICBjb21taXRUeXBlLFxuICBnZXRDb25maWc6IGdldENvbmZpZzMsXG4gIHNldERpcmVjdGlvbixcbiAgc2V0T3B0aW9ucyxcbiAgZ2V0T3B0aW9ucyxcbiAgY29tbWl0LFxuICBicmFuY2gsXG4gIG1lcmdlLFxuICBjaGVycnlQaWNrLFxuICBjaGVja291dCxcbiAgLy9yZXNldCxcbiAgcHJldHR5UHJpbnQsXG4gIGNsZWFyOiBjbGVhcjIsXG4gIGdldEJyYW5jaGVzQXNPYmpBcnJheSxcbiAgZ2V0QnJhbmNoZXMsXG4gIGdldENvbW1pdHMsXG4gIGdldENvbW1pdHNBcnJheSxcbiAgZ2V0Q3VycmVudEJyYW5jaCxcbiAgZ2V0RGlyZWN0aW9uLFxuICBnZXRIZWFkLFxuICBzZXRBY2NUaXRsZSxcbiAgZ2V0QWNjVGl0bGUsXG4gIGdldEFjY0Rlc2NyaXB0aW9uLFxuICBzZXRBY2NEZXNjcmlwdGlvbixcbiAgc2V0RGlhZ3JhbVRpdGxlLFxuICBnZXREaWFncmFtVGl0bGVcbn07XG5cbi8vIHNyYy9kaWFncmFtcy9naXQvZ2l0R3JhcGhQYXJzZXIudHNcbnZhciBwb3B1bGF0ZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGFzdCwgZGIyKSA9PiB7XG4gIHBvcHVsYXRlQ29tbW9uRGIoYXN0LCBkYjIpO1xuICBpZiAoYXN0LmRpcikge1xuICAgIGRiMi5zZXREaXJlY3Rpb24oYXN0LmRpcik7XG4gIH1cbiAgZm9yIChjb25zdCBzdGF0ZW1lbnQgb2YgYXN0LnN0YXRlbWVudHMpIHtcbiAgICBwYXJzZVN0YXRlbWVudChzdGF0ZW1lbnQsIGRiMik7XG4gIH1cbn0sIFwicG9wdWxhdGVcIik7XG52YXIgcGFyc2VTdGF0ZW1lbnQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzdGF0ZW1lbnQsIGRiMikgPT4ge1xuICBjb25zdCBwYXJzZXJzID0ge1xuICAgIENvbW1pdDogLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc3RtdCkgPT4gZGIyLmNvbW1pdChwYXJzZUNvbW1pdChzdG10KSksIFwiQ29tbWl0XCIpLFxuICAgIEJyYW5jaDogLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc3RtdCkgPT4gZGIyLmJyYW5jaChwYXJzZUJyYW5jaChzdG10KSksIFwiQnJhbmNoXCIpLFxuICAgIE1lcmdlOiAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzdG10KSA9PiBkYjIubWVyZ2UocGFyc2VNZXJnZShzdG10KSksIFwiTWVyZ2VcIiksXG4gICAgQ2hlY2tvdXQ6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHN0bXQpID0+IGRiMi5jaGVja291dChwYXJzZUNoZWNrb3V0KHN0bXQpKSwgXCJDaGVja291dFwiKSxcbiAgICBDaGVycnlQaWNraW5nOiAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzdG10KSA9PiBkYjIuY2hlcnJ5UGljayhwYXJzZUNoZXJyeVBpY2tpbmcoc3RtdCkpLCBcIkNoZXJyeVBpY2tpbmdcIilcbiAgfTtcbiAgY29uc3QgcGFyc2VyMiA9IHBhcnNlcnNbc3RhdGVtZW50LiR0eXBlXTtcbiAgaWYgKHBhcnNlcjIpIHtcbiAgICBwYXJzZXIyKHN0YXRlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAgbG9nLmVycm9yKGBVbmtub3duIHN0YXRlbWVudCB0eXBlOiAke3N0YXRlbWVudC4kdHlwZX1gKTtcbiAgfVxufSwgXCJwYXJzZVN0YXRlbWVudFwiKTtcbnZhciBwYXJzZUNvbW1pdCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGNvbW1pdDIpID0+IHtcbiAgY29uc3QgY29tbWl0REIgPSB7XG4gICAgaWQ6IGNvbW1pdDIuaWQsXG4gICAgbXNnOiBjb21taXQyLm1lc3NhZ2UgPz8gXCJcIixcbiAgICB0eXBlOiBjb21taXQyLnR5cGUgIT09IHZvaWQgMCA/IGNvbW1pdFR5cGVbY29tbWl0Mi50eXBlXSA6IGNvbW1pdFR5cGUuTk9STUFMLFxuICAgIHRhZ3M6IGNvbW1pdDIudGFncyA/PyB2b2lkIDBcbiAgfTtcbiAgcmV0dXJuIGNvbW1pdERCO1xufSwgXCJwYXJzZUNvbW1pdFwiKTtcbnZhciBwYXJzZUJyYW5jaCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGJyYW5jaDIpID0+IHtcbiAgY29uc3QgYnJhbmNoREIgPSB7XG4gICAgbmFtZTogYnJhbmNoMi5uYW1lLFxuICAgIG9yZGVyOiBicmFuY2gyLm9yZGVyID8/IDBcbiAgfTtcbiAgcmV0dXJuIGJyYW5jaERCO1xufSwgXCJwYXJzZUJyYW5jaFwiKTtcbnZhciBwYXJzZU1lcmdlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgobWVyZ2UyKSA9PiB7XG4gIGNvbnN0IG1lcmdlREIgPSB7XG4gICAgYnJhbmNoOiBtZXJnZTIuYnJhbmNoLFxuICAgIGlkOiBtZXJnZTIuaWQgPz8gXCJcIixcbiAgICB0eXBlOiBtZXJnZTIudHlwZSAhPT0gdm9pZCAwID8gY29tbWl0VHlwZVttZXJnZTIudHlwZV0gOiB2b2lkIDAsXG4gICAgdGFnczogbWVyZ2UyLnRhZ3MgPz8gdm9pZCAwXG4gIH07XG4gIHJldHVybiBtZXJnZURCO1xufSwgXCJwYXJzZU1lcmdlXCIpO1xudmFyIHBhcnNlQ2hlY2tvdXQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjaGVja291dDIpID0+IHtcbiAgY29uc3QgYnJhbmNoMiA9IGNoZWNrb3V0Mi5icmFuY2g7XG4gIHJldHVybiBicmFuY2gyO1xufSwgXCJwYXJzZUNoZWNrb3V0XCIpO1xudmFyIHBhcnNlQ2hlcnJ5UGlja2luZyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGNoZXJyeVBpY2tpbmcpID0+IHtcbiAgY29uc3QgY2hlcnJ5UGlja0RCID0ge1xuICAgIGlkOiBjaGVycnlQaWNraW5nLmlkLFxuICAgIHRhcmdldElkOiBcIlwiLFxuICAgIHRhZ3M6IGNoZXJyeVBpY2tpbmcudGFncz8ubGVuZ3RoID09PSAwID8gdm9pZCAwIDogY2hlcnJ5UGlja2luZy50YWdzLFxuICAgIHBhcmVudDogY2hlcnJ5UGlja2luZy5wYXJlbnRcbiAgfTtcbiAgcmV0dXJuIGNoZXJyeVBpY2tEQjtcbn0sIFwicGFyc2VDaGVycnlQaWNraW5nXCIpO1xudmFyIHBhcnNlciA9IHtcbiAgcGFyc2U6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKGlucHV0KSA9PiB7XG4gICAgY29uc3QgYXN0ID0gYXdhaXQgcGFyc2UoXCJnaXRHcmFwaFwiLCBpbnB1dCk7XG4gICAgbG9nLmRlYnVnKGFzdCk7XG4gICAgcG9wdWxhdGUoYXN0LCBkYik7XG4gIH0sIFwicGFyc2VcIilcbn07XG5pZiAodm9pZCAwKSB7XG4gIGNvbnN0IHsgaXQsIGV4cGVjdCwgZGVzY3JpYmUgfSA9IHZvaWQgMDtcbiAgY29uc3QgbW9ja0RCID0ge1xuICAgIGNvbW1pdFR5cGUsXG4gICAgc2V0RGlyZWN0aW9uOiB2aS5mbigpLFxuICAgIGNvbW1pdDogdmkuZm4oKSxcbiAgICBicmFuY2g6IHZpLmZuKCksXG4gICAgbWVyZ2U6IHZpLmZuKCksXG4gICAgY2hlcnJ5UGljazogdmkuZm4oKSxcbiAgICBjaGVja291dDogdmkuZm4oKVxuICB9O1xuICBkZXNjcmliZShcIkdpdEdyYXBoIFBhcnNlclwiLCAoKSA9PiB7XG4gICAgaXQoXCJzaG91bGQgcGFyc2UgYSBjb21taXQgc3RhdGVtZW50XCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbW1pdDIgPSB7XG4gICAgICAgICR0eXBlOiBcIkNvbW1pdFwiLFxuICAgICAgICBpZDogXCIxXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwidGVzdFwiLFxuICAgICAgICB0YWdzOiBbXCJ0YWcxXCIsIFwidGFnMlwiXSxcbiAgICAgICAgdHlwZTogXCJOT1JNQUxcIlxuICAgICAgfTtcbiAgICAgIHBhcnNlU3RhdGVtZW50KGNvbW1pdDIsIG1vY2tEQik7XG4gICAgICBleHBlY3QobW9ja0RCLmNvbW1pdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBpZDogXCIxXCIsXG4gICAgICAgIG1zZzogXCJ0ZXN0XCIsXG4gICAgICAgIHRhZ3M6IFtcInRhZzFcIiwgXCJ0YWcyXCJdLFxuICAgICAgICB0eXBlOiAwXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpdChcInNob3VsZCBwYXJzZSBhIGJyYW5jaCBzdGF0ZW1lbnRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgYnJhbmNoMiA9IHtcbiAgICAgICAgJHR5cGU6IFwiQnJhbmNoXCIsXG4gICAgICAgIG5hbWU6IFwibmV3QnJhbmNoXCIsXG4gICAgICAgIG9yZGVyOiAxXG4gICAgICB9O1xuICAgICAgcGFyc2VTdGF0ZW1lbnQoYnJhbmNoMiwgbW9ja0RCKTtcbiAgICAgIGV4cGVjdChtb2NrREIuYnJhbmNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IG5hbWU6IFwibmV3QnJhbmNoXCIsIG9yZGVyOiAxIH0pO1xuICAgIH0pO1xuICAgIGl0KFwic2hvdWxkIHBhcnNlIGEgY2hlY2tvdXQgc3RhdGVtZW50XCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGNoZWNrb3V0MiA9IHtcbiAgICAgICAgJHR5cGU6IFwiQ2hlY2tvdXRcIixcbiAgICAgICAgYnJhbmNoOiBcIm5ld0JyYW5jaFwiXG4gICAgICB9O1xuICAgICAgcGFyc2VTdGF0ZW1lbnQoY2hlY2tvdXQyLCBtb2NrREIpO1xuICAgICAgZXhwZWN0KG1vY2tEQi5jaGVja291dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXCJuZXdCcmFuY2hcIik7XG4gICAgfSk7XG4gICAgaXQoXCJzaG91bGQgcGFyc2UgYSBtZXJnZSBzdGF0ZW1lbnRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgbWVyZ2UyID0ge1xuICAgICAgICAkdHlwZTogXCJNZXJnZVwiLFxuICAgICAgICBicmFuY2g6IFwibmV3QnJhbmNoXCIsXG4gICAgICAgIGlkOiBcIjFcIixcbiAgICAgICAgdGFnczogW1widGFnMVwiLCBcInRhZzJcIl0sXG4gICAgICAgIHR5cGU6IFwiTk9STUFMXCJcbiAgICAgIH07XG4gICAgICBwYXJzZVN0YXRlbWVudChtZXJnZTIsIG1vY2tEQik7XG4gICAgICBleHBlY3QobW9ja0RCLm1lcmdlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGJyYW5jaDogXCJuZXdCcmFuY2hcIixcbiAgICAgICAgaWQ6IFwiMVwiLFxuICAgICAgICB0YWdzOiBbXCJ0YWcxXCIsIFwidGFnMlwiXSxcbiAgICAgICAgdHlwZTogMFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXQoXCJzaG91bGQgcGFyc2UgYSBjaGVycnkgcGlja2luZyBzdGF0ZW1lbnRcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgY2hlcnJ5UGljazIgPSB7XG4gICAgICAgICR0eXBlOiBcIkNoZXJyeVBpY2tpbmdcIixcbiAgICAgICAgaWQ6IFwiMVwiLFxuICAgICAgICB0YWdzOiBbXCJ0YWcxXCIsIFwidGFnMlwiXSxcbiAgICAgICAgcGFyZW50OiBcIjJcIlxuICAgICAgfTtcbiAgICAgIHBhcnNlU3RhdGVtZW50KGNoZXJyeVBpY2syLCBtb2NrREIpO1xuICAgICAgZXhwZWN0KG1vY2tEQi5jaGVycnlQaWNrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGlkOiBcIjFcIixcbiAgICAgICAgdGFyZ2V0SWQ6IFwiXCIsXG4gICAgICAgIHBhcmVudDogXCIyXCIsXG4gICAgICAgIHRhZ3M6IFtcInRhZzFcIiwgXCJ0YWcyXCJdXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpdChcInNob3VsZCBwYXJzZSBhIGxhbmdpdW0gZ2VuZXJhdGVkIGdpdEdyYXBoIGFzdFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBkdW1teSA9IHtcbiAgICAgICAgJHR5cGU6IFwiR2l0R3JhcGhcIixcbiAgICAgICAgc3RhdGVtZW50czogW11cbiAgICAgIH07XG4gICAgICBjb25zdCBnaXRHcmFwaEFzdCA9IHtcbiAgICAgICAgJHR5cGU6IFwiR2l0R3JhcGhcIixcbiAgICAgICAgc3RhdGVtZW50czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgICRjb250YWluZXI6IGR1bW15LFxuICAgICAgICAgICAgJHR5cGU6IFwiQ29tbWl0XCIsXG4gICAgICAgICAgICBpZDogXCIxXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBcInRlc3RcIixcbiAgICAgICAgICAgIHRhZ3M6IFtcInRhZzFcIiwgXCJ0YWcyXCJdLFxuICAgICAgICAgICAgdHlwZTogXCJOT1JNQUxcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgJGNvbnRhaW5lcjogZHVtbXksXG4gICAgICAgICAgICAkdHlwZTogXCJCcmFuY2hcIixcbiAgICAgICAgICAgIG5hbWU6IFwibmV3QnJhbmNoXCIsXG4gICAgICAgICAgICBvcmRlcjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgJGNvbnRhaW5lcjogZHVtbXksXG4gICAgICAgICAgICAkdHlwZTogXCJNZXJnZVwiLFxuICAgICAgICAgICAgYnJhbmNoOiBcIm5ld0JyYW5jaFwiLFxuICAgICAgICAgICAgaWQ6IFwiMVwiLFxuICAgICAgICAgICAgdGFnczogW1widGFnMVwiLCBcInRhZzJcIl0sXG4gICAgICAgICAgICB0eXBlOiBcIk5PUk1BTFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAkY29udGFpbmVyOiBkdW1teSxcbiAgICAgICAgICAgICR0eXBlOiBcIkNoZWNrb3V0XCIsXG4gICAgICAgICAgICBicmFuY2g6IFwibmV3QnJhbmNoXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICRjb250YWluZXI6IGR1bW15LFxuICAgICAgICAgICAgJHR5cGU6IFwiQ2hlcnJ5UGlja2luZ1wiLFxuICAgICAgICAgICAgaWQ6IFwiMVwiLFxuICAgICAgICAgICAgdGFnczogW1widGFnMVwiLCBcInRhZzJcIl0sXG4gICAgICAgICAgICBwYXJlbnQ6IFwiMlwiXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9O1xuICAgICAgcG9wdWxhdGUoZ2l0R3JhcGhBc3QsIG1vY2tEQik7XG4gICAgICBleHBlY3QobW9ja0RCLmNvbW1pdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBpZDogXCIxXCIsXG4gICAgICAgIG1zZzogXCJ0ZXN0XCIsXG4gICAgICAgIHRhZ3M6IFtcInRhZzFcIiwgXCJ0YWcyXCJdLFxuICAgICAgICB0eXBlOiAwXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChtb2NrREIuYnJhbmNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7IG5hbWU6IFwibmV3QnJhbmNoXCIsIG9yZGVyOiAxIH0pO1xuICAgICAgZXhwZWN0KG1vY2tEQi5tZXJnZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICBicmFuY2g6IFwibmV3QnJhbmNoXCIsXG4gICAgICAgIGlkOiBcIjFcIixcbiAgICAgICAgdGFnczogW1widGFnMVwiLCBcInRhZzJcIl0sXG4gICAgICAgIHR5cGU6IDBcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KG1vY2tEQi5jaGVja291dCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXCJuZXdCcmFuY2hcIik7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vLyBzcmMvZGlhZ3JhbXMvZ2l0L2dpdEdyYXBoUmVuZGVyZXIudHNcbmltcG9ydCB7IHNlbGVjdCB9IGZyb20gXCJkM1wiO1xudmFyIERFRkFVTFRfQ09ORklHID0gZ2V0Q29uZmlnMigpO1xudmFyIERFRkFVTFRfR0lUR1JBUEhfQ09ORklHMiA9IERFRkFVTFRfQ09ORklHPy5naXRHcmFwaDtcbnZhciBMQVlPVVRfT0ZGU0VUID0gMTA7XG52YXIgQ09NTUlUX1NURVAgPSA0MDtcbnZhciBQWCA9IDQ7XG52YXIgUFkgPSAyO1xudmFyIFRIRU1FX0NPTE9SX0xJTUlUID0gODtcbnZhciBicmFuY2hQb3MgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xudmFyIGNvbW1pdFBvcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG52YXIgZGVmYXVsdFBvcyA9IDMwO1xudmFyIGFsbENvbW1pdHNEaWN0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbnZhciBsYW5lcyA9IFtdO1xudmFyIG1heFBvcyA9IDA7XG52YXIgZGlyID0gXCJMUlwiO1xudmFyIGNsZWFyMyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4ge1xuICBicmFuY2hQb3MuY2xlYXIoKTtcbiAgY29tbWl0UG9zLmNsZWFyKCk7XG4gIGFsbENvbW1pdHNEaWN0LmNsZWFyKCk7XG4gIG1heFBvcyA9IDA7XG4gIGxhbmVzID0gW107XG4gIGRpciA9IFwiTFJcIjtcbn0sIFwiY2xlYXJcIik7XG52YXIgZHJhd1RleHQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKCh0eHQpID0+IHtcbiAgY29uc3Qgc3ZnTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInRleHRcIik7XG4gIGNvbnN0IHJvd3MgPSB0eXBlb2YgdHh0ID09PSBcInN0cmluZ1wiID8gdHh0LnNwbGl0KC9cXFxcbnxcXG58PGJyXFxzKlxcLz8+L2dpKSA6IHR4dDtcbiAgcm93cy5mb3JFYWNoKChyb3cpID0+IHtcbiAgICBjb25zdCB0c3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwidHNwYW5cIik7XG4gICAgdHNwYW4uc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIiwgXCJ4bWw6c3BhY2VcIiwgXCJwcmVzZXJ2ZVwiKTtcbiAgICB0c3Bhbi5zZXRBdHRyaWJ1dGUoXCJkeVwiLCBcIjFlbVwiKTtcbiAgICB0c3Bhbi5zZXRBdHRyaWJ1dGUoXCJ4XCIsIFwiMFwiKTtcbiAgICB0c3Bhbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInJvd1wiKTtcbiAgICB0c3Bhbi50ZXh0Q29udGVudCA9IHJvdy50cmltKCk7XG4gICAgc3ZnTGFiZWwuYXBwZW5kQ2hpbGQodHNwYW4pO1xuICB9KTtcbiAgcmV0dXJuIHN2Z0xhYmVsO1xufSwgXCJkcmF3VGV4dFwiKTtcbnZhciBmaW5kQ2xvc2VzdFBhcmVudCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHBhcmVudHMpID0+IHtcbiAgbGV0IGNsb3Nlc3RQYXJlbnQ7XG4gIGxldCBjb21wYXJpc29uRnVuYztcbiAgbGV0IHRhcmdldFBvc2l0aW9uO1xuICBpZiAoZGlyID09PSBcIkJUXCIpIHtcbiAgICBjb21wYXJpc29uRnVuYyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGEsIGIpID0+IGEgPD0gYiwgXCJjb21wYXJpc29uRnVuY1wiKTtcbiAgICB0YXJnZXRQb3NpdGlvbiA9IEluZmluaXR5O1xuICB9IGVsc2Uge1xuICAgIGNvbXBhcmlzb25GdW5jID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoYSwgYikgPT4gYSA+PSBiLCBcImNvbXBhcmlzb25GdW5jXCIpO1xuICAgIHRhcmdldFBvc2l0aW9uID0gMDtcbiAgfVxuICBwYXJlbnRzLmZvckVhY2goKHBhcmVudCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudFBvc2l0aW9uID0gZGlyID09PSBcIlRCXCIgfHwgZGlyID09IFwiQlRcIiA/IGNvbW1pdFBvcy5nZXQocGFyZW50KT8ueSA6IGNvbW1pdFBvcy5nZXQocGFyZW50KT8ueDtcbiAgICBpZiAocGFyZW50UG9zaXRpb24gIT09IHZvaWQgMCAmJiBjb21wYXJpc29uRnVuYyhwYXJlbnRQb3NpdGlvbiwgdGFyZ2V0UG9zaXRpb24pKSB7XG4gICAgICBjbG9zZXN0UGFyZW50ID0gcGFyZW50O1xuICAgICAgdGFyZ2V0UG9zaXRpb24gPSBwYXJlbnRQb3NpdGlvbjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2xvc2VzdFBhcmVudDtcbn0sIFwiZmluZENsb3Nlc3RQYXJlbnRcIik7XG52YXIgZmluZENsb3Nlc3RQYXJlbnRCVCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHBhcmVudHMpID0+IHtcbiAgbGV0IGNsb3Nlc3RQYXJlbnQgPSBcIlwiO1xuICBsZXQgbWF4UG9zaXRpb24gPSBJbmZpbml0eTtcbiAgcGFyZW50cy5mb3JFYWNoKChwYXJlbnQpID0+IHtcbiAgICBjb25zdCBwYXJlbnRQb3NpdGlvbiA9IGNvbW1pdFBvcy5nZXQocGFyZW50KS55O1xuICAgIGlmIChwYXJlbnRQb3NpdGlvbiA8PSBtYXhQb3NpdGlvbikge1xuICAgICAgY2xvc2VzdFBhcmVudCA9IHBhcmVudDtcbiAgICAgIG1heFBvc2l0aW9uID0gcGFyZW50UG9zaXRpb247XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNsb3Nlc3RQYXJlbnQgfHwgdm9pZCAwO1xufSwgXCJmaW5kQ2xvc2VzdFBhcmVudEJUXCIpO1xudmFyIHNldFBhcmFsbGVsQlRQb3MgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzb3J0ZWRLZXlzLCBjb21taXRzLCBkZWZhdWx0UG9zMikgPT4ge1xuICBsZXQgY3VyUG9zID0gZGVmYXVsdFBvczI7XG4gIGxldCBtYXhQb3NpdGlvbiA9IGRlZmF1bHRQb3MyO1xuICBjb25zdCByb290cyA9IFtdO1xuICBzb3J0ZWRLZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IGNvbW1pdDIgPSBjb21taXRzLmdldChrZXkpO1xuICAgIGlmICghY29tbWl0Mikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb21taXQgbm90IGZvdW5kIGZvciBrZXkgJHtrZXl9YCk7XG4gICAgfVxuICAgIGlmIChjb21taXQyLnBhcmVudHMubGVuZ3RoKSB7XG4gICAgICBjdXJQb3MgPSBjYWxjdWxhdGVDb21taXRQb3NpdGlvbihjb21taXQyKTtcbiAgICAgIG1heFBvc2l0aW9uID0gTWF0aC5tYXgoY3VyUG9zLCBtYXhQb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3RzLnB1c2goY29tbWl0Mik7XG4gICAgfVxuICAgIHNldENvbW1pdFBvc2l0aW9uKGNvbW1pdDIsIGN1clBvcyk7XG4gIH0pO1xuICBjdXJQb3MgPSBtYXhQb3NpdGlvbjtcbiAgcm9vdHMuZm9yRWFjaCgoY29tbWl0MikgPT4ge1xuICAgIHNldFJvb3RQb3NpdGlvbihjb21taXQyLCBjdXJQb3MsIGRlZmF1bHRQb3MyKTtcbiAgfSk7XG4gIHNvcnRlZEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgY29tbWl0MiA9IGNvbW1pdHMuZ2V0KGtleSk7XG4gICAgaWYgKGNvbW1pdDI/LnBhcmVudHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBjbG9zZXN0UGFyZW50ID0gZmluZENsb3Nlc3RQYXJlbnRCVChjb21taXQyLnBhcmVudHMpO1xuICAgICAgY3VyUG9zID0gY29tbWl0UG9zLmdldChjbG9zZXN0UGFyZW50KS55IC0gQ09NTUlUX1NURVA7XG4gICAgICBpZiAoY3VyUG9zIDw9IG1heFBvc2l0aW9uKSB7XG4gICAgICAgIG1heFBvc2l0aW9uID0gY3VyUG9zO1xuICAgICAgfVxuICAgICAgY29uc3QgeCA9IGJyYW5jaFBvcy5nZXQoY29tbWl0Mi5icmFuY2gpLnBvcztcbiAgICAgIGNvbnN0IHkgPSBjdXJQb3MgLSBMQVlPVVRfT0ZGU0VUO1xuICAgICAgY29tbWl0UG9zLnNldChjb21taXQyLmlkLCB7IHgsIHkgfSk7XG4gICAgfVxuICB9KTtcbn0sIFwic2V0UGFyYWxsZWxCVFBvc1wiKTtcbnZhciBmaW5kQ2xvc2VzdFBhcmVudFBvcyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGNvbW1pdDIpID0+IHtcbiAgY29uc3QgY2xvc2VzdFBhcmVudCA9IGZpbmRDbG9zZXN0UGFyZW50KGNvbW1pdDIucGFyZW50cy5maWx0ZXIoKHApID0+IHAgIT09IG51bGwpKTtcbiAgaWYgKCFjbG9zZXN0UGFyZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDbG9zZXN0IHBhcmVudCBub3QgZm91bmQgZm9yIGNvbW1pdCAke2NvbW1pdDIuaWR9YCk7XG4gIH1cbiAgY29uc3QgY2xvc2VzdFBhcmVudFBvcyA9IGNvbW1pdFBvcy5nZXQoY2xvc2VzdFBhcmVudCk/Lnk7XG4gIGlmIChjbG9zZXN0UGFyZW50UG9zID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENsb3Nlc3QgcGFyZW50IHBvc2l0aW9uIG5vdCBmb3VuZCBmb3IgY29tbWl0ICR7Y29tbWl0Mi5pZH1gKTtcbiAgfVxuICByZXR1cm4gY2xvc2VzdFBhcmVudFBvcztcbn0sIFwiZmluZENsb3Nlc3RQYXJlbnRQb3NcIik7XG52YXIgY2FsY3VsYXRlQ29tbWl0UG9zaXRpb24gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjb21taXQyKSA9PiB7XG4gIGNvbnN0IGNsb3Nlc3RQYXJlbnRQb3MgPSBmaW5kQ2xvc2VzdFBhcmVudFBvcyhjb21taXQyKTtcbiAgcmV0dXJuIGNsb3Nlc3RQYXJlbnRQb3MgKyBDT01NSVRfU1RFUDtcbn0sIFwiY2FsY3VsYXRlQ29tbWl0UG9zaXRpb25cIik7XG52YXIgc2V0Q29tbWl0UG9zaXRpb24gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjb21taXQyLCBjdXJQb3MpID0+IHtcbiAgY29uc3QgYnJhbmNoMiA9IGJyYW5jaFBvcy5nZXQoY29tbWl0Mi5icmFuY2gpO1xuICBpZiAoIWJyYW5jaDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEJyYW5jaCBub3QgZm91bmQgZm9yIGNvbW1pdCAke2NvbW1pdDIuaWR9YCk7XG4gIH1cbiAgY29uc3QgeCA9IGJyYW5jaDIucG9zO1xuICBjb25zdCB5ID0gY3VyUG9zICsgTEFZT1VUX09GRlNFVDtcbiAgY29tbWl0UG9zLnNldChjb21taXQyLmlkLCB7IHgsIHkgfSk7XG4gIHJldHVybiB7IHgsIHkgfTtcbn0sIFwic2V0Q29tbWl0UG9zaXRpb25cIik7XG52YXIgc2V0Um9vdFBvc2l0aW9uID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY29tbWl0MiwgY3VyUG9zLCBkZWZhdWx0UG9zMikgPT4ge1xuICBjb25zdCBicmFuY2gyID0gYnJhbmNoUG9zLmdldChjb21taXQyLmJyYW5jaCk7XG4gIGlmICghYnJhbmNoMikge1xuICAgIHRocm93IG5ldyBFcnJvcihgQnJhbmNoIG5vdCBmb3VuZCBmb3IgY29tbWl0ICR7Y29tbWl0Mi5pZH1gKTtcbiAgfVxuICBjb25zdCB5ID0gY3VyUG9zICsgZGVmYXVsdFBvczI7XG4gIGNvbnN0IHggPSBicmFuY2gyLnBvcztcbiAgY29tbWl0UG9zLnNldChjb21taXQyLmlkLCB7IHgsIHkgfSk7XG59LCBcInNldFJvb3RQb3NpdGlvblwiKTtcbnZhciBkcmF3Q29tbWl0QnVsbGV0ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoZ0J1bGxldHMsIGNvbW1pdDIsIGNvbW1pdFBvc2l0aW9uLCB0eXBlQ2xhc3MsIGJyYW5jaEluZGV4LCBjb21taXRTeW1ib2xUeXBlKSA9PiB7XG4gIGlmIChjb21taXRTeW1ib2xUeXBlID09PSBjb21taXRUeXBlLkhJR0hMSUdIVCkge1xuICAgIGdCdWxsZXRzLmFwcGVuZChcInJlY3RcIikuYXR0cihcInhcIiwgY29tbWl0UG9zaXRpb24ueCAtIDEwKS5hdHRyKFwieVwiLCBjb21taXRQb3NpdGlvbi55IC0gMTApLmF0dHIoXCJ3aWR0aFwiLCAyMCkuYXR0cihcImhlaWdodFwiLCAyMCkuYXR0cihcbiAgICAgIFwiY2xhc3NcIixcbiAgICAgIGBjb21taXQgJHtjb21taXQyLmlkfSBjb21taXQtaGlnaGxpZ2h0JHticmFuY2hJbmRleCAlIFRIRU1FX0NPTE9SX0xJTUlUfSAke3R5cGVDbGFzc30tb3V0ZXJgXG4gICAgKTtcbiAgICBnQnVsbGV0cy5hcHBlbmQoXCJyZWN0XCIpLmF0dHIoXCJ4XCIsIGNvbW1pdFBvc2l0aW9uLnggLSA2KS5hdHRyKFwieVwiLCBjb21taXRQb3NpdGlvbi55IC0gNikuYXR0cihcIndpZHRoXCIsIDEyKS5hdHRyKFwiaGVpZ2h0XCIsIDEyKS5hdHRyKFxuICAgICAgXCJjbGFzc1wiLFxuICAgICAgYGNvbW1pdCAke2NvbW1pdDIuaWR9IGNvbW1pdCR7YnJhbmNoSW5kZXggJSBUSEVNRV9DT0xPUl9MSU1JVH0gJHt0eXBlQ2xhc3N9LWlubmVyYFxuICAgICk7XG4gIH0gZWxzZSBpZiAoY29tbWl0U3ltYm9sVHlwZSA9PT0gY29tbWl0VHlwZS5DSEVSUllfUElDSykge1xuICAgIGdCdWxsZXRzLmFwcGVuZChcImNpcmNsZVwiKS5hdHRyKFwiY3hcIiwgY29tbWl0UG9zaXRpb24ueCkuYXR0cihcImN5XCIsIGNvbW1pdFBvc2l0aW9uLnkpLmF0dHIoXCJyXCIsIDEwKS5hdHRyKFwiY2xhc3NcIiwgYGNvbW1pdCAke2NvbW1pdDIuaWR9ICR7dHlwZUNsYXNzfWApO1xuICAgIGdCdWxsZXRzLmFwcGVuZChcImNpcmNsZVwiKS5hdHRyKFwiY3hcIiwgY29tbWl0UG9zaXRpb24ueCAtIDMpLmF0dHIoXCJjeVwiLCBjb21taXRQb3NpdGlvbi55ICsgMikuYXR0cihcInJcIiwgMi43NSkuYXR0cihcImZpbGxcIiwgXCIjZmZmXCIpLmF0dHIoXCJjbGFzc1wiLCBgY29tbWl0ICR7Y29tbWl0Mi5pZH0gJHt0eXBlQ2xhc3N9YCk7XG4gICAgZ0J1bGxldHMuYXBwZW5kKFwiY2lyY2xlXCIpLmF0dHIoXCJjeFwiLCBjb21taXRQb3NpdGlvbi54ICsgMykuYXR0cihcImN5XCIsIGNvbW1pdFBvc2l0aW9uLnkgKyAyKS5hdHRyKFwiclwiLCAyLjc1KS5hdHRyKFwiZmlsbFwiLCBcIiNmZmZcIikuYXR0cihcImNsYXNzXCIsIGBjb21taXQgJHtjb21taXQyLmlkfSAke3R5cGVDbGFzc31gKTtcbiAgICBnQnVsbGV0cy5hcHBlbmQoXCJsaW5lXCIpLmF0dHIoXCJ4MVwiLCBjb21taXRQb3NpdGlvbi54ICsgMykuYXR0cihcInkxXCIsIGNvbW1pdFBvc2l0aW9uLnkgKyAxKS5hdHRyKFwieDJcIiwgY29tbWl0UG9zaXRpb24ueCkuYXR0cihcInkyXCIsIGNvbW1pdFBvc2l0aW9uLnkgLSA1KS5hdHRyKFwic3Ryb2tlXCIsIFwiI2ZmZlwiKS5hdHRyKFwiY2xhc3NcIiwgYGNvbW1pdCAke2NvbW1pdDIuaWR9ICR7dHlwZUNsYXNzfWApO1xuICAgIGdCdWxsZXRzLmFwcGVuZChcImxpbmVcIikuYXR0cihcIngxXCIsIGNvbW1pdFBvc2l0aW9uLnggLSAzKS5hdHRyKFwieTFcIiwgY29tbWl0UG9zaXRpb24ueSArIDEpLmF0dHIoXCJ4MlwiLCBjb21taXRQb3NpdGlvbi54KS5hdHRyKFwieTJcIiwgY29tbWl0UG9zaXRpb24ueSAtIDUpLmF0dHIoXCJzdHJva2VcIiwgXCIjZmZmXCIpLmF0dHIoXCJjbGFzc1wiLCBgY29tbWl0ICR7Y29tbWl0Mi5pZH0gJHt0eXBlQ2xhc3N9YCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY2lyY2xlID0gZ0J1bGxldHMuYXBwZW5kKFwiY2lyY2xlXCIpO1xuICAgIGNpcmNsZS5hdHRyKFwiY3hcIiwgY29tbWl0UG9zaXRpb24ueCk7XG4gICAgY2lyY2xlLmF0dHIoXCJjeVwiLCBjb21taXRQb3NpdGlvbi55KTtcbiAgICBjaXJjbGUuYXR0cihcInJcIiwgY29tbWl0Mi50eXBlID09PSBjb21taXRUeXBlLk1FUkdFID8gOSA6IDEwKTtcbiAgICBjaXJjbGUuYXR0cihcImNsYXNzXCIsIGBjb21taXQgJHtjb21taXQyLmlkfSBjb21taXQke2JyYW5jaEluZGV4ICUgVEhFTUVfQ09MT1JfTElNSVR9YCk7XG4gICAgaWYgKGNvbW1pdFN5bWJvbFR5cGUgPT09IGNvbW1pdFR5cGUuTUVSR0UpIHtcbiAgICAgIGNvbnN0IGNpcmNsZTIgPSBnQnVsbGV0cy5hcHBlbmQoXCJjaXJjbGVcIik7XG4gICAgICBjaXJjbGUyLmF0dHIoXCJjeFwiLCBjb21taXRQb3NpdGlvbi54KTtcbiAgICAgIGNpcmNsZTIuYXR0cihcImN5XCIsIGNvbW1pdFBvc2l0aW9uLnkpO1xuICAgICAgY2lyY2xlMi5hdHRyKFwiclwiLCA2KTtcbiAgICAgIGNpcmNsZTIuYXR0cihcbiAgICAgICAgXCJjbGFzc1wiLFxuICAgICAgICBgY29tbWl0ICR7dHlwZUNsYXNzfSAke2NvbW1pdDIuaWR9IGNvbW1pdCR7YnJhbmNoSW5kZXggJSBUSEVNRV9DT0xPUl9MSU1JVH1gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoY29tbWl0U3ltYm9sVHlwZSA9PT0gY29tbWl0VHlwZS5SRVZFUlNFKSB7XG4gICAgICBjb25zdCBjcm9zcyA9IGdCdWxsZXRzLmFwcGVuZChcInBhdGhcIik7XG4gICAgICBjcm9zcy5hdHRyKFxuICAgICAgICBcImRcIixcbiAgICAgICAgYE0gJHtjb21taXRQb3NpdGlvbi54IC0gNX0sJHtjb21taXRQb3NpdGlvbi55IC0gNX1MJHtjb21taXRQb3NpdGlvbi54ICsgNX0sJHtjb21taXRQb3NpdGlvbi55ICsgNX1NJHtjb21taXRQb3NpdGlvbi54IC0gNX0sJHtjb21taXRQb3NpdGlvbi55ICsgNX1MJHtjb21taXRQb3NpdGlvbi54ICsgNX0sJHtjb21taXRQb3NpdGlvbi55IC0gNX1gXG4gICAgICApLmF0dHIoXCJjbGFzc1wiLCBgY29tbWl0ICR7dHlwZUNsYXNzfSAke2NvbW1pdDIuaWR9IGNvbW1pdCR7YnJhbmNoSW5kZXggJSBUSEVNRV9DT0xPUl9MSU1JVH1gKTtcbiAgICB9XG4gIH1cbn0sIFwiZHJhd0NvbW1pdEJ1bGxldFwiKTtcbnZhciBkcmF3Q29tbWl0TGFiZWwgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChnTGFiZWxzLCBjb21taXQyLCBjb21taXRQb3NpdGlvbiwgcG9zKSA9PiB7XG4gIGlmIChjb21taXQyLnR5cGUgIT09IGNvbW1pdFR5cGUuQ0hFUlJZX1BJQ0sgJiYgKGNvbW1pdDIuY3VzdG9tSWQgJiYgY29tbWl0Mi50eXBlID09PSBjb21taXRUeXBlLk1FUkdFIHx8IGNvbW1pdDIudHlwZSAhPT0gY29tbWl0VHlwZS5NRVJHRSkgJiYgREVGQVVMVF9HSVRHUkFQSF9DT05GSUcyPy5zaG93Q29tbWl0TGFiZWwpIHtcbiAgICBjb25zdCB3cmFwcGVyID0gZ0xhYmVscy5hcHBlbmQoXCJnXCIpO1xuICAgIGNvbnN0IGxhYmVsQmtnID0gd3JhcHBlci5pbnNlcnQoXCJyZWN0XCIpLmF0dHIoXCJjbGFzc1wiLCBcImNvbW1pdC1sYWJlbC1ia2dcIik7XG4gICAgY29uc3QgdGV4dCA9IHdyYXBwZXIuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwieFwiLCBwb3MpLmF0dHIoXCJ5XCIsIGNvbW1pdFBvc2l0aW9uLnkgKyAyNSkuYXR0cihcImNsYXNzXCIsIFwiY29tbWl0LWxhYmVsXCIpLnRleHQoY29tbWl0Mi5pZCk7XG4gICAgY29uc3QgYmJveCA9IHRleHQubm9kZSgpPy5nZXRCQm94KCk7XG4gICAgaWYgKGJib3gpIHtcbiAgICAgIGxhYmVsQmtnLmF0dHIoXCJ4XCIsIGNvbW1pdFBvc2l0aW9uLnBvc1dpdGhPZmZzZXQgLSBiYm94LndpZHRoIC8gMiAtIFBZKS5hdHRyKFwieVwiLCBjb21taXRQb3NpdGlvbi55ICsgMTMuNSkuYXR0cihcIndpZHRoXCIsIGJib3gud2lkdGggKyAyICogUFkpLmF0dHIoXCJoZWlnaHRcIiwgYmJveC5oZWlnaHQgKyAyICogUFkpO1xuICAgICAgaWYgKGRpciA9PT0gXCJUQlwiIHx8IGRpciA9PT0gXCJCVFwiKSB7XG4gICAgICAgIGxhYmVsQmtnLmF0dHIoXCJ4XCIsIGNvbW1pdFBvc2l0aW9uLnggLSAoYmJveC53aWR0aCArIDQgKiBQWCArIDUpKS5hdHRyKFwieVwiLCBjb21taXRQb3NpdGlvbi55IC0gMTIpO1xuICAgICAgICB0ZXh0LmF0dHIoXCJ4XCIsIGNvbW1pdFBvc2l0aW9uLnggLSAoYmJveC53aWR0aCArIDQgKiBQWCkpLmF0dHIoXCJ5XCIsIGNvbW1pdFBvc2l0aW9uLnkgKyBiYm94LmhlaWdodCAtIDEyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRleHQuYXR0cihcInhcIiwgY29tbWl0UG9zaXRpb24ucG9zV2l0aE9mZnNldCAtIGJib3gud2lkdGggLyAyKTtcbiAgICAgIH1cbiAgICAgIGlmIChERUZBVUxUX0dJVEdSQVBIX0NPTkZJRzIucm90YXRlQ29tbWl0TGFiZWwpIHtcbiAgICAgICAgaWYgKGRpciA9PT0gXCJUQlwiIHx8IGRpciA9PT0gXCJCVFwiKSB7XG4gICAgICAgICAgdGV4dC5hdHRyKFxuICAgICAgICAgICAgXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgICAgIFwicm90YXRlKC00NSwgXCIgKyBjb21taXRQb3NpdGlvbi54ICsgXCIsIFwiICsgY29tbWl0UG9zaXRpb24ueSArIFwiKVwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsYWJlbEJrZy5hdHRyKFxuICAgICAgICAgICAgXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgICAgIFwicm90YXRlKC00NSwgXCIgKyBjb21taXRQb3NpdGlvbi54ICsgXCIsIFwiICsgY29tbWl0UG9zaXRpb24ueSArIFwiKVwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCByX3ggPSAtNy41IC0gKGJib3gud2lkdGggKyAxMCkgLyAyNSAqIDkuNTtcbiAgICAgICAgICBjb25zdCByX3kgPSAxMCArIGJib3gud2lkdGggLyAyNSAqIDguNTtcbiAgICAgICAgICB3cmFwcGVyLmF0dHIoXG4gICAgICAgICAgICBcInRyYW5zZm9ybVwiLFxuICAgICAgICAgICAgXCJ0cmFuc2xhdGUoXCIgKyByX3ggKyBcIiwgXCIgKyByX3kgKyBcIikgcm90YXRlKC00NSwgXCIgKyBwb3MgKyBcIiwgXCIgKyBjb21taXRQb3NpdGlvbi55ICsgXCIpXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59LCBcImRyYXdDb21taXRMYWJlbFwiKTtcbnZhciBkcmF3Q29tbWl0VGFncyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGdMYWJlbHMsIGNvbW1pdDIsIGNvbW1pdFBvc2l0aW9uLCBwb3MpID0+IHtcbiAgaWYgKGNvbW1pdDIudGFncy5sZW5ndGggPiAwKSB7XG4gICAgbGV0IHlPZmZzZXQgPSAwO1xuICAgIGxldCBtYXhUYWdCYm94V2lkdGggPSAwO1xuICAgIGxldCBtYXhUYWdCYm94SGVpZ2h0ID0gMDtcbiAgICBjb25zdCB0YWdFbGVtZW50cyA9IFtdO1xuICAgIGZvciAoY29uc3QgdGFnVmFsdWUgb2YgY29tbWl0Mi50YWdzLnJldmVyc2UoKSkge1xuICAgICAgY29uc3QgcmVjdCA9IGdMYWJlbHMuaW5zZXJ0KFwicG9seWdvblwiKTtcbiAgICAgIGNvbnN0IGhvbGUgPSBnTGFiZWxzLmFwcGVuZChcImNpcmNsZVwiKTtcbiAgICAgIGNvbnN0IHRhZyA9IGdMYWJlbHMuYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwieVwiLCBjb21taXRQb3NpdGlvbi55IC0gMTYgLSB5T2Zmc2V0KS5hdHRyKFwiY2xhc3NcIiwgXCJ0YWctbGFiZWxcIikudGV4dCh0YWdWYWx1ZSk7XG4gICAgICBjb25zdCB0YWdCYm94ID0gdGFnLm5vZGUoKT8uZ2V0QkJveCgpO1xuICAgICAgaWYgKCF0YWdCYm94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRhZyBiYm94IG5vdCBmb3VuZFwiKTtcbiAgICAgIH1cbiAgICAgIG1heFRhZ0Jib3hXaWR0aCA9IE1hdGgubWF4KG1heFRhZ0Jib3hXaWR0aCwgdGFnQmJveC53aWR0aCk7XG4gICAgICBtYXhUYWdCYm94SGVpZ2h0ID0gTWF0aC5tYXgobWF4VGFnQmJveEhlaWdodCwgdGFnQmJveC5oZWlnaHQpO1xuICAgICAgdGFnLmF0dHIoXCJ4XCIsIGNvbW1pdFBvc2l0aW9uLnBvc1dpdGhPZmZzZXQgLSB0YWdCYm94LndpZHRoIC8gMik7XG4gICAgICB0YWdFbGVtZW50cy5wdXNoKHtcbiAgICAgICAgdGFnLFxuICAgICAgICBob2xlLFxuICAgICAgICByZWN0LFxuICAgICAgICB5T2Zmc2V0XG4gICAgICB9KTtcbiAgICAgIHlPZmZzZXQgKz0gMjA7XG4gICAgfVxuICAgIGZvciAoY29uc3QgeyB0YWcsIGhvbGUsIHJlY3QsIHlPZmZzZXQ6IHlPZmZzZXQyIH0gb2YgdGFnRWxlbWVudHMpIHtcbiAgICAgIGNvbnN0IGgyID0gbWF4VGFnQmJveEhlaWdodCAvIDI7XG4gICAgICBjb25zdCBseSA9IGNvbW1pdFBvc2l0aW9uLnkgLSAxOS4yIC0geU9mZnNldDI7XG4gICAgICByZWN0LmF0dHIoXCJjbGFzc1wiLCBcInRhZy1sYWJlbC1ia2dcIikuYXR0cihcbiAgICAgICAgXCJwb2ludHNcIixcbiAgICAgICAgYFxuICAgICAgJHtwb3MgLSBtYXhUYWdCYm94V2lkdGggLyAyIC0gUFggLyAyfSwke2x5ICsgUFl9ICBcbiAgICAgICR7cG9zIC0gbWF4VGFnQmJveFdpZHRoIC8gMiAtIFBYIC8gMn0sJHtseSAtIFBZfVxuICAgICAgJHtjb21taXRQb3NpdGlvbi5wb3NXaXRoT2Zmc2V0IC0gbWF4VGFnQmJveFdpZHRoIC8gMiAtIFBYfSwke2x5IC0gaDIgLSBQWX1cbiAgICAgICR7Y29tbWl0UG9zaXRpb24ucG9zV2l0aE9mZnNldCArIG1heFRhZ0Jib3hXaWR0aCAvIDIgKyBQWH0sJHtseSAtIGgyIC0gUFl9XG4gICAgICAke2NvbW1pdFBvc2l0aW9uLnBvc1dpdGhPZmZzZXQgKyBtYXhUYWdCYm94V2lkdGggLyAyICsgUFh9LCR7bHkgKyBoMiArIFBZfVxuICAgICAgJHtjb21taXRQb3NpdGlvbi5wb3NXaXRoT2Zmc2V0IC0gbWF4VGFnQmJveFdpZHRoIC8gMiAtIFBYfSwke2x5ICsgaDIgKyBQWX1gXG4gICAgICApO1xuICAgICAgaG9sZS5hdHRyKFwiY3lcIiwgbHkpLmF0dHIoXCJjeFwiLCBwb3MgLSBtYXhUYWdCYm94V2lkdGggLyAyICsgUFggLyAyKS5hdHRyKFwiclwiLCAxLjUpLmF0dHIoXCJjbGFzc1wiLCBcInRhZy1ob2xlXCIpO1xuICAgICAgaWYgKGRpciA9PT0gXCJUQlwiIHx8IGRpciA9PT0gXCJCVFwiKSB7XG4gICAgICAgIGNvbnN0IHlPcmlnaW4gPSBwb3MgKyB5T2Zmc2V0MjtcbiAgICAgICAgcmVjdC5hdHRyKFwiY2xhc3NcIiwgXCJ0YWctbGFiZWwtYmtnXCIpLmF0dHIoXG4gICAgICAgICAgXCJwb2ludHNcIixcbiAgICAgICAgICBgXG4gICAgICAgICR7Y29tbWl0UG9zaXRpb24ueH0sJHt5T3JpZ2luICsgMn1cbiAgICAgICAgJHtjb21taXRQb3NpdGlvbi54fSwke3lPcmlnaW4gLSAyfVxuICAgICAgICAke2NvbW1pdFBvc2l0aW9uLnggKyBMQVlPVVRfT0ZGU0VUfSwke3lPcmlnaW4gLSBoMiAtIDJ9XG4gICAgICAgICR7Y29tbWl0UG9zaXRpb24ueCArIExBWU9VVF9PRkZTRVQgKyBtYXhUYWdCYm94V2lkdGggKyA0fSwke3lPcmlnaW4gLSBoMiAtIDJ9XG4gICAgICAgICR7Y29tbWl0UG9zaXRpb24ueCArIExBWU9VVF9PRkZTRVQgKyBtYXhUYWdCYm94V2lkdGggKyA0fSwke3lPcmlnaW4gKyBoMiArIDJ9XG4gICAgICAgICR7Y29tbWl0UG9zaXRpb24ueCArIExBWU9VVF9PRkZTRVR9LCR7eU9yaWdpbiArIGgyICsgMn1gXG4gICAgICAgICkuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgxMiwxMikgcm90YXRlKDQ1LCBcIiArIGNvbW1pdFBvc2l0aW9uLnggKyBcIixcIiArIHBvcyArIFwiKVwiKTtcbiAgICAgICAgaG9sZS5hdHRyKFwiY3hcIiwgY29tbWl0UG9zaXRpb24ueCArIFBYIC8gMikuYXR0cihcImN5XCIsIHlPcmlnaW4pLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMTIsMTIpIHJvdGF0ZSg0NSwgXCIgKyBjb21taXRQb3NpdGlvbi54ICsgXCIsXCIgKyBwb3MgKyBcIilcIik7XG4gICAgICAgIHRhZy5hdHRyKFwieFwiLCBjb21taXRQb3NpdGlvbi54ICsgNSkuYXR0cihcInlcIiwgeU9yaWdpbiArIDMpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMTQsMTQpIHJvdGF0ZSg0NSwgXCIgKyBjb21taXRQb3NpdGlvbi54ICsgXCIsXCIgKyBwb3MgKyBcIilcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG59LCBcImRyYXdDb21taXRUYWdzXCIpO1xudmFyIGdldENvbW1pdENsYXNzVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGNvbW1pdDIpID0+IHtcbiAgY29uc3QgY29tbWl0U3ltYm9sVHlwZSA9IGNvbW1pdDIuY3VzdG9tVHlwZSA/PyBjb21taXQyLnR5cGU7XG4gIHN3aXRjaCAoY29tbWl0U3ltYm9sVHlwZSkge1xuICAgIGNhc2UgY29tbWl0VHlwZS5OT1JNQUw6XG4gICAgICByZXR1cm4gXCJjb21taXQtbm9ybWFsXCI7XG4gICAgY2FzZSBjb21taXRUeXBlLlJFVkVSU0U6XG4gICAgICByZXR1cm4gXCJjb21taXQtcmV2ZXJzZVwiO1xuICAgIGNhc2UgY29tbWl0VHlwZS5ISUdITElHSFQ6XG4gICAgICByZXR1cm4gXCJjb21taXQtaGlnaGxpZ2h0XCI7XG4gICAgY2FzZSBjb21taXRUeXBlLk1FUkdFOlxuICAgICAgcmV0dXJuIFwiY29tbWl0LW1lcmdlXCI7XG4gICAgY2FzZSBjb21taXRUeXBlLkNIRVJSWV9QSUNLOlxuICAgICAgcmV0dXJuIFwiY29tbWl0LWNoZXJyeS1waWNrXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcImNvbW1pdC1ub3JtYWxcIjtcbiAgfVxufSwgXCJnZXRDb21taXRDbGFzc1R5cGVcIik7XG52YXIgY2FsY3VsYXRlUG9zaXRpb24gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjb21taXQyLCBkaXIyLCBwb3MsIGNvbW1pdFBvczIpID0+IHtcbiAgY29uc3QgZGVmYXVsdENvbW1pdFBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH07XG4gIGlmIChjb21taXQyLnBhcmVudHMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGNsb3Nlc3RQYXJlbnQgPSBmaW5kQ2xvc2VzdFBhcmVudChjb21taXQyLnBhcmVudHMpO1xuICAgIGlmIChjbG9zZXN0UGFyZW50KSB7XG4gICAgICBjb25zdCBwYXJlbnRQb3NpdGlvbiA9IGNvbW1pdFBvczIuZ2V0KGNsb3Nlc3RQYXJlbnQpID8/IGRlZmF1bHRDb21taXRQb3NpdGlvbjtcbiAgICAgIGlmIChkaXIyID09PSBcIlRCXCIpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudFBvc2l0aW9uLnkgKyBDT01NSVRfU1RFUDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyMiA9PT0gXCJCVFwiKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IGNvbW1pdFBvczIuZ2V0KGNvbW1pdDIuaWQpID8/IGRlZmF1bHRDb21taXRQb3NpdGlvbjtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQb3NpdGlvbi55IC0gQ09NTUlUX1NURVA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcGFyZW50UG9zaXRpb24ueCArIENPTU1JVF9TVEVQO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGlyMiA9PT0gXCJUQlwiKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFBvcztcbiAgICB9IGVsc2UgaWYgKGRpcjIgPT09IFwiQlRcIikge1xuICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gY29tbWl0UG9zMi5nZXQoY29tbWl0Mi5pZCkgPz8gZGVmYXVsdENvbW1pdFBvc2l0aW9uO1xuICAgICAgcmV0dXJuIGN1cnJlbnRQb3NpdGlvbi55IC0gQ09NTUlUX1NURVA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gMDtcbn0sIFwiY2FsY3VsYXRlUG9zaXRpb25cIik7XG52YXIgZ2V0Q29tbWl0UG9zaXRpb24gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjb21taXQyLCBwb3MsIGlzUGFyYWxsZWxDb21taXRzKSA9PiB7XG4gIGNvbnN0IHBvc1dpdGhPZmZzZXQgPSBkaXIgPT09IFwiQlRcIiAmJiBpc1BhcmFsbGVsQ29tbWl0cyA/IHBvcyA6IHBvcyArIExBWU9VVF9PRkZTRVQ7XG4gIGNvbnN0IHkgPSBkaXIgPT09IFwiVEJcIiB8fCBkaXIgPT09IFwiQlRcIiA/IHBvc1dpdGhPZmZzZXQgOiBicmFuY2hQb3MuZ2V0KGNvbW1pdDIuYnJhbmNoKT8ucG9zO1xuICBjb25zdCB4ID0gZGlyID09PSBcIlRCXCIgfHwgZGlyID09PSBcIkJUXCIgPyBicmFuY2hQb3MuZ2V0KGNvbW1pdDIuYnJhbmNoKT8ucG9zIDogcG9zV2l0aE9mZnNldDtcbiAgaWYgKHggPT09IHZvaWQgMCB8fCB5ID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFBvc2l0aW9uIHdlcmUgdW5kZWZpbmVkIGZvciBjb21taXQgJHtjb21taXQyLmlkfWApO1xuICB9XG4gIHJldHVybiB7IHgsIHksIHBvc1dpdGhPZmZzZXQgfTtcbn0sIFwiZ2V0Q29tbWl0UG9zaXRpb25cIik7XG52YXIgZHJhd0NvbW1pdHMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzdmcsIGNvbW1pdHMsIG1vZGlmeUdyYXBoKSA9PiB7XG4gIGlmICghREVGQVVMVF9HSVRHUkFQSF9DT05GSUcyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR2l0R3JhcGggY29uZmlnIG5vdCBmb3VuZFwiKTtcbiAgfVxuICBjb25zdCBnQnVsbGV0cyA9IHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImNvbW1pdC1idWxsZXRzXCIpO1xuICBjb25zdCBnTGFiZWxzID0gc3ZnLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsIFwiY29tbWl0LWxhYmVsc1wiKTtcbiAgbGV0IHBvcyA9IGRpciA9PT0gXCJUQlwiIHx8IGRpciA9PT0gXCJCVFwiID8gZGVmYXVsdFBvcyA6IDA7XG4gIGNvbnN0IGtleXMgPSBbLi4uY29tbWl0cy5rZXlzKCldO1xuICBjb25zdCBpc1BhcmFsbGVsQ29tbWl0cyA9IERFRkFVTFRfR0lUR1JBUEhfQ09ORklHMj8ucGFyYWxsZWxDb21taXRzID8/IGZhbHNlO1xuICBjb25zdCBzb3J0S2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGEsIGIpID0+IHtcbiAgICBjb25zdCBzZXFBID0gY29tbWl0cy5nZXQoYSk/LnNlcTtcbiAgICBjb25zdCBzZXFCID0gY29tbWl0cy5nZXQoYik/LnNlcTtcbiAgICByZXR1cm4gc2VxQSAhPT0gdm9pZCAwICYmIHNlcUIgIT09IHZvaWQgMCA/IHNlcUEgLSBzZXFCIDogMDtcbiAgfSwgXCJzb3J0S2V5c1wiKTtcbiAgbGV0IHNvcnRlZEtleXMgPSBrZXlzLnNvcnQoc29ydEtleXMpO1xuICBpZiAoZGlyID09PSBcIkJUXCIpIHtcbiAgICBpZiAoaXNQYXJhbGxlbENvbW1pdHMpIHtcbiAgICAgIHNldFBhcmFsbGVsQlRQb3Moc29ydGVkS2V5cywgY29tbWl0cywgcG9zKTtcbiAgICB9XG4gICAgc29ydGVkS2V5cyA9IHNvcnRlZEtleXMucmV2ZXJzZSgpO1xuICB9XG4gIHNvcnRlZEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgY29tbWl0MiA9IGNvbW1pdHMuZ2V0KGtleSk7XG4gICAgaWYgKCFjb21taXQyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbW1pdCBub3QgZm91bmQgZm9yIGtleSAke2tleX1gKTtcbiAgICB9XG4gICAgaWYgKGlzUGFyYWxsZWxDb21taXRzKSB7XG4gICAgICBwb3MgPSBjYWxjdWxhdGVQb3NpdGlvbihjb21taXQyLCBkaXIsIHBvcywgY29tbWl0UG9zKTtcbiAgICB9XG4gICAgY29uc3QgY29tbWl0UG9zaXRpb24gPSBnZXRDb21taXRQb3NpdGlvbihjb21taXQyLCBwb3MsIGlzUGFyYWxsZWxDb21taXRzKTtcbiAgICBpZiAobW9kaWZ5R3JhcGgpIHtcbiAgICAgIGNvbnN0IHR5cGVDbGFzcyA9IGdldENvbW1pdENsYXNzVHlwZShjb21taXQyKTtcbiAgICAgIGNvbnN0IGNvbW1pdFN5bWJvbFR5cGUgPSBjb21taXQyLmN1c3RvbVR5cGUgPz8gY29tbWl0Mi50eXBlO1xuICAgICAgY29uc3QgYnJhbmNoSW5kZXggPSBicmFuY2hQb3MuZ2V0KGNvbW1pdDIuYnJhbmNoKT8uaW5kZXggPz8gMDtcbiAgICAgIGRyYXdDb21taXRCdWxsZXQoZ0J1bGxldHMsIGNvbW1pdDIsIGNvbW1pdFBvc2l0aW9uLCB0eXBlQ2xhc3MsIGJyYW5jaEluZGV4LCBjb21taXRTeW1ib2xUeXBlKTtcbiAgICAgIGRyYXdDb21taXRMYWJlbChnTGFiZWxzLCBjb21taXQyLCBjb21taXRQb3NpdGlvbiwgcG9zKTtcbiAgICAgIGRyYXdDb21taXRUYWdzKGdMYWJlbHMsIGNvbW1pdDIsIGNvbW1pdFBvc2l0aW9uLCBwb3MpO1xuICAgIH1cbiAgICBpZiAoZGlyID09PSBcIlRCXCIgfHwgZGlyID09PSBcIkJUXCIpIHtcbiAgICAgIGNvbW1pdFBvcy5zZXQoY29tbWl0Mi5pZCwgeyB4OiBjb21taXRQb3NpdGlvbi54LCB5OiBjb21taXRQb3NpdGlvbi5wb3NXaXRoT2Zmc2V0IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21taXRQb3Muc2V0KGNvbW1pdDIuaWQsIHsgeDogY29tbWl0UG9zaXRpb24ucG9zV2l0aE9mZnNldCwgeTogY29tbWl0UG9zaXRpb24ueSB9KTtcbiAgICB9XG4gICAgcG9zID0gZGlyID09PSBcIkJUXCIgJiYgaXNQYXJhbGxlbENvbW1pdHMgPyBwb3MgKyBDT01NSVRfU1RFUCA6IHBvcyArIENPTU1JVF9TVEVQICsgTEFZT1VUX09GRlNFVDtcbiAgICBpZiAocG9zID4gbWF4UG9zKSB7XG4gICAgICBtYXhQb3MgPSBwb3M7XG4gICAgfVxuICB9KTtcbn0sIFwiZHJhd0NvbW1pdHNcIik7XG52YXIgc2hvdWxkUmVyb3V0ZUFycm93ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY29tbWl0QSwgY29tbWl0QiwgcDEsIHAyLCBhbGxDb21taXRzKSA9PiB7XG4gIGNvbnN0IGNvbW1pdEJJc0Z1cnRoZXN0ID0gZGlyID09PSBcIlRCXCIgfHwgZGlyID09PSBcIkJUXCIgPyBwMS54IDwgcDIueCA6IHAxLnkgPCBwMi55O1xuICBjb25zdCBicmFuY2hUb0dldEN1cnZlID0gY29tbWl0QklzRnVydGhlc3QgPyBjb21taXRCLmJyYW5jaCA6IGNvbW1pdEEuYnJhbmNoO1xuICBjb25zdCBpc09uQnJhbmNoVG9HZXRDdXJ2ZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHgpID0+IHguYnJhbmNoID09PSBicmFuY2hUb0dldEN1cnZlLCBcImlzT25CcmFuY2hUb0dldEN1cnZlXCIpO1xuICBjb25zdCBpc0JldHdlZW5Db21taXRzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoeCkgPT4geC5zZXEgPiBjb21taXRBLnNlcSAmJiB4LnNlcSA8IGNvbW1pdEIuc2VxLCBcImlzQmV0d2VlbkNvbW1pdHNcIik7XG4gIHJldHVybiBbLi4uYWxsQ29tbWl0cy52YWx1ZXMoKV0uc29tZSgoY29tbWl0WCkgPT4ge1xuICAgIHJldHVybiBpc0JldHdlZW5Db21taXRzKGNvbW1pdFgpICYmIGlzT25CcmFuY2hUb0dldEN1cnZlKGNvbW1pdFgpO1xuICB9KTtcbn0sIFwic2hvdWxkUmVyb3V0ZUFycm93XCIpO1xudmFyIGZpbmRMYW5lID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoeTEsIHkyLCBkZXB0aCA9IDApID0+IHtcbiAgY29uc3QgY2FuZGlkYXRlID0geTEgKyBNYXRoLmFicyh5MSAtIHkyKSAvIDI7XG4gIGlmIChkZXB0aCA+IDUpIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlO1xuICB9XG4gIGNvbnN0IG9rID0gbGFuZXMuZXZlcnkoKGxhbmUpID0+IE1hdGguYWJzKGxhbmUgLSBjYW5kaWRhdGUpID49IDEwKTtcbiAgaWYgKG9rKSB7XG4gICAgbGFuZXMucHVzaChjYW5kaWRhdGUpO1xuICAgIHJldHVybiBjYW5kaWRhdGU7XG4gIH1cbiAgY29uc3QgZGlmZiA9IE1hdGguYWJzKHkxIC0geTIpO1xuICByZXR1cm4gZmluZExhbmUoeTEsIHkyIC0gZGlmZiAvIDUsIGRlcHRoICsgMSk7XG59LCBcImZpbmRMYW5lXCIpO1xudmFyIGRyYXdBcnJvdyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHN2ZywgY29tbWl0QSwgY29tbWl0QiwgYWxsQ29tbWl0cykgPT4ge1xuICBjb25zdCBwMSA9IGNvbW1pdFBvcy5nZXQoY29tbWl0QS5pZCk7XG4gIGNvbnN0IHAyID0gY29tbWl0UG9zLmdldChjb21taXRCLmlkKTtcbiAgaWYgKHAxID09PSB2b2lkIDAgfHwgcDIgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ29tbWl0IHBvc2l0aW9ucyBub3QgZm91bmQgZm9yIGNvbW1pdHMgJHtjb21taXRBLmlkfSBhbmQgJHtjb21taXRCLmlkfWApO1xuICB9XG4gIGNvbnN0IGFycm93TmVlZHNSZXJvdXRpbmcgPSBzaG91bGRSZXJvdXRlQXJyb3coY29tbWl0QSwgY29tbWl0QiwgcDEsIHAyLCBhbGxDb21taXRzKTtcbiAgbGV0IGFyYyA9IFwiXCI7XG4gIGxldCBhcmMyID0gXCJcIjtcbiAgbGV0IHJhZGl1cyA9IDA7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBsZXQgY29sb3JDbGFzc051bSA9IGJyYW5jaFBvcy5nZXQoY29tbWl0Qi5icmFuY2gpPy5pbmRleDtcbiAgaWYgKGNvbW1pdEIudHlwZSA9PT0gY29tbWl0VHlwZS5NRVJHRSAmJiBjb21taXRBLmlkICE9PSBjb21taXRCLnBhcmVudHNbMF0pIHtcbiAgICBjb2xvckNsYXNzTnVtID0gYnJhbmNoUG9zLmdldChjb21taXRBLmJyYW5jaCk/LmluZGV4O1xuICB9XG4gIGxldCBsaW5lRGVmO1xuICBpZiAoYXJyb3dOZWVkc1Jlcm91dGluZykge1xuICAgIGFyYyA9IFwiQSAxMCAxMCwgMCwgMCwgMCxcIjtcbiAgICBhcmMyID0gXCJBIDEwIDEwLCAwLCAwLCAxLFwiO1xuICAgIHJhZGl1cyA9IDEwO1xuICAgIG9mZnNldCA9IDEwO1xuICAgIGNvbnN0IGxpbmVZID0gcDEueSA8IHAyLnkgPyBmaW5kTGFuZShwMS55LCBwMi55KSA6IGZpbmRMYW5lKHAyLnksIHAxLnkpO1xuICAgIGNvbnN0IGxpbmVYID0gcDEueCA8IHAyLnggPyBmaW5kTGFuZShwMS54LCBwMi54KSA6IGZpbmRMYW5lKHAyLngsIHAxLngpO1xuICAgIGlmIChkaXIgPT09IFwiVEJcIikge1xuICAgICAgaWYgKHAxLnggPCBwMi54KSB7XG4gICAgICAgIGxpbmVEZWYgPSBgTSAke3AxLnh9ICR7cDEueX0gTCAke2xpbmVYIC0gcmFkaXVzfSAke3AxLnl9ICR7YXJjMn0gJHtsaW5lWH0gJHtwMS55ICsgb2Zmc2V0fSBMICR7bGluZVh9ICR7cDIueSAtIHJhZGl1c30gJHthcmN9ICR7bGluZVggKyBvZmZzZXR9ICR7cDIueX0gTCAke3AyLnh9ICR7cDIueX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29sb3JDbGFzc051bSA9IGJyYW5jaFBvcy5nZXQoY29tbWl0QS5icmFuY2gpPy5pbmRleDtcbiAgICAgICAgbGluZURlZiA9IGBNICR7cDEueH0gJHtwMS55fSBMICR7bGluZVggKyByYWRpdXN9ICR7cDEueX0gJHthcmN9ICR7bGluZVh9ICR7cDEueSArIG9mZnNldH0gTCAke2xpbmVYfSAke3AyLnkgLSByYWRpdXN9ICR7YXJjMn0gJHtsaW5lWCAtIG9mZnNldH0gJHtwMi55fSBMICR7cDIueH0gJHtwMi55fWA7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaXIgPT09IFwiQlRcIikge1xuICAgICAgaWYgKHAxLnggPCBwMi54KSB7XG4gICAgICAgIGxpbmVEZWYgPSBgTSAke3AxLnh9ICR7cDEueX0gTCAke2xpbmVYIC0gcmFkaXVzfSAke3AxLnl9ICR7YXJjfSAke2xpbmVYfSAke3AxLnkgLSBvZmZzZXR9IEwgJHtsaW5lWH0gJHtwMi55ICsgcmFkaXVzfSAke2FyYzJ9ICR7bGluZVggKyBvZmZzZXR9ICR7cDIueX0gTCAke3AyLnh9ICR7cDIueX1gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29sb3JDbGFzc051bSA9IGJyYW5jaFBvcy5nZXQoY29tbWl0QS5icmFuY2gpPy5pbmRleDtcbiAgICAgICAgbGluZURlZiA9IGBNICR7cDEueH0gJHtwMS55fSBMICR7bGluZVggKyByYWRpdXN9ICR7cDEueX0gJHthcmMyfSAke2xpbmVYfSAke3AxLnkgLSBvZmZzZXR9IEwgJHtsaW5lWH0gJHtwMi55ICsgcmFkaXVzfSAke2FyY30gJHtsaW5lWCAtIG9mZnNldH0gJHtwMi55fSBMICR7cDIueH0gJHtwMi55fWA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwMS55IDwgcDIueSkge1xuICAgICAgICBsaW5lRGVmID0gYE0gJHtwMS54fSAke3AxLnl9IEwgJHtwMS54fSAke2xpbmVZIC0gcmFkaXVzfSAke2FyY30gJHtwMS54ICsgb2Zmc2V0fSAke2xpbmVZfSBMICR7cDIueCAtIHJhZGl1c30gJHtsaW5lWX0gJHthcmMyfSAke3AyLnh9ICR7bGluZVkgKyBvZmZzZXR9IEwgJHtwMi54fSAke3AyLnl9YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbG9yQ2xhc3NOdW0gPSBicmFuY2hQb3MuZ2V0KGNvbW1pdEEuYnJhbmNoKT8uaW5kZXg7XG4gICAgICAgIGxpbmVEZWYgPSBgTSAke3AxLnh9ICR7cDEueX0gTCAke3AxLnh9ICR7bGluZVkgKyByYWRpdXN9ICR7YXJjMn0gJHtwMS54ICsgb2Zmc2V0fSAke2xpbmVZfSBMICR7cDIueCAtIHJhZGl1c30gJHtsaW5lWX0gJHthcmN9ICR7cDIueH0gJHtsaW5lWSAtIG9mZnNldH0gTCAke3AyLnh9ICR7cDIueX1gO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhcmMgPSBcIkEgMjAgMjAsIDAsIDAsIDAsXCI7XG4gICAgYXJjMiA9IFwiQSAyMCAyMCwgMCwgMCwgMSxcIjtcbiAgICByYWRpdXMgPSAyMDtcbiAgICBvZmZzZXQgPSAyMDtcbiAgICBpZiAoZGlyID09PSBcIlRCXCIpIHtcbiAgICAgIGlmIChwMS54IDwgcDIueCkge1xuICAgICAgICBpZiAoY29tbWl0Qi50eXBlID09PSBjb21taXRUeXBlLk1FUkdFICYmIGNvbW1pdEEuaWQgIT09IGNvbW1pdEIucGFyZW50c1swXSkge1xuICAgICAgICAgIGxpbmVEZWYgPSBgTSAke3AxLnh9ICR7cDEueX0gTCAke3AxLnh9ICR7cDIueSAtIHJhZGl1c30gJHthcmN9ICR7cDEueCArIG9mZnNldH0gJHtwMi55fSBMICR7cDIueH0gJHtwMi55fWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGluZURlZiA9IGBNICR7cDEueH0gJHtwMS55fSBMICR7cDIueCAtIHJhZGl1c30gJHtwMS55fSAke2FyYzJ9ICR7cDIueH0gJHtwMS55ICsgb2Zmc2V0fSBMICR7cDIueH0gJHtwMi55fWA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwMS54ID4gcDIueCkge1xuICAgICAgICBhcmMgPSBcIkEgMjAgMjAsIDAsIDAsIDAsXCI7XG4gICAgICAgIGFyYzIgPSBcIkEgMjAgMjAsIDAsIDAsIDEsXCI7XG4gICAgICAgIHJhZGl1cyA9IDIwO1xuICAgICAgICBvZmZzZXQgPSAyMDtcbiAgICAgICAgaWYgKGNvbW1pdEIudHlwZSA9PT0gY29tbWl0VHlwZS5NRVJHRSAmJiBjb21taXRBLmlkICE9PSBjb21taXRCLnBhcmVudHNbMF0pIHtcbiAgICAgICAgICBsaW5lRGVmID0gYE0gJHtwMS54fSAke3AxLnl9IEwgJHtwMS54fSAke3AyLnkgLSByYWRpdXN9ICR7YXJjMn0gJHtwMS54IC0gb2Zmc2V0fSAke3AyLnl9IEwgJHtwMi54fSAke3AyLnl9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaW5lRGVmID0gYE0gJHtwMS54fSAke3AxLnl9IEwgJHtwMi54ICsgcmFkaXVzfSAke3AxLnl9ICR7YXJjfSAke3AyLnh9ICR7cDEueSArIG9mZnNldH0gTCAke3AyLnh9ICR7cDIueX1gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocDEueCA9PT0gcDIueCkge1xuICAgICAgICBsaW5lRGVmID0gYE0gJHtwMS54fSAke3AxLnl9IEwgJHtwMi54fSAke3AyLnl9YDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRpciA9PT0gXCJCVFwiKSB7XG4gICAgICBpZiAocDEueCA8IHAyLngpIHtcbiAgICAgICAgaWYgKGNvbW1pdEIudHlwZSA9PT0gY29tbWl0VHlwZS5NRVJHRSAmJiBjb21taXRBLmlkICE9PSBjb21taXRCLnBhcmVudHNbMF0pIHtcbiAgICAgICAgICBsaW5lRGVmID0gYE0gJHtwMS54fSAke3AxLnl9IEwgJHtwMS54fSAke3AyLnkgKyByYWRpdXN9ICR7YXJjMn0gJHtwMS54ICsgb2Zmc2V0fSAke3AyLnl9IEwgJHtwMi54fSAke3AyLnl9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaW5lRGVmID0gYE0gJHtwMS54fSAke3AxLnl9IEwgJHtwMi54IC0gcmFkaXVzfSAke3AxLnl9ICR7YXJjfSAke3AyLnh9ICR7cDEueSAtIG9mZnNldH0gTCAke3AyLnh9ICR7cDIueX1gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocDEueCA+IHAyLngpIHtcbiAgICAgICAgYXJjID0gXCJBIDIwIDIwLCAwLCAwLCAwLFwiO1xuICAgICAgICBhcmMyID0gXCJBIDIwIDIwLCAwLCAwLCAxLFwiO1xuICAgICAgICByYWRpdXMgPSAyMDtcbiAgICAgICAgb2Zmc2V0ID0gMjA7XG4gICAgICAgIGlmIChjb21taXRCLnR5cGUgPT09IGNvbW1pdFR5cGUuTUVSR0UgJiYgY29tbWl0QS5pZCAhPT0gY29tbWl0Qi5wYXJlbnRzWzBdKSB7XG4gICAgICAgICAgbGluZURlZiA9IGBNICR7cDEueH0gJHtwMS55fSBMICR7cDEueH0gJHtwMi55ICsgcmFkaXVzfSAke2FyY30gJHtwMS54IC0gb2Zmc2V0fSAke3AyLnl9IEwgJHtwMi54fSAke3AyLnl9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaW5lRGVmID0gYE0gJHtwMS54fSAke3AxLnl9IEwgJHtwMi54IC0gcmFkaXVzfSAke3AxLnl9ICR7YXJjfSAke3AyLnh9ICR7cDEueSAtIG9mZnNldH0gTCAke3AyLnh9ICR7cDIueX1gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocDEueCA9PT0gcDIueCkge1xuICAgICAgICBsaW5lRGVmID0gYE0gJHtwMS54fSAke3AxLnl9IEwgJHtwMi54fSAke3AyLnl9YDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHAxLnkgPCBwMi55KSB7XG4gICAgICAgIGlmIChjb21taXRCLnR5cGUgPT09IGNvbW1pdFR5cGUuTUVSR0UgJiYgY29tbWl0QS5pZCAhPT0gY29tbWl0Qi5wYXJlbnRzWzBdKSB7XG4gICAgICAgICAgbGluZURlZiA9IGBNICR7cDEueH0gJHtwMS55fSBMICR7cDIueCAtIHJhZGl1c30gJHtwMS55fSAke2FyYzJ9ICR7cDIueH0gJHtwMS55ICsgb2Zmc2V0fSBMICR7cDIueH0gJHtwMi55fWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGluZURlZiA9IGBNICR7cDEueH0gJHtwMS55fSBMICR7cDEueH0gJHtwMi55IC0gcmFkaXVzfSAke2FyY30gJHtwMS54ICsgb2Zmc2V0fSAke3AyLnl9IEwgJHtwMi54fSAke3AyLnl9YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHAxLnkgPiBwMi55KSB7XG4gICAgICAgIGlmIChjb21taXRCLnR5cGUgPT09IGNvbW1pdFR5cGUuTUVSR0UgJiYgY29tbWl0QS5pZCAhPT0gY29tbWl0Qi5wYXJlbnRzWzBdKSB7XG4gICAgICAgICAgbGluZURlZiA9IGBNICR7cDEueH0gJHtwMS55fSBMICR7cDIueCAtIHJhZGl1c30gJHtwMS55fSAke2FyY30gJHtwMi54fSAke3AxLnkgLSBvZmZzZXR9IEwgJHtwMi54fSAke3AyLnl9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaW5lRGVmID0gYE0gJHtwMS54fSAke3AxLnl9IEwgJHtwMS54fSAke3AyLnkgKyByYWRpdXN9ICR7YXJjMn0gJHtwMS54ICsgb2Zmc2V0fSAke3AyLnl9IEwgJHtwMi54fSAke3AyLnl9YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHAxLnkgPT09IHAyLnkpIHtcbiAgICAgICAgbGluZURlZiA9IGBNICR7cDEueH0gJHtwMS55fSBMICR7cDIueH0gJHtwMi55fWA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChsaW5lRGVmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJMaW5lIGRlZmluaXRpb24gbm90IGZvdW5kXCIpO1xuICB9XG4gIHN2Zy5hcHBlbmQoXCJwYXRoXCIpLmF0dHIoXCJkXCIsIGxpbmVEZWYpLmF0dHIoXCJjbGFzc1wiLCBcImFycm93IGFycm93XCIgKyBjb2xvckNsYXNzTnVtICUgVEhFTUVfQ09MT1JfTElNSVQpO1xufSwgXCJkcmF3QXJyb3dcIik7XG52YXIgZHJhd0Fycm93cyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHN2ZywgY29tbWl0cykgPT4ge1xuICBjb25zdCBnQXJyb3dzID0gc3ZnLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsIFwiY29tbWl0LWFycm93c1wiKTtcbiAgWy4uLmNvbW1pdHMua2V5cygpXS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBjb25zdCBjb21taXQyID0gY29tbWl0cy5nZXQoa2V5KTtcbiAgICBpZiAoY29tbWl0Mi5wYXJlbnRzICYmIGNvbW1pdDIucGFyZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb21taXQyLnBhcmVudHMuZm9yRWFjaCgocGFyZW50KSA9PiB7XG4gICAgICAgIGRyYXdBcnJvdyhnQXJyb3dzLCBjb21taXRzLmdldChwYXJlbnQpLCBjb21taXQyLCBjb21taXRzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59LCBcImRyYXdBcnJvd3NcIik7XG52YXIgZHJhd0JyYW5jaGVzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc3ZnLCBicmFuY2hlcykgPT4ge1xuICBjb25zdCBnID0gc3ZnLmFwcGVuZChcImdcIik7XG4gIGJyYW5jaGVzLmZvckVhY2goKGJyYW5jaDIsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgYWRqdXN0SW5kZXhGb3JUaGVtZSA9IGluZGV4ICUgVEhFTUVfQ09MT1JfTElNSVQ7XG4gICAgY29uc3QgcG9zID0gYnJhbmNoUG9zLmdldChicmFuY2gyLm5hbWUpPy5wb3M7XG4gICAgaWYgKHBvcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFBvc2l0aW9uIG5vdCBmb3VuZCBmb3IgYnJhbmNoICR7YnJhbmNoMi5uYW1lfWApO1xuICAgIH1cbiAgICBjb25zdCBsaW5lID0gZy5hcHBlbmQoXCJsaW5lXCIpO1xuICAgIGxpbmUuYXR0cihcIngxXCIsIDApO1xuICAgIGxpbmUuYXR0cihcInkxXCIsIHBvcyk7XG4gICAgbGluZS5hdHRyKFwieDJcIiwgbWF4UG9zKTtcbiAgICBsaW5lLmF0dHIoXCJ5MlwiLCBwb3MpO1xuICAgIGxpbmUuYXR0cihcImNsYXNzXCIsIFwiYnJhbmNoIGJyYW5jaFwiICsgYWRqdXN0SW5kZXhGb3JUaGVtZSk7XG4gICAgaWYgKGRpciA9PT0gXCJUQlwiKSB7XG4gICAgICBsaW5lLmF0dHIoXCJ5MVwiLCBkZWZhdWx0UG9zKTtcbiAgICAgIGxpbmUuYXR0cihcIngxXCIsIHBvcyk7XG4gICAgICBsaW5lLmF0dHIoXCJ5MlwiLCBtYXhQb3MpO1xuICAgICAgbGluZS5hdHRyKFwieDJcIiwgcG9zKTtcbiAgICB9IGVsc2UgaWYgKGRpciA9PT0gXCJCVFwiKSB7XG4gICAgICBsaW5lLmF0dHIoXCJ5MVwiLCBtYXhQb3MpO1xuICAgICAgbGluZS5hdHRyKFwieDFcIiwgcG9zKTtcbiAgICAgIGxpbmUuYXR0cihcInkyXCIsIGRlZmF1bHRQb3MpO1xuICAgICAgbGluZS5hdHRyKFwieDJcIiwgcG9zKTtcbiAgICB9XG4gICAgbGFuZXMucHVzaChwb3MpO1xuICAgIGNvbnN0IG5hbWUgPSBicmFuY2gyLm5hbWU7XG4gICAgY29uc3QgbGFiZWxFbGVtZW50ID0gZHJhd1RleHQobmFtZSk7XG4gICAgY29uc3QgYmtnID0gZy5pbnNlcnQoXCJyZWN0XCIpO1xuICAgIGNvbnN0IGJyYW5jaExhYmVsID0gZy5pbnNlcnQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImJyYW5jaExhYmVsXCIpO1xuICAgIGNvbnN0IGxhYmVsID0gYnJhbmNoTGFiZWwuaW5zZXJ0KFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJsYWJlbCBicmFuY2gtbGFiZWxcIiArIGFkanVzdEluZGV4Rm9yVGhlbWUpO1xuICAgIGxhYmVsLm5vZGUoKS5hcHBlbmRDaGlsZChsYWJlbEVsZW1lbnQpO1xuICAgIGNvbnN0IGJib3ggPSBsYWJlbEVsZW1lbnQuZ2V0QkJveCgpO1xuICAgIGJrZy5hdHRyKFwiY2xhc3NcIiwgXCJicmFuY2hMYWJlbEJrZyBsYWJlbFwiICsgYWRqdXN0SW5kZXhGb3JUaGVtZSkuYXR0cihcInJ4XCIsIDQpLmF0dHIoXCJyeVwiLCA0KS5hdHRyKFwieFwiLCAtYmJveC53aWR0aCAtIDQgLSAoREVGQVVMVF9HSVRHUkFQSF9DT05GSUcyPy5yb3RhdGVDb21taXRMYWJlbCA9PT0gdHJ1ZSA/IDMwIDogMCkpLmF0dHIoXCJ5XCIsIC1iYm94LmhlaWdodCAvIDIgKyA4KS5hdHRyKFwid2lkdGhcIiwgYmJveC53aWR0aCArIDE4KS5hdHRyKFwiaGVpZ2h0XCIsIGJib3guaGVpZ2h0ICsgNCk7XG4gICAgbGFiZWwuYXR0cihcbiAgICAgIFwidHJhbnNmb3JtXCIsXG4gICAgICBcInRyYW5zbGF0ZShcIiArICgtYmJveC53aWR0aCAtIDE0IC0gKERFRkFVTFRfR0lUR1JBUEhfQ09ORklHMj8ucm90YXRlQ29tbWl0TGFiZWwgPT09IHRydWUgPyAzMCA6IDApKSArIFwiLCBcIiArIChwb3MgLSBiYm94LmhlaWdodCAvIDIgLSAxKSArIFwiKVwiXG4gICAgKTtcbiAgICBpZiAoZGlyID09PSBcIlRCXCIpIHtcbiAgICAgIGJrZy5hdHRyKFwieFwiLCBwb3MgLSBiYm94LndpZHRoIC8gMiAtIDEwKS5hdHRyKFwieVwiLCAwKTtcbiAgICAgIGxhYmVsLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAocG9zIC0gYmJveC53aWR0aCAvIDIgLSA1KSArIFwiLCAwKVwiKTtcbiAgICB9IGVsc2UgaWYgKGRpciA9PT0gXCJCVFwiKSB7XG4gICAgICBia2cuYXR0cihcInhcIiwgcG9zIC0gYmJveC53aWR0aCAvIDIgLSAxMCkuYXR0cihcInlcIiwgbWF4UG9zKTtcbiAgICAgIGxhYmVsLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAocG9zIC0gYmJveC53aWR0aCAvIDIgLSA1KSArIFwiLCBcIiArIG1heFBvcyArIFwiKVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmtnLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoLTE5LCBcIiArIChwb3MgLSBiYm94LmhlaWdodCAvIDIpICsgXCIpXCIpO1xuICAgIH1cbiAgfSk7XG59LCBcImRyYXdCcmFuY2hlc1wiKTtcbnZhciBzZXRCcmFuY2hQb3NpdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24obmFtZSwgcG9zLCBpbmRleCwgYmJveCwgcm90YXRlQ29tbWl0TGFiZWwpIHtcbiAgYnJhbmNoUG9zLnNldChuYW1lLCB7IHBvcywgaW5kZXggfSk7XG4gIHBvcyArPSA1MCArIChyb3RhdGVDb21taXRMYWJlbCA/IDQwIDogMCkgKyAoZGlyID09PSBcIlRCXCIgfHwgZGlyID09PSBcIkJUXCIgPyBiYm94LndpZHRoIC8gMiA6IDApO1xuICByZXR1cm4gcG9zO1xufSwgXCJzZXRCcmFuY2hQb3NpdGlvblwiKTtcbnZhciBkcmF3ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbih0eHQsIGlkLCB2ZXIsIGRpYWdPYmopIHtcbiAgY2xlYXIzKCk7XG4gIGxvZy5kZWJ1ZyhcImluIGdpdGdyYXBoIHJlbmRlcmVyXCIsIHR4dCArIFwiXFxuXCIsIFwiaWQ6XCIsIGlkLCB2ZXIpO1xuICBpZiAoIURFRkFVTFRfR0lUR1JBUEhfQ09ORklHMikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkdpdEdyYXBoIGNvbmZpZyBub3QgZm91bmRcIik7XG4gIH1cbiAgY29uc3Qgcm90YXRlQ29tbWl0TGFiZWwgPSBERUZBVUxUX0dJVEdSQVBIX0NPTkZJRzIucm90YXRlQ29tbWl0TGFiZWwgPz8gZmFsc2U7XG4gIGNvbnN0IGRiMiA9IGRpYWdPYmouZGI7XG4gIGFsbENvbW1pdHNEaWN0ID0gZGIyLmdldENvbW1pdHMoKTtcbiAgY29uc3QgYnJhbmNoZXMgPSBkYjIuZ2V0QnJhbmNoZXNBc09iakFycmF5KCk7XG4gIGRpciA9IGRiMi5nZXREaXJlY3Rpb24oKTtcbiAgY29uc3QgZGlhZ3JhbTIgPSBzZWxlY3QoYFtpZD1cIiR7aWR9XCJdYCk7XG4gIGxldCBwb3MgPSAwO1xuICBicmFuY2hlcy5mb3JFYWNoKChicmFuY2gyLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGxhYmVsRWxlbWVudCA9IGRyYXdUZXh0KGJyYW5jaDIubmFtZSk7XG4gICAgY29uc3QgZyA9IGRpYWdyYW0yLmFwcGVuZChcImdcIik7XG4gICAgY29uc3QgYnJhbmNoTGFiZWwgPSBnLmluc2VydChcImdcIikuYXR0cihcImNsYXNzXCIsIFwiYnJhbmNoTGFiZWxcIik7XG4gICAgY29uc3QgbGFiZWwgPSBicmFuY2hMYWJlbC5pbnNlcnQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsIGJyYW5jaC1sYWJlbFwiKTtcbiAgICBsYWJlbC5ub2RlKCk/LmFwcGVuZENoaWxkKGxhYmVsRWxlbWVudCk7XG4gICAgY29uc3QgYmJveCA9IGxhYmVsRWxlbWVudC5nZXRCQm94KCk7XG4gICAgcG9zID0gc2V0QnJhbmNoUG9zaXRpb24oYnJhbmNoMi5uYW1lLCBwb3MsIGluZGV4LCBiYm94LCByb3RhdGVDb21taXRMYWJlbCk7XG4gICAgbGFiZWwucmVtb3ZlKCk7XG4gICAgYnJhbmNoTGFiZWwucmVtb3ZlKCk7XG4gICAgZy5yZW1vdmUoKTtcbiAgfSk7XG4gIGRyYXdDb21taXRzKGRpYWdyYW0yLCBhbGxDb21taXRzRGljdCwgZmFsc2UpO1xuICBpZiAoREVGQVVMVF9HSVRHUkFQSF9DT05GSUcyLnNob3dCcmFuY2hlcykge1xuICAgIGRyYXdCcmFuY2hlcyhkaWFncmFtMiwgYnJhbmNoZXMpO1xuICB9XG4gIGRyYXdBcnJvd3MoZGlhZ3JhbTIsIGFsbENvbW1pdHNEaWN0KTtcbiAgZHJhd0NvbW1pdHMoZGlhZ3JhbTIsIGFsbENvbW1pdHNEaWN0LCB0cnVlKTtcbiAgdXRpbHNfZGVmYXVsdC5pbnNlcnRUaXRsZShcbiAgICBkaWFncmFtMixcbiAgICBcImdpdFRpdGxlVGV4dFwiLFxuICAgIERFRkFVTFRfR0lUR1JBUEhfQ09ORklHMi50aXRsZVRvcE1hcmdpbiA/PyAwLFxuICAgIGRiMi5nZXREaWFncmFtVGl0bGUoKVxuICApO1xuICBzZXR1cEdyYXBoVmlld2JveChcbiAgICB2b2lkIDAsXG4gICAgZGlhZ3JhbTIsXG4gICAgREVGQVVMVF9HSVRHUkFQSF9DT05GSUcyLmRpYWdyYW1QYWRkaW5nLFxuICAgIERFRkFVTFRfR0lUR1JBUEhfQ09ORklHMi51c2VNYXhXaWR0aFxuICApO1xufSwgXCJkcmF3XCIpO1xudmFyIGdpdEdyYXBoUmVuZGVyZXJfZGVmYXVsdCA9IHtcbiAgZHJhd1xufTtcbmlmICh2b2lkIDApIHtcbiAgY29uc3QgeyBpdCwgZXhwZWN0LCBkZXNjcmliZSB9ID0gdm9pZCAwO1xuICBkZXNjcmliZShcImRyYXdUZXh0XCIsICgpID0+IHtcbiAgICBpdChcInNob3VsZCBkcmF3VGV4dFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdmdMYWJlbCA9IGRyYXdUZXh0KFwibWFpblwiKTtcbiAgICAgIGV4cGVjdChzdmdMYWJlbCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChzdmdMYWJlbC5jaGlsZHJlblswXS5pbm5lckhUTUwpLnRvQmUoXCJtYWluXCIpO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoXCJicmFuY2hQb3NpdGlvblwiLCAoKSA9PiB7XG4gICAgY29uc3QgYmJveCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgd2lkdGg6IDEwLFxuICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgIHRvcDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHRvSlNPTjogLyogQF9fUFVSRV9fICovIF9fbmFtZSgoKSA9PiBcIlwiLCBcInRvSlNPTlwiKVxuICAgIH07XG4gICAgaXQoXCJzaG91bGQgc2V0QnJhbmNoUG9zaXRpb25zIExSIHdpdGggdHdvIGJyYW5jaGVzXCIsICgpID0+IHtcbiAgICAgIGRpciA9IFwiTFJcIjtcbiAgICAgIGNvbnN0IHBvcyA9IHNldEJyYW5jaFBvc2l0aW9uKFwibWFpblwiLCAwLCAwLCBiYm94LCB0cnVlKTtcbiAgICAgIGV4cGVjdChwb3MpLnRvQmUoOTApO1xuICAgICAgZXhwZWN0KGJyYW5jaFBvcy5nZXQoXCJtYWluXCIpKS50b0VxdWFsKHsgcG9zOiAwLCBpbmRleDogMCB9KTtcbiAgICAgIGNvbnN0IHBvc05leHQgPSBzZXRCcmFuY2hQb3NpdGlvbihcImRldmVsb3BcIiwgcG9zLCAxLCBiYm94LCB0cnVlKTtcbiAgICAgIGV4cGVjdChwb3NOZXh0KS50b0JlKDE4MCk7XG4gICAgICBleHBlY3QoYnJhbmNoUG9zLmdldChcImRldmVsb3BcIikpLnRvRXF1YWwoeyBwb3MsIGluZGV4OiAxIH0pO1xuICAgIH0pO1xuICAgIGl0KFwic2hvdWxkIHNldEJyYW5jaFBvc2l0aW9ucyBUQiB3aXRoIHR3byBicmFuY2hlc1wiLCAoKSA9PiB7XG4gICAgICBkaXIgPSBcIlRCXCI7XG4gICAgICBiYm94LndpZHRoID0gMzQuOTkyMTg3NTtcbiAgICAgIGNvbnN0IHBvcyA9IHNldEJyYW5jaFBvc2l0aW9uKFwibWFpblwiLCAwLCAwLCBiYm94LCB0cnVlKTtcbiAgICAgIGV4cGVjdChwb3MpLnRvQmUoMTA3LjQ5NjA5Mzc1KTtcbiAgICAgIGV4cGVjdChicmFuY2hQb3MuZ2V0KFwibWFpblwiKSkudG9FcXVhbCh7IHBvczogMCwgaW5kZXg6IDAgfSk7XG4gICAgICBiYm94LndpZHRoID0gNTYuNDIxODc1O1xuICAgICAgY29uc3QgcG9zTmV4dCA9IHNldEJyYW5jaFBvc2l0aW9uKFwiZGV2ZWxvcFwiLCBwb3MsIDEsIGJib3gsIHRydWUpO1xuICAgICAgZXhwZWN0KHBvc05leHQpLnRvQmUoMjI1LjcwNzAzMTI1KTtcbiAgICAgIGV4cGVjdChicmFuY2hQb3MuZ2V0KFwiZGV2ZWxvcFwiKSkudG9FcXVhbCh7IHBvcywgaW5kZXg6IDEgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZShcImNvbW1pdFBvc2l0aW9uXCIsICgpID0+IHtcbiAgICBjb25zdCBjb21taXRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoW1xuICAgICAgW1xuICAgICAgICBcImNvbW1pdFplcm9cIixcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBcIlpFUk9cIixcbiAgICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgICAgICAgIHNlcTogMCxcbiAgICAgICAgICB0eXBlOiBjb21taXRUeXBlLk5PUk1BTCxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXSxcbiAgICAgICAgICBicmFuY2g6IFwibWFpblwiXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgIFwiY29tbWl0QVwiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IFwiQVwiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiXCIsXG4gICAgICAgICAgc2VxOiAxLFxuICAgICAgICAgIHR5cGU6IGNvbW1pdFR5cGUuTk9STUFMLFxuICAgICAgICAgIHRhZ3M6IFtdLFxuICAgICAgICAgIHBhcmVudHM6IFtcIlpFUk9cIl0sXG4gICAgICAgICAgYnJhbmNoOiBcImZlYXR1cmVcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcImNvbW1pdEJcIixcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBcIkJcIixcbiAgICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgICAgICAgIHNlcTogMixcbiAgICAgICAgICB0eXBlOiBjb21taXRUeXBlLk5PUk1BTCxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXCJBXCJdLFxuICAgICAgICAgIGJyYW5jaDogXCJmZWF0dXJlXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJjb21taXRNXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogXCJNXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJtZXJnZWQgYnJhbmNoIGZlYXR1cmUgaW50byBtYWluXCIsXG4gICAgICAgICAgc2VxOiAzLFxuICAgICAgICAgIHR5cGU6IGNvbW1pdFR5cGUuTUVSR0UsXG4gICAgICAgICAgdGFnczogW10sXG4gICAgICAgICAgcGFyZW50czogW1wiWkVST1wiLCBcIkJcIl0sXG4gICAgICAgICAgYnJhbmNoOiBcIm1haW5cIixcbiAgICAgICAgICBjdXN0b21JZDogdHJ1ZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcImNvbW1pdENcIixcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBcIkNcIixcbiAgICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgICAgICAgIHNlcTogNCxcbiAgICAgICAgICB0eXBlOiBjb21taXRUeXBlLk5PUk1BTCxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXCJaRVJPXCJdLFxuICAgICAgICAgIGJyYW5jaDogXCJyZWxlYXNlXCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJjb21taXQ1Xzg5MjhlYTBcIixcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBcIjUtODkyOGVhMFwiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiY2hlcnJ5LXBpY2tlZCBbb2JqZWN0IE9iamVjdF0gaW50byByZWxlYXNlXCIsXG4gICAgICAgICAgc2VxOiA1LFxuICAgICAgICAgIHR5cGU6IGNvbW1pdFR5cGUuQ0hFUlJZX1BJQ0ssXG4gICAgICAgICAgdGFnczogW10sXG4gICAgICAgICAgcGFyZW50czogW1wiQ1wiLCBcIk1cIl0sXG4gICAgICAgICAgYnJhbmNoOiBcInJlbGVhc2VcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcImNvbW1pdERcIixcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBcIkRcIixcbiAgICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgICAgICAgIHNlcTogNixcbiAgICAgICAgICB0eXBlOiBjb21taXRUeXBlLk5PUk1BTCxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXCI1LTg5MjhlYTBcIl0sXG4gICAgICAgICAgYnJhbmNoOiBcInJlbGVhc2VcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcImNvbW1pdDdfZWQ4NDhiYVwiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IFwiNy1lZDg0OGJhXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJjaGVycnktcGlja2VkIFtvYmplY3QgT2JqZWN0XSBpbnRvIHJlbGVhc2VcIixcbiAgICAgICAgICBzZXE6IDcsXG4gICAgICAgICAgdHlwZTogY29tbWl0VHlwZS5DSEVSUllfUElDSyxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXCJEXCIsIFwiTVwiXSxcbiAgICAgICAgICBicmFuY2g6IFwicmVsZWFzZVwiXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICBdKTtcbiAgICBsZXQgcG9zID0gMDtcbiAgICBicmFuY2hQb3Muc2V0KFwibWFpblwiLCB7IHBvczogMCwgaW5kZXg6IDAgfSk7XG4gICAgYnJhbmNoUG9zLnNldChcImZlYXR1cmVcIiwgeyBwb3M6IDEwNy40OTYwOTM3NSwgaW5kZXg6IDEgfSk7XG4gICAgYnJhbmNoUG9zLnNldChcInJlbGVhc2VcIiwgeyBwb3M6IDIyNC4wMzUxNTYyNSwgaW5kZXg6IDIgfSk7XG4gICAgZGVzY3JpYmUoXCJUQlwiLCAoKSA9PiB7XG4gICAgICBwb3MgPSAzMDtcbiAgICAgIGRpciA9IFwiVEJcIjtcbiAgICAgIGNvbnN0IGV4cGVjdGVkQ29tbWl0UG9zaXRpb25UQiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKFtcbiAgICAgICAgW1wiY29tbWl0WmVyb1wiLCB7IHg6IDAsIHk6IDQwLCBwb3NXaXRoT2Zmc2V0OiA0MCB9XSxcbiAgICAgICAgW1wiY29tbWl0QVwiLCB7IHg6IDEwNy40OTYwOTM3NSwgeTogOTAsIHBvc1dpdGhPZmZzZXQ6IDkwIH1dLFxuICAgICAgICBbXCJjb21taXRCXCIsIHsgeDogMTA3LjQ5NjA5Mzc1LCB5OiAxNDAsIHBvc1dpdGhPZmZzZXQ6IDE0MCB9XSxcbiAgICAgICAgW1wiY29tbWl0TVwiLCB7IHg6IDAsIHk6IDE5MCwgcG9zV2l0aE9mZnNldDogMTkwIH1dLFxuICAgICAgICBbXCJjb21taXRDXCIsIHsgeDogMjI0LjAzNTE1NjI1LCB5OiAyNDAsIHBvc1dpdGhPZmZzZXQ6IDI0MCB9XSxcbiAgICAgICAgW1wiY29tbWl0NV84OTI4ZWEwXCIsIHsgeDogMjI0LjAzNTE1NjI1LCB5OiAyOTAsIHBvc1dpdGhPZmZzZXQ6IDI5MCB9XSxcbiAgICAgICAgW1wiY29tbWl0RFwiLCB7IHg6IDIyNC4wMzUxNTYyNSwgeTogMzQwLCBwb3NXaXRoT2Zmc2V0OiAzNDAgfV0sXG4gICAgICAgIFtcImNvbW1pdDdfZWQ4NDhiYVwiLCB7IHg6IDIyNC4wMzUxNTYyNSwgeTogMzkwLCBwb3NXaXRoT2Zmc2V0OiAzOTAgfV1cbiAgICAgIF0pO1xuICAgICAgY29tbWl0cy5mb3JFYWNoKChjb21taXQyLCBrZXkpID0+IHtcbiAgICAgICAgaXQoYHNob3VsZCBnaXZlIHRoZSBjb3JyZWN0IHBvc2l0aW9uIGZvciBjb21taXQgJHtrZXl9YCwgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0Q29tbWl0UG9zaXRpb24oY29tbWl0MiwgcG9zLCBmYWxzZSk7XG4gICAgICAgICAgZXhwZWN0KHBvc2l0aW9uKS50b0VxdWFsKGV4cGVjdGVkQ29tbWl0UG9zaXRpb25UQi5nZXQoa2V5KSk7XG4gICAgICAgICAgcG9zICs9IDUwO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKFwiTFJcIiwgKCkgPT4ge1xuICAgICAgbGV0IHBvczIgPSAzMDtcbiAgICAgIGRpciA9IFwiTFJcIjtcbiAgICAgIGNvbnN0IGV4cGVjdGVkQ29tbWl0UG9zaXRpb25MUiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKFtcbiAgICAgICAgW1wiY29tbWl0WmVyb1wiLCB7IHg6IDAsIHk6IDQwLCBwb3NXaXRoT2Zmc2V0OiA0MCB9XSxcbiAgICAgICAgW1wiY29tbWl0QVwiLCB7IHg6IDEwNy40OTYwOTM3NSwgeTogOTAsIHBvc1dpdGhPZmZzZXQ6IDkwIH1dLFxuICAgICAgICBbXCJjb21taXRCXCIsIHsgeDogMTA3LjQ5NjA5Mzc1LCB5OiAxNDAsIHBvc1dpdGhPZmZzZXQ6IDE0MCB9XSxcbiAgICAgICAgW1wiY29tbWl0TVwiLCB7IHg6IDAsIHk6IDE5MCwgcG9zV2l0aE9mZnNldDogMTkwIH1dLFxuICAgICAgICBbXCJjb21taXRDXCIsIHsgeDogMjI0LjAzNTE1NjI1LCB5OiAyNDAsIHBvc1dpdGhPZmZzZXQ6IDI0MCB9XSxcbiAgICAgICAgW1wiY29tbWl0NV84OTI4ZWEwXCIsIHsgeDogMjI0LjAzNTE1NjI1LCB5OiAyOTAsIHBvc1dpdGhPZmZzZXQ6IDI5MCB9XSxcbiAgICAgICAgW1wiY29tbWl0RFwiLCB7IHg6IDIyNC4wMzUxNTYyNSwgeTogMzQwLCBwb3NXaXRoT2Zmc2V0OiAzNDAgfV0sXG4gICAgICAgIFtcImNvbW1pdDdfZWQ4NDhiYVwiLCB7IHg6IDIyNC4wMzUxNTYyNSwgeTogMzkwLCBwb3NXaXRoT2Zmc2V0OiAzOTAgfV1cbiAgICAgIF0pO1xuICAgICAgY29tbWl0cy5mb3JFYWNoKChjb21taXQyLCBrZXkpID0+IHtcbiAgICAgICAgaXQoYHNob3VsZCBnaXZlIHRoZSBjb3JyZWN0IHBvc2l0aW9uIGZvciBjb21taXQgJHtrZXl9YCwgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0Q29tbWl0UG9zaXRpb24oY29tbWl0MiwgcG9zMiwgZmFsc2UpO1xuICAgICAgICAgIGV4cGVjdChwb3NpdGlvbikudG9FcXVhbChleHBlY3RlZENvbW1pdFBvc2l0aW9uTFIuZ2V0KGtleSkpO1xuICAgICAgICAgIHBvczIgKz0gNTA7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZGVzY3JpYmUoXCJnZXRDb21taXRDbGFzc1R5cGVcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgZXhwZWN0ZWRDb21taXRDbGFzc1R5cGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcChbXG4gICAgICAgIFtcImNvbW1pdFplcm9cIiwgXCJjb21taXQtbm9ybWFsXCJdLFxuICAgICAgICBbXCJjb21taXRBXCIsIFwiY29tbWl0LW5vcm1hbFwiXSxcbiAgICAgICAgW1wiY29tbWl0QlwiLCBcImNvbW1pdC1ub3JtYWxcIl0sXG4gICAgICAgIFtcImNvbW1pdE1cIiwgXCJjb21taXQtbWVyZ2VcIl0sXG4gICAgICAgIFtcImNvbW1pdENcIiwgXCJjb21taXQtbm9ybWFsXCJdLFxuICAgICAgICBbXCJjb21taXQ1Xzg5MjhlYTBcIiwgXCJjb21taXQtY2hlcnJ5LXBpY2tcIl0sXG4gICAgICAgIFtcImNvbW1pdERcIiwgXCJjb21taXQtbm9ybWFsXCJdLFxuICAgICAgICBbXCJjb21taXQ3X2VkODQ4YmFcIiwgXCJjb21taXQtY2hlcnJ5LXBpY2tcIl1cbiAgICAgIF0pO1xuICAgICAgY29tbWl0cy5mb3JFYWNoKChjb21taXQyLCBrZXkpID0+IHtcbiAgICAgICAgaXQoYHNob3VsZCBnaXZlIHRoZSBjb3JyZWN0IGNsYXNzIHR5cGUgZm9yIGNvbW1pdCAke2tleX1gLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgY2xhc3NUeXBlID0gZ2V0Q29tbWl0Q2xhc3NUeXBlKGNvbW1pdDIpO1xuICAgICAgICAgIGV4cGVjdChjbGFzc1R5cGUpLnRvQmUoZXhwZWN0ZWRDb21taXRDbGFzc1R5cGUuZ2V0KGtleSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoXCJidWlsZGluZyBCVCBwYXJhbGxlbCBjb21taXQgZGlhZ3JhbVwiLCAoKSA9PiB7XG4gICAgY29uc3QgY29tbWl0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKFtcbiAgICAgIFtcbiAgICAgICAgXCIxLWFiY2RlZmdcIixcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBcIjEtYWJjZGVmZ1wiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiXCIsXG4gICAgICAgICAgc2VxOiAwLFxuICAgICAgICAgIHR5cGU6IDAsXG4gICAgICAgICAgdGFnczogW10sXG4gICAgICAgICAgcGFyZW50czogW10sXG4gICAgICAgICAgYnJhbmNoOiBcIm1haW5cIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcIjItYWJjZGVmZ1wiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IFwiMi1hYmNkZWZnXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgICAgICBzZXE6IDEsXG4gICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXCIxLWFiY2RlZmdcIl0sXG4gICAgICAgICAgYnJhbmNoOiBcIm1haW5cIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcIjMtYWJjZGVmZ1wiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IFwiMy1hYmNkZWZnXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgICAgICBzZXE6IDIsXG4gICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXCIyLWFiY2RlZmdcIl0sXG4gICAgICAgICAgYnJhbmNoOiBcImRldmVsb3BcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcIjQtYWJjZGVmZ1wiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IFwiNC1hYmNkZWZnXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgICAgICBzZXE6IDMsXG4gICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXCIzLWFiY2RlZmdcIl0sXG4gICAgICAgICAgYnJhbmNoOiBcImRldmVsb3BcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcIjUtYWJjZGVmZ1wiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IFwiNS1hYmNkZWZnXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgICAgICBzZXE6IDQsXG4gICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXCIyLWFiY2RlZmdcIl0sXG4gICAgICAgICAgYnJhbmNoOiBcImZlYXR1cmVcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcIjYtYWJjZGVmZ1wiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IFwiNi1hYmNkZWZnXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgICAgICBzZXE6IDUsXG4gICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXCI1LWFiY2RlZmdcIl0sXG4gICAgICAgICAgYnJhbmNoOiBcImZlYXR1cmVcIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcIjctYWJjZGVmZ1wiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IFwiNy1hYmNkZWZnXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgICAgICBzZXE6IDYsXG4gICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXCIyLWFiY2RlZmdcIl0sXG4gICAgICAgICAgYnJhbmNoOiBcIm1haW5cIlxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcIjgtYWJjZGVmZ1wiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IFwiOC1hYmNkZWZnXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJcIixcbiAgICAgICAgICBzZXE6IDcsXG4gICAgICAgICAgdHlwZTogMCxcbiAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICBwYXJlbnRzOiBbXCI3LWFiY2RlZmdcIl0sXG4gICAgICAgICAgYnJhbmNoOiBcIm1haW5cIlxuICAgICAgICB9XG4gICAgICBdXG4gICAgXSk7XG4gICAgY29uc3QgZXhwZWN0ZWRDb21taXRQb3NpdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKFtcbiAgICAgIFtcIjEtYWJjZGVmZ1wiLCB7IHg6IDAsIHk6IDQwIH1dLFxuICAgICAgW1wiMi1hYmNkZWZnXCIsIHsgeDogMCwgeTogOTAgfV0sXG4gICAgICBbXCIzLWFiY2RlZmdcIiwgeyB4OiAxMDcuNDk2MDkzNzUsIHk6IDE0MCB9XSxcbiAgICAgIFtcIjQtYWJjZGVmZ1wiLCB7IHg6IDEwNy40OTYwOTM3NSwgeTogMTkwIH1dLFxuICAgICAgW1wiNS1hYmNkZWZnXCIsIHsgeDogMjI1LjcwNzAzMTI1LCB5OiAxNDAgfV0sXG4gICAgICBbXCI2LWFiY2RlZmdcIiwgeyB4OiAyMjUuNzA3MDMxMjUsIHk6IDE5MCB9XSxcbiAgICAgIFtcIjctYWJjZGVmZ1wiLCB7IHg6IDAsIHk6IDE0MCB9XSxcbiAgICAgIFtcIjgtYWJjZGVmZ1wiLCB7IHg6IDAsIHk6IDE5MCB9XVxuICAgIF0pO1xuICAgIGNvbnN0IGV4cGVjdGVkQ29tbWl0UG9zaXRpb25BZnRlclBhcmFsbGVsID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoW1xuICAgICAgW1wiMS1hYmNkZWZnXCIsIHsgeDogMCwgeTogMjEwIH1dLFxuICAgICAgW1wiMi1hYmNkZWZnXCIsIHsgeDogMCwgeTogMTYwIH1dLFxuICAgICAgW1wiMy1hYmNkZWZnXCIsIHsgeDogMTA3LjQ5NjA5Mzc1LCB5OiAxMTAgfV0sXG4gICAgICBbXCI0LWFiY2RlZmdcIiwgeyB4OiAxMDcuNDk2MDkzNzUsIHk6IDYwIH1dLFxuICAgICAgW1wiNS1hYmNkZWZnXCIsIHsgeDogMjI1LjcwNzAzMTI1LCB5OiAxMTAgfV0sXG4gICAgICBbXCI2LWFiY2RlZmdcIiwgeyB4OiAyMjUuNzA3MDMxMjUsIHk6IDYwIH1dLFxuICAgICAgW1wiNy1hYmNkZWZnXCIsIHsgeDogMCwgeTogMTEwIH1dLFxuICAgICAgW1wiOC1hYmNkZWZnXCIsIHsgeDogMCwgeTogNjAgfV1cbiAgICBdKTtcbiAgICBjb25zdCBleHBlY3RlZENvbW1pdEN1cnJlbnRQb3NpdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKFtcbiAgICAgIFtcIjEtYWJjZGVmZ1wiLCAzMF0sXG4gICAgICBbXCIyLWFiY2RlZmdcIiwgODBdLFxuICAgICAgW1wiMy1hYmNkZWZnXCIsIDEzMF0sXG4gICAgICBbXCI0LWFiY2RlZmdcIiwgMTgwXSxcbiAgICAgIFtcIjUtYWJjZGVmZ1wiLCAxMzBdLFxuICAgICAgW1wiNi1hYmNkZWZnXCIsIDE4MF0sXG4gICAgICBbXCI3LWFiY2RlZmdcIiwgMTMwXSxcbiAgICAgIFtcIjgtYWJjZGVmZ1wiLCAxODBdXG4gICAgXSk7XG4gICAgY29uc3Qgc29ydGVkS2V5cyA9IFsuLi5leHBlY3RlZENvbW1pdFBvc2l0aW9uLmtleXMoKV07XG4gICAgaXQoXCJzaG91bGQgZ2V0IHRoZSBjb3JyZWN0IGNvbW1pdCBwb3NpdGlvbiBhbmQgY3VycmVudCBwb3NpdGlvblwiLCAoKSA9PiB7XG4gICAgICBkaXIgPSBcIkJUXCI7XG4gICAgICBsZXQgY3VyUG9zID0gMzA7XG4gICAgICBjb21taXRQb3MuY2xlYXIoKTtcbiAgICAgIGJyYW5jaFBvcy5jbGVhcigpO1xuICAgICAgYnJhbmNoUG9zLnNldChcIm1haW5cIiwgeyBwb3M6IDAsIGluZGV4OiAwIH0pO1xuICAgICAgYnJhbmNoUG9zLnNldChcImRldmVsb3BcIiwgeyBwb3M6IDEwNy40OTYwOTM3NSwgaW5kZXg6IDEgfSk7XG4gICAgICBicmFuY2hQb3Muc2V0KFwiZmVhdHVyZVwiLCB7IHBvczogMjI1LjcwNzAzMTI1LCBpbmRleDogMiB9KTtcbiAgICAgIERFRkFVTFRfR0lUR1JBUEhfQ09ORklHMi5wYXJhbGxlbENvbW1pdHMgPSB0cnVlO1xuICAgICAgY29tbWl0cy5mb3JFYWNoKChjb21taXQyLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKGNvbW1pdDIucGFyZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY3VyUG9zID0gY2FsY3VsYXRlQ29tbWl0UG9zaXRpb24oY29tbWl0Mik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBzZXRDb21taXRQb3NpdGlvbihjb21taXQyLCBjdXJQb3MpO1xuICAgICAgICBleHBlY3QocG9zaXRpb24pLnRvRXF1YWwoZXhwZWN0ZWRDb21taXRQb3NpdGlvbi5nZXQoa2V5KSk7XG4gICAgICAgIGV4cGVjdChjdXJQb3MpLnRvRXF1YWwoZXhwZWN0ZWRDb21taXRDdXJyZW50UG9zaXRpb24uZ2V0KGtleSkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXQoXCJzaG91bGQgZ2V0IHRoZSBjb3JyZWN0IGNvbW1pdCBwb3NpdGlvbiBhZnRlciBwYXJhbGxlbCBjb21taXRzXCIsICgpID0+IHtcbiAgICAgIGNvbW1pdFBvcy5jbGVhcigpO1xuICAgICAgYnJhbmNoUG9zLmNsZWFyKCk7XG4gICAgICBkaXIgPSBcIkJUXCI7XG4gICAgICBjb25zdCBjdXJQb3MgPSAzMDtcbiAgICAgIGNvbW1pdFBvcy5jbGVhcigpO1xuICAgICAgYnJhbmNoUG9zLmNsZWFyKCk7XG4gICAgICBicmFuY2hQb3Muc2V0KFwibWFpblwiLCB7IHBvczogMCwgaW5kZXg6IDAgfSk7XG4gICAgICBicmFuY2hQb3Muc2V0KFwiZGV2ZWxvcFwiLCB7IHBvczogMTA3LjQ5NjA5Mzc1LCBpbmRleDogMSB9KTtcbiAgICAgIGJyYW5jaFBvcy5zZXQoXCJmZWF0dXJlXCIsIHsgcG9zOiAyMjUuNzA3MDMxMjUsIGluZGV4OiAyIH0pO1xuICAgICAgc2V0UGFyYWxsZWxCVFBvcyhzb3J0ZWRLZXlzLCBjb21taXRzLCBjdXJQb3MpO1xuICAgICAgc29ydGVkS2V5cy5mb3JFYWNoKChjb21taXQyKSA9PiB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gY29tbWl0UG9zLmdldChjb21taXQyKTtcbiAgICAgICAgZXhwZWN0KHBvc2l0aW9uKS50b0VxdWFsKGV4cGVjdGVkQ29tbWl0UG9zaXRpb25BZnRlclBhcmFsbGVsLmdldChjb21taXQyKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIERFRkFVTFRfR0lUR1JBUEhfQ09ORklHMi5wYXJhbGxlbENvbW1pdHMgPSBmYWxzZTtcbiAgaXQoXCJhZGRcIiwgKCkgPT4ge1xuICAgIGNvbW1pdFBvcy5zZXQoXCJwYXJlbnQxXCIsIHsgeDogMSwgeTogMSB9KTtcbiAgICBjb21taXRQb3Muc2V0KFwicGFyZW50MlwiLCB7IHg6IDIsIHk6IDIgfSk7XG4gICAgY29tbWl0UG9zLnNldChcInBhcmVudDNcIiwgeyB4OiAzLCB5OiAzIH0pO1xuICAgIGRpciA9IFwiTFJcIjtcbiAgICBjb25zdCBwYXJlbnRzID0gW1wicGFyZW50MVwiLCBcInBhcmVudDJcIiwgXCJwYXJlbnQzXCJdO1xuICAgIGNvbnN0IGNsb3Nlc3RQYXJlbnQgPSBmaW5kQ2xvc2VzdFBhcmVudChwYXJlbnRzKTtcbiAgICBleHBlY3QoY2xvc2VzdFBhcmVudCkudG9CZShcInBhcmVudDNcIik7XG4gICAgY29tbWl0UG9zLmNsZWFyKCk7XG4gIH0pO1xufVxuXG4vLyBzcmMvZGlhZ3JhbXMvZ2l0L3N0eWxlcy5qc1xudmFyIGdldFN0eWxlcyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG9wdGlvbnMpID0+IGBcbiAgLmNvbW1pdC1pZCxcbiAgLmNvbW1pdC1tc2csXG4gIC5icmFuY2gtbGFiZWwge1xuICAgIGZpbGw6IGxpZ2h0Z3JleTtcbiAgICBjb2xvcjogbGlnaHRncmV5O1xuICAgIGZvbnQtZmFtaWx5OiAndHJlYnVjaGV0IG1zJywgdmVyZGFuYSwgYXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgZm9udC1mYW1pbHk6IHZhcigtLW1lcm1haWQtZm9udC1mYW1pbHkpO1xuICB9XG4gICR7WzAsIDEsIDIsIDMsIDQsIDUsIDYsIDddLm1hcChcbiAgKGkpID0+IGBcbiAgICAgICAgLmJyYW5jaC1sYWJlbCR7aX0geyBmaWxsOiAke29wdGlvbnNbXCJnaXRCcmFuY2hMYWJlbFwiICsgaV19OyB9XG4gICAgICAgIC5jb21taXQke2l9IHsgc3Ryb2tlOiAke29wdGlvbnNbXCJnaXRcIiArIGldfTsgZmlsbDogJHtvcHRpb25zW1wiZ2l0XCIgKyBpXX07IH1cbiAgICAgICAgLmNvbW1pdC1oaWdobGlnaHQke2l9IHsgc3Ryb2tlOiAke29wdGlvbnNbXCJnaXRJbnZcIiArIGldfTsgZmlsbDogJHtvcHRpb25zW1wiZ2l0SW52XCIgKyBpXX07IH1cbiAgICAgICAgLmxhYmVsJHtpfSAgeyBmaWxsOiAke29wdGlvbnNbXCJnaXRcIiArIGldfTsgfVxuICAgICAgICAuYXJyb3cke2l9IHsgc3Ryb2tlOiAke29wdGlvbnNbXCJnaXRcIiArIGldfTsgfVxuICAgICAgICBgXG4pLmpvaW4oXCJcXG5cIil9XG5cbiAgLmJyYW5jaCB7XG4gICAgc3Ryb2tlLXdpZHRoOiAxO1xuICAgIHN0cm9rZTogJHtvcHRpb25zLmxpbmVDb2xvcn07XG4gICAgc3Ryb2tlLWRhc2hhcnJheTogMjtcbiAgfVxuICAuY29tbWl0LWxhYmVsIHsgZm9udC1zaXplOiAke29wdGlvbnMuY29tbWl0TGFiZWxGb250U2l6ZX07IGZpbGw6ICR7b3B0aW9ucy5jb21taXRMYWJlbENvbG9yfTt9XG4gIC5jb21taXQtbGFiZWwtYmtnIHsgZm9udC1zaXplOiAke29wdGlvbnMuY29tbWl0TGFiZWxGb250U2l6ZX07IGZpbGw6ICR7b3B0aW9ucy5jb21taXRMYWJlbEJhY2tncm91bmR9OyBvcGFjaXR5OiAwLjU7IH1cbiAgLnRhZy1sYWJlbCB7IGZvbnQtc2l6ZTogJHtvcHRpb25zLnRhZ0xhYmVsRm9udFNpemV9OyBmaWxsOiAke29wdGlvbnMudGFnTGFiZWxDb2xvcn07fVxuICAudGFnLWxhYmVsLWJrZyB7IGZpbGw6ICR7b3B0aW9ucy50YWdMYWJlbEJhY2tncm91bmR9OyBzdHJva2U6ICR7b3B0aW9ucy50YWdMYWJlbEJvcmRlcn07IH1cbiAgLnRhZy1ob2xlIHsgZmlsbDogJHtvcHRpb25zLnRleHRDb2xvcn07IH1cblxuICAuY29tbWl0LW1lcmdlIHtcbiAgICBzdHJva2U6ICR7b3B0aW9ucy5wcmltYXJ5Q29sb3J9O1xuICAgIGZpbGw6ICR7b3B0aW9ucy5wcmltYXJ5Q29sb3J9O1xuICB9XG4gIC5jb21taXQtcmV2ZXJzZSB7XG4gICAgc3Ryb2tlOiAke29wdGlvbnMucHJpbWFyeUNvbG9yfTtcbiAgICBmaWxsOiAke29wdGlvbnMucHJpbWFyeUNvbG9yfTtcbiAgICBzdHJva2Utd2lkdGg6IDM7XG4gIH1cbiAgLmNvbW1pdC1oaWdobGlnaHQtb3V0ZXIge1xuICB9XG4gIC5jb21taXQtaGlnaGxpZ2h0LWlubmVyIHtcbiAgICBzdHJva2U6ICR7b3B0aW9ucy5wcmltYXJ5Q29sb3J9O1xuICAgIGZpbGw6ICR7b3B0aW9ucy5wcmltYXJ5Q29sb3J9O1xuICB9XG5cbiAgLmFycm93IHsgc3Ryb2tlLXdpZHRoOiA4OyBzdHJva2UtbGluZWNhcDogcm91bmQ7IGZpbGw6IG5vbmV9XG4gIC5naXRUaXRsZVRleHQge1xuICAgIHRleHQtYW5jaG9yOiBtaWRkbGU7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIGZpbGw6ICR7b3B0aW9ucy50ZXh0Q29sb3J9O1xuICB9XG5gLCBcImdldFN0eWxlc1wiKTtcbnZhciBzdHlsZXNfZGVmYXVsdCA9IGdldFN0eWxlcztcblxuLy8gc3JjL2RpYWdyYW1zL2dpdC9naXRHcmFwaERpYWdyYW0udHNcbnZhciBkaWFncmFtID0ge1xuICBwYXJzZXIsXG4gIGRiLFxuICByZW5kZXJlcjogZ2l0R3JhcGhSZW5kZXJlcl9kZWZhdWx0LFxuICBzdHlsZXM6IHN0eWxlc19kZWZhdWx0XG59O1xuZXhwb3J0IHtcbiAgZGlhZ3JhbVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mermaid/dist/chunks/mermaid.core/gitGraphDiagram-NRZ2UAAF.mjs\n");

/***/ })

}]);